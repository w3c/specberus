
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta charset="utf-8"><meta name="generator" content="ReSpec 20.6.0"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><style>/* --- EXAMPLES --- */
div.example-title {
    min-width: 7.5em;
    color: #b9ab2d;
}
div.example-title span {
    text-transform: uppercase;
}
aside.example, div.example, div.illegal-example {
    padding: 0.5em;
    margin: 1em 0;
    position: relative;
    clear: both;
}
div.illegal-example { color: red }
div.illegal-example p { color: black }
aside.example, div.example {
    padding: .5em;
    border-left-width: .5em;
    border-left-style: solid;
    border-color: #e0cb52;
    background: #fcfaee;
}

aside.example div.example {
    border-left-width: .1em;
    border-color: #999;
    background: #fff;
}
aside.example div.example div.example-title {
    color: #999;
}
</style><style>/* --- ISSUES/NOTES --- */
div.issue-title, div.note-title , div.ednote-title, div.warning-title {
    padding-right:  1em;
    min-width: 7.5em;
    color: #b9ab2d;
}
div.issue-title { color: #e05252; }
div.note-title, div.ednote-title { color: #2b2; }
div.warning-title { color: #f22; }
div.issue-title span, div.note-title span, div.ednote-title span, div.warning-title span {
    text-transform: uppercase;
}
div.note, div.issue, div.ednote, div.warning {
    margin-top: 1em;
    margin-bottom: 1em;
}
.note > p:first-child, .ednote > p:first-child, .issue > p:first-child, .warning > p:first-child { margin-top: 0 }
.issue, .note, .ednote, .warning {
    padding: .5em;
    border-left-width: .5em;
    border-left-style: solid;
}
div.issue, div.note , div.ednote,  div.warning {
    padding: 1em 1.2em 0.5em;
    margin: 1em 0;
    position: relative;
    clear: both;
}
span.note, span.ednote, span.issue, span.warning { padding: .1em .5em .15em; }

.issue {
    border-color: #e05252;
    background: #fbe9e9;
}
.note, .ednote {
    border-color: #52e052;
    background: #e9fbe9;
}

.warning {
    border-color: #f11;
    border-width: .2em;
    border-style: solid;
    background: #fbe9e9;
}

.warning-title:before{
    content: "⚠"; /*U+26A0 WARNING SIGN*/
    font-size: 3em;
    float: left;
    height: 100%;
    padding-right: .3em;
    vertical-align: top;
    margin-top: -0.5em;
}

li.task-list-item {
    list-style: none;
}

input.task-list-item-checkbox {
    margin: 0 0.35em 0.25em -1.6em;
    vertical-align: middle;
}

.issue a.respec-gh-label {
  padding: 5px;
  margin: 0 2px 0 2px;
  font-size: 10px;
  text-transform: none;
  text-decoration: none;
  font-weight: bold;
  border-radius: 4px;
  position: relative;
  bottom: 2px;
}

.issue a.respec-label-dark {
  color: #fff;
  background-color: #000;
}

.issue a.respec-label-light {
  color: #000;
  background-color: #fff;
}
</style>
    
    <title>Web of Things (WoT) Protocol Binding Templates</title>
    
    
  <style id="respec-mainstyle">/*****************************************************************
 * ReSpec 3 CSS
 * Robin Berjon - http://berjon.com/
 *****************************************************************/

/* Override code highlighter background */
.hljs {
  background: transparent !important;
}

/* --- INLINES --- */
h1 abbr,
h2 abbr,
h3 abbr,
h4 abbr,
h5 abbr,
h6 abbr,
a abbr {
  border: none;
}

dfn {
  font-weight: bold;
}

a.internalDFN {
  color: inherit;
  border-bottom: 1px solid #99c;
  text-decoration: none;
}

a.externalDFN {
  color: inherit;
  border-bottom: 1px dotted #ccc;
  text-decoration: none;
}

a.bibref {
  text-decoration: none;
}

cite .bibref {
  font-style: normal;
}

code {
  color: #c83500;
}

th code {
  color: inherit;
}

/* --- TOC --- */

.toc a,
.tof a {
  text-decoration: none;
}

a .secno,
a .figno {
  color: #000;
}

ul.tof,
ol.tof {
  list-style: none outside none;
}

.caption {
  margin-top: 0.5em;
  font-style: italic;
}

/* --- TABLE --- */

table.simple {
  border-spacing: 0;
  border-collapse: collapse;
  border-bottom: 3px solid #005a9c;
}

.simple th {
  background: #005a9c;
  color: #fff;
  padding: 3px 5px;
  text-align: left;
}

.simple th[scope="row"] {
  background: inherit;
  color: inherit;
  border-top: 1px solid #ddd;
}

.simple td {
  padding: 3px 10px;
  border-top: 1px solid #ddd;
}

.simple tr:nth-child(even) {
  background: #f0f6ff;
}

/* --- DL --- */

.section dd > p:first-child {
  margin-top: 0;
}

.section dd > p:last-child {
  margin-bottom: 0;
}

.section dd {
  margin-bottom: 1em;
}

.section dl.attrs dd,
.section dl.eldef dd {
  margin-bottom: 0;
}

#issue-summary > ul,
.respec-dfn-list {
  column-count: 2;
}

#issue-summary li,
.respec-dfn-list li {
  list-style: none;
}

details.respec-tests-details {
  margin-left: 1em;
  display: inline-block;
  vertical-align: top;
}

details.respec-tests-details > * {
  padding-right: 2em;
}

details.respec-tests-details[open] {
  z-index: 999999;
  position: absolute;
  border: thin solid #cad3e2;
  border-radius: .3em;
  background-color: white;
  padding-bottom: .5em;
}

details.respec-tests-details[open] > summary {
  border-bottom: thin solid #cad3e2;
  padding-left: 1em;
  margin-bottom: 1em;
  line-height: 2em;
}

details.respec-tests-details > ul {
  width: 100%;
  margin-top: -0.3em;
}

details.respec-tests-details > li {
  padding-left: 1em;
}

@media print {
  .removeOnSave {
    display: none;
  }
}
</style><style>/*

github.com style (c) Vasily Polovnyov <vast@whiteants.net>

*/

.hljs {
  display: block;
  overflow-x: auto;
  padding: 0.5em;
  color: #333;
  background: #f8f8f8;
}

.hljs-comment,
.hljs-quote {
  color: #998;
  font-style: italic;
}

.hljs-keyword,
.hljs-selector-tag,
.hljs-subst {
  color: #333;
  font-weight: bold;
}

.hljs-number,
.hljs-literal,
.hljs-variable,
.hljs-template-variable,
.hljs-tag .hljs-attr {
  color: #008080;
}

.hljs-string,
.hljs-doctag {
  color: #d14;
}

.hljs-title,
.hljs-section,
.hljs-selector-id {
  color: #900;
  font-weight: bold;
}

.hljs-subst {
  font-weight: normal;
}

.hljs-type,
.hljs-class .hljs-title {
  color: #458;
  font-weight: bold;
}

.hljs-tag,
.hljs-name,
.hljs-attribute {
  color: #000080;
  font-weight: normal;
}

.hljs-regexp,
.hljs-link {
  color: #009926;
}

.hljs-symbol,
.hljs-bullet {
  color: #990073;
}

.hljs-built_in,
.hljs-builtin-name {
  color: #0086b3;
}

.hljs-meta {
  color: #999;
  font-weight: bold;
}

.hljs-deletion {
  background: #fdd;
}

.hljs-addition {
  background: #dfd;
}

.hljs-emphasis {
  font-style: italic;
}

.hljs-strong {
  font-weight: bold;
}
</style><link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/W3C-WG-NOTE"><link rel="canonical" href="https://www.w3.org/TR/wot-binding-templates/"><script id="initialUserConfig" type="application/json">{
  "specStatus": "WG-NOTE",
  "processVersion": 2018,
  "shortName": "wot-binding-templates",
  "copyrightStart": 2018,
  "wg": "Web of Things Working Group",
  "wgURI": "https://www.w3.org/WoT/WG/",
  "wgPublicList": "public-wot-wg",
  "edDraftURI": "https://w3c.github.io/wot-binding-templates/",
  "githubAPI": "https://api.github.com/repos/w3c/wot-binding-templates",
  "issueBase": "https://www.github.com/w3c/wot-binding-templates/issues",
  "editors": [
    {
      "name": "Michael Koster",
      "w3cid": "00000",
      "company": "SmartThings",
      "companyURL": "https://www.smartthings.com/"
    }
  ],
  "otherLinks": [
    {
      "key": "Contributors",
      "data": [
        {
          "value": "In the GitHub repository",
          "href": "https://github.com/w3c/wot-architecture/graphs/contributors"
        }
      ]
    },
    {
      "key": "Repository",
      "data": [
        {
          "value": "We are on GitHub",
          "href": "https://github.com/w3c/wot-binding-templates/"
        },
        {
          "value": "File a bug",
          "href": "https://github.com/w3c/wot-binding-templates/issues"
        }
      ]
    }
  ],
  "localBiblio": {
    "CoRE-RD": {
      "href": "https://tools.ietf.org/html/draft-ietf-core-resource-directory-11",
      "title": "CoRE Resource Directory",
      "status": "Internet-Draft",
      "publisher": "IETF",
      "date": "03 July 2017"
    }
  },
  "publishISODate": "2018-04-05T00:00:00.000Z",
  "generatedSubtitle": "Working Group Note 5 April 2018"
}</script><meta name="description" content="W3C Web of Things enables applications to interact with and orchestrate
        connected Things at Web scale. The standardized abstract interaction
        model exposed by the WoT Thing Description enables applications to scale and
        evolve independently of the individual Things."></head>
  <body class="h-entry toc-inline"><div class="head">
  <a href="https://www.w3.org/" class="logo">
      <img alt="W3C" src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C" width="72" height="48">
  </a>
  <h1 id="title" class="title p-name">Web of Things (WoT) Protocol Binding Templates</h1>
  
  <h2 id="w3c-working-group-note-05-april-2018"><abbr title="World Wide Web Consortium">W3C</abbr> Working Group Note <time class="dt-published" datetime="2018-04-05">5 April 2018</time></h2>
  <dl>
    <dt>This version:</dt>
      <dd>
        <a class="u-url" href="https://www.w3.org/TR/2018/NOTE-wot-binding-templates-20180405/">
        https://www.w3.org/TR/2018/NOTE-wot-binding-templates-20180405/</a>
      </dd>
    <dt>Latest published version:</dt><dd><a href="https://www.w3.org/TR/wot-binding-templates/">https://www.w3.org/TR/wot-binding-templates/</a></dd>
    <dt>Latest editor's draft:</dt><dd><a href="https://w3c.github.io/wot-binding-templates/">https://w3c.github.io/wot-binding-templates/</a></dd>
    
    
    
    
    
    
    <dt>Editor:</dt>
    <dd class="p-author h-card vcard" data-editor-id="0"><span class="p-name fn">Michael Koster</span> (<a class="p-org org h-org h-card">Invited Expert</a>)</dd>
    
    
    <dt>Contributors:</dt><dd>
      <a href="https://github.com/w3c/wot-architecture/graphs/contributors">In the GitHub repository</a>
    </dd><dt>Repository:</dt><dd>
      <a href="https://github.com/w3c/wot-binding-templates/">We are on GitHub</a>
    </dd><dd>
      <a href="https://github.com/w3c/wot-binding-templates/issues">File a bug</a>
    </dd>
  </dl>
  
  
  
  <p class="copyright">
        <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> ©
        2018
        
        <a href="https://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup>
        (<a href="https://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>,
        <a href="https://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
        <a href="https://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>).
        
        <abbr title="World Wide Web Consortium">W3C</abbr> <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
        <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and
        <a rel="license" href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document">permissive document license</a>
        rules apply.
      </p>
  <hr title="Separator for header">
</div>

    <section id="abstract" class="introductory"><h2 id="abstract-0">Abstract</h2>
      <p>
        <abbr title="World Wide Web Consortium">W3C</abbr> Web of Things enables applications to interact with and orchestrate
        connected Things at Web scale. The standardized abstract interaction
        model exposed by the WoT Thing Description enables applications to scale and
        evolve independently of the individual Things.
      </p>
      <p>
        Many network-level protocols and standards for connected Things have
        already been developed, and have millions of devices deployed in the
        field today. These standards are converging on a common set of transport
        protocols and transfer layers, but each has peculiar content formats,
        payload schemas, and data types.
      </p>
      <p>
        Despite using unique formats and data models, the high-level interactions
        exposed by most connected things can be modeled using the Property, Action,
        and Event interaction patterns of the WoT Thing Description.
      </p>
      <p>
        Protocol Binding Templates enable a Thing Description to be adapted to
        the specific protocol usage across the different standards. This is done
        through additional descriptive vocabulary that is used in the
        Thing Description.
      </p>
      <p>
        This document describes the initial set of design pattern and vocabulary
        extensions to the WoT Thing Description that make up the Protocol Binding
        Templates. It is expected over time that additional protocols will be
        accommodated by further extending the Binding Templates, adding new
        vocabulary and new design patterns.
      </p>
    </section>


    <section id="sotd" class="introductory"><h2 id="status-of-this-document">Status of This Document</h2><p>
        <em>This section describes the status of this document at the time of its publication. Other documents may supersede this document. A list of current <abbr title="World Wide Web Consortium">W3C</abbr> publications and the latest revision of this technical report can be found in the <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical reports index</a> at https://www.w3.org/TR/.</em>
      </p>
      <div class="ednote">
	<div role="heading" class="ednote-title marker" id="h-ednote" aria-level="3"><span>Editor's note</span><span style="text-transform: none">: The W3C WoT WG is asking for feedback</span></div>
	<p class="">
        Please contribute to this draft using the
        <a href="https://github.com/w3c/wot-binding-templates/issues">GitHub Issue</a>
        feature of the <a href="https://github.com/w3c/wot-binding-templates/">
        WoT Protocol Binding Templates</a> repository.
        For feedback on security and privacy considerations, please use the
        <a href="https://github.com/w3c/wot-security/issues">WoT Security and Privacy</a>
        Issues, as they are cross-cutting over all our documents.
      </p></div><p>
          This document was published by the <a href="https://www.w3.org/WoT/WG/">Web of Things Working Group</a> as an Editor's Draft.
          
          
            Comments regarding this document are welcome. Please send them to
            <a href="mailto:public-wot-wg@w3.org">public-wot-wg@w3.org</a>
            (<a href="mailto:public-wot-wg-request@w3.org?subject=subscribe">subscribe</a>,
            <a href="https://lists.w3.org/Archives/Public/public-wot-wg/">archives</a>).
          
          
          
          
        </p><p>
            Publication as a Working Group Note does not imply endorsement by the <abbr title="World Wide Web Consortium">W3C</abbr>
            Membership. This is a draft document and may be updated, replaced or obsoleted by other
            documents at any time. It is inappropriate to cite this document as other than work in
            progress.
          </p><p data-deliverer="95969">
          
            This document was produced by a group operating under the <a href="https://www.w3.org/Consortium/Patent-Policy/"><abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
        </p><p>This document is governed by the <a id="w3c_process_revision" href="https://www.w3.org/2018/Process-20180201/">1 February 2018 <abbr title="World Wide Web Consortium">W3C</abbr> Process Document</a>.
        </p></section><nav id="toc"><h2 class="introductory" id="table-of-contents">Table of Contents</h2><ol class="toc"><li class="tocline"><a href="#introduction" class="tocxref"><span class="secno">1. </span>Introduction</a><ol class="toc"><li class="tocline"><a href="#protocol-adaptation" class="tocxref"><span class="secno">1.1 </span>Protocol Adaptation</a><ol class="toc"><li class="tocline"><a href="#protocol-methods-and-options" class="tocxref"><span class="secno">1.1.1 </span>Protocol Methods and Options</a></li><li class="tocline"><a href="#media-types-0" class="tocxref"><span class="secno">1.1.2 </span>Media Types</a></li><li class="tocline"><a href="#payload-structure-0" class="tocxref"><span class="secno">1.1.3 </span>Payload Structure</a></li><li class="tocline"><a href="#data-types-and-value-constraints" class="tocxref"><span class="secno">1.1.4 </span>Data Types and Value Constraints</a></li></ol></li></ol></li><li class="tocline"><a href="#binding-overview" class="tocxref"><span class="secno">2. </span>Protocol Binding Templates Overview</a><ol class="toc"><li class="tocline"><a href="#Data_Schema" class="tocxref"><span class="secno">2.1 </span>Data Schema</a><ol class="toc"><li class="tocline"><a href="#payload-structure" class="tocxref"><span class="secno">2.1.1 </span>Payload Structure</a></li><li class="tocline"><a href="#data-types-constraints" class="tocxref"><span class="secno">2.1.2 </span>Data Types and value constraints</a></li></ol></li><li class="tocline"><a href="#form-element" class="tocxref"><span class="secno">2.2 </span>Form Element</a><ol class="toc"><li class="tocline"><a href="#relation-types" class="tocxref"><span class="secno">2.2.1 </span>Relation Types</a></li><li class="tocline"><a href="#media-types" class="tocxref"><span class="secno">2.2.2 </span>Media Types</a></li><li class="tocline"><a href="#protocol-methods-options" class="tocxref"><span class="secno">2.2.3 </span>Protocol Methods and Options</a></li></ol></li><li class="tocline"><a href="#Interaction_Types" class="tocxref"><span class="secno">2.3 </span>Interaction Types</a><ol class="toc"><li class="tocline"><a href="#property-bindings" class="tocxref"><span class="secno">2.3.1 </span>Bindings for Properties</a></li><li class="tocline"><a href="#action-bindings" class="tocxref"><span class="secno">2.3.2 </span>Bindings for Actions</a></li><li class="tocline"><a href="#event-bindings" class="tocxref"><span class="secno">2.3.3 </span>Bindings for Events</a></li></ol></li><li class="tocline"><a href="#processing-model" class="tocxref"><span class="secno">2.4 </span>Processing Model and Runtime</a></li></ol></li><li class="tocline"><a href="#vocabulary" class="tocxref"><span class="secno">3. </span>Vocabulary</a><ol class="toc"><li class="tocline"><a href="#dataschema-vocabulary" class="tocxref"><span class="secno">3.1 </span><code>DataSchema</code> Vocabulary</a></li><li class="tocline"><a href="#interaction-verbs" class="tocxref"><span class="secno">3.2 </span>Interaction Verbs</a><ol class="toc"><li class="tocline"><a href="#property-interactions" class="tocxref"><span class="secno">3.2.1 </span>Property Interactions</a></li><li class="tocline"><a href="#action-interactions" class="tocxref"><span class="secno">3.2.2 </span>Action Interactions</a></li><li class="tocline"><a href="#event-interactions" class="tocxref"><span class="secno">3.2.3 </span>Event Interactions</a></li></ol></li><li class="tocline"><a href="#form-vocabulary" class="tocxref"><span class="secno">3.3 </span>Form Vocabulary</a><ol class="toc"><li class="tocline"><a href="#http-form-vocabulary" class="tocxref"><span class="secno">3.3.1 </span>HTTP form vocabulary</a></li><li class="tocline"><a href="#coap-form-vocabulary" class="tocxref"><span class="secno">3.3.2 </span>CoAP form vocabulary</a></li><li class="tocline"><a href="#mqtt-form-vocabulary" class="tocxref"><span class="secno">3.3.3 </span>MQTT form vocabulary</a></li><li class="tocline"><a href="#subprotocol-form-vocabulary" class="tocxref"><span class="secno">3.3.4 </span>subProtocol form vocabulary</a></li></ol></li></ol></li><li class="tocline"><a href="#binding-examples" class="tocxref"><span class="secno">4. </span>Examples of Thing Descriptions including protocol bindings</a></li><li class="tocline"><a href="#references" class="tocxref"><span class="secno">5. </span>References</a></li><li class="tocline"><a href="#sec-security-considerations" class="tocxref"><span class="secno">6. </span>Security and Privacy Considerations</a></li><li class="tocline"><a href="#acknowledgements" class="tocxref"><span class="secno">A. </span>Acknowledgements</a></li></ol></nav>


    <section id="introduction">
      <!--OddPage--><h2 id="x1-introduction"><span class="secno">1. </span>Introduction</h2>
      <p>
        Protocol Binding Templates consist of reusable vocabulary and design
        pattern extensions to the WoT Thing Description format that enable an
        application client to interact, using a consistent interaction model,
        with Things that expose diverse protocols and protocol usage.
      </p>

      <section id="protocol-adaptation">
        <h3 id="x1-1-protocol-adaptation"><span class="secno">1.1 </span>Protocol Adaptation</h3>
        <p>
          Protocol Binding Templates enable clients to adapt to the underlying
          protocol and network-facing API constructions. Once the base protocol
          (e.g., HTTP, CoAP, MQTT, etc.) is identified, the following adaptions
          specifiy the particular use within the given Platform.
        </p>
        <div class="ednote"><div role="heading" class="ednote-title marker" id="h-ednote-0" aria-level="4"><span>Editor's note</span><span style="text-transform: none">: Additional Protocol Bindings</span></div><p class="">
          This document contains examples of Protocol Bindings for HTTP, CoAP,
          and MQTT. Other prococols may be added, following the same design style,
          and using payload mappings that can be expressed as JSON compatible
          entities. Future extensions to other payload definition formats  are
          also contemplated.
        </p></div>

        <section id="protocol-methods-and-options">
          <h4 id="x1-1-1-protocol-methods-and-options"><span class="secno">1.1.1 </span>Protocol Methods and Options</h4>
          <p>
            Most protocols have a relatively small set of methods that define
            the message type, the semantic intention of the message. As a starting
            point, a superset of REST and PubSub can cover most standard
            communication patterns. Common methods are GET, PUT, POST, DELETE,
            PUBLISH, and SUBSCRIBE.
          </p>
          <p>
            The protocol methods are mapped to the abstract WoT Interaction verbs
            <code>readProperty</code>, <code>writeProperty</code>,
            <code>observeProperty</code>, <code>invokeAction</code>,
            <code>subscribeEvent</code>, <code>unsubscribeEvent</code>.
            <!-- modifyAction, cancelAction is still undefined -->
          </p>
          <p>
            Possible protocol options are also specified in the Protocol Binding.
            They are used to select transfer modes, to request notifications from
            observable resources, or otherwise extend the semantics of the protocol
            methods.
          </p>
        </section>

        <section id="media-types-0">
          <h4 id="x1-1-2-media-types"><span class="secno">1.1.2 </span>Media Types</h4>
          <p>
            Maximum use should be made of IANA-registered Media Types (e.g.,
            <code>application/json</code>) in order to decouple applications from
            connected Things. Standard bridges and translations from proprietary
            formats to Web-friendly languages such as JSON and XML are part of the
            adaptation needed.
          </p>
          <p>
            WoT Protocol Bindings depend on consistent use of Media Types for
            customization of the upper layers.
          </p>
        </section>

        <section id="payload-structure-0">
          <h4 id="x1-1-3-payload-structure"><span class="secno">1.1.3 </span>Payload Structure</h4>
          <p>
            Data serialized to a standard Media Type still remains in a structure
            specific to the Platform data model and needs to be understood by
            clients (cf. various types of JSON documents).
          </p>
          <p>
            The data definition language of <code>DataSchema</code>
            elements, described in [TD], allows for describing arbitrary
            structures by nesting of arrays and objects. Constants and
            variable specifications may be intermixed.
          </p>
        </section>

        <section id="data-types-and-value-constraints">
          <h4 id="x1-1-4-data-types-and-value-constraints"><span class="secno">1.1.4 </span>Data Types and Value Constraints</h4>
          <p>
            Simple data types and value constraints are currently used in a layered
            and descriptive way in WoT Thing Description. Additional forms of
            constraints are available to help adapt to the underlying data types.
            A Platform-specific 8-bit unsigned integer, for instance, can be defined
            as Integer with a minimum of 0 and maximum of 255; the system-specific
            representation (e.g., exact number of bits) on server and client is not
            relevant for interoperability.
          </p>
        </section>
      </section>
    </section>

    <section id="binding-overview" class="informative">
      <!--OddPage--><h2 id="x2-protocol-binding-templates-overview"><span class="secno">2. </span>Protocol Binding Templates Overview</h2><p><em>This section is non-normative.</em></p>
      <p>
        This section describes the mechanisms of protocol binding templates with
        examples.
      </p>

      <section id="Data_Schema">
        <h3 id="x2-1-data-schema"><span class="secno">2.1 </span>Data Schema</h3>
        <p>
          The <code>DataSchema</code> elements describe the payload structure and
          data items that are passed between client and server during interactions.
        </p>

        <section id="payload-structure">
          <h4 id="x2-1-1-payload-structure"><span class="secno">2.1.1 </span>Payload Structure</h4>
          <p>
            Payload Structure is determined by the DataSchema elements. [TD] describes
            the use of the <code>DataSchema</code> keywords "schema", "inputSchema", and outputSchema
            in the examples contained in this document.
          </p>
          <p>
            In addition to the example pattern in [TD] of an object with name/value
            constructs or simple arrays, Protocol Bindings for existing standards
            may require nested arrays and objects, and some constant values to
            be specified.
          </p>
          <p>
            For example, a simple payload structure may use a map:
          </p>

          <p>
            </p><div class="example"><div class="example-title marker"><span>Example 1</span><span style="text-transform: none">: Simple Payload Structure</span></div><pre class="hljs json" aria-busy="false">{
  <span class="hljs-attr">"level"</span>: <span class="hljs-number">50</span>,
  <span class="hljs-attr">"time"</span>: <span class="hljs-number">10</span>
}</pre></div>

          <p>
            SenML might use the following construct:
          </p>

          <div class="example"><div class="example-title marker"><span>Example 2</span><span style="text-transform: none">: SenML Example</span></div><pre class="hljs json" aria-busy="false">[
  {
    <span class="hljs-attr">"bn"</span>: <span class="hljs-string">"/example/light/"</span>
  },
  {
    <span class="hljs-attr">"n"</span>: <span class="hljs-string">"level"</span>,
    <span class="hljs-attr">"v"</span>: <span class="hljs-number">50</span>
  },
  {
    <span class="hljs-attr">"n"</span>: <span class="hljs-string">"time"</span>,
    <span class="hljs-attr">"v"</span>: <span class="hljs-number">10</span>
  }
]</pre></div>

          <p>
            A Batch Collection according to OCF may be structured like this:
          </p>

          <div class="example"><div class="example-title marker"><span>Example 3</span><span style="text-transform: none">: OCF Batch Example</span></div><pre class="hljs json" aria-busy="false">[
  {
    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"/example/light/level"</span>,
    <span class="hljs-attr">"rep"</span>: {
      <span class="hljs-attr">"dimming"</span>: <span class="hljs-number">50</span>
    }
  },
  {
    <span class="hljs-attr">"href"</span>: <span class="hljs-string">"/example/light/time"</span>,
    <span class="hljs-attr">"rep"</span>: {
      <span class="hljs-attr">"ramptime"</span>: <span class="hljs-number">10</span>
    }
  }
]</pre></div>

          <p>
            And an IPSO Smart Object on LWM2M might look like the following:
          </p>

          <div class="example"><div class="example-title marker"><span>Example 4</span><span style="text-transform: none">: IPSO/LWM2M Example</span></div><pre class="hljs json" aria-busy="false">{
  <span class="hljs-attr">"bn"</span>: <span class="hljs-string">"/3001/0/"</span>,
  <span class="hljs-attr">"e"</span>: [
    {
      <span class="hljs-attr">"n"</span>: <span class="hljs-string">"5044"</span>,
      <span class="hljs-attr">"v"</span>: <span class="hljs-number">0.5</span>
    },
    {
      <span class="hljs-attr">"n"</span>: <span class="hljs-string">"5002"</span>,
      <span class="hljs-attr">"v"</span>: <span class="hljs-number">10.0</span>
    }
  ]
}</pre></div>

          <p>
            The Protocol Binding template for each of these payloads will be
            structured according to the desired payload structure.
          </p>

          <p>
            For the Simple Payload in Example 1 above, the data schema element would
            be structured as follows:
          </p>

          <div class="example"><div class="example-title marker"><span>Example 5</span><span style="text-transform: none">: data Schema for Simple JSON Object Payload</span></div><pre class="hljs" aria-busy="false">{
  "schema": {
    "type": "object",
    "field": [
      {
        "name": "level",
        "@type": ["iot:LevelData],
        "schema": {
          "type": "integer",
          "minimum": 0,
          "maximum": 255
        }
      },
      {
        "name": "time",
        "@type": ["iot:TransitionTimeData"],
        "schema": {
          "type": "integer",
          "minimum": 0,
          "maximum": 65535
        }
      }
    ]
  }
}</pre></div>

          <p>
            For the SenML Payload in Example 2 above, the <code>DataSchema</code> element would
            be structured as follows:
          </p>

          <div class="example"><div class="example-title marker"><span>Example 6</span><span style="text-transform: none">: DataSchema for SenML Payload</span></div><pre class="hljs json" aria-busy="false">{
  <span class="hljs-attr">"schema"</span>: {
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"array"</span>,
    <span class="hljs-attr">"items"</span>: [
      {
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
        <span class="hljs-attr">"field"</span>: [
          {
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"bn"</span>,
            <span class="hljs-attr">"schema"</span>: {
              <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
              <span class="hljs-attr">"const"</span>: <span class="hljs-string">"example/light"</span>
            }
          }
        ]
      },
      {
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
        <span class="hljs-attr">"field"</span>: [
          {
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"n"</span>,
            <span class="hljs-attr">"schema"</span>: {
              <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
              <span class="hljs-attr">"const"</span>: <span class="hljs-string">"level"</span>
            }
          },
          {
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"v"</span>,
            <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"iot:LevelData"</span>],
            <span class="hljs-attr">"schema"</span>: {
              <span class="hljs-attr">"type"</span>: <span class="hljs-string">"integer"</span>,
              <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">0</span>,
              <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">255</span>
            }
          }
        ]
      },
      {
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
        <span class="hljs-attr">"field"</span>: [
          {
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"n"</span>,
            <span class="hljs-attr">"schema"</span>: {
              <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
              <span class="hljs-attr">"const"</span>: <span class="hljs-string">"time"</span>
            }
          },
          {
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"v"</span>,
            <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"iot:TransitionTimeData"</span>],
            <span class="hljs-attr">"schema"</span>: {
              <span class="hljs-attr">"type"</span>: <span class="hljs-string">"integer"</span>,
              <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">0</span>,
              <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">65535</span>
            }
          }
        ]
      ]
    }
  }
}</pre></div>

          <p>
            For the OCF Batch Payload in Example 3 above, the <code>DataSchema</code> element would
            be structured as follows:
          </p>

          <div class="example"><div class="example-title marker"><span>Example 7</span><span style="text-transform: none">: DataSchema for OCF Batch Payload</span></div><pre class="hljs json" aria-busy="false">{
  <span class="hljs-attr">"schema"</span>: {
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"array"</span>,
    <span class="hljs-attr">"items"</span>: [
      {
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
        <span class="hljs-attr">"field"</span>: [
          {
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"href"</span>,
            <span class="hljs-attr">"schema"</span>: {
              <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
              <span class="hljs-attr">"const"</span>: <span class="hljs-string">"/light/level"</span>
            }
          },
          {
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"rep"</span>,
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
            <span class="hljs-attr">"field"</span>: [
              {
                <span class="hljs-attr">"name"</span>: <span class="hljs-string">"dimming"</span>,
                <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"iot:LevelData"</span>],
                <span class="hljs-attr">"schema"</span>: {
                  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"integer"</span>,
                  <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">0</span>,
                  <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">255</span>
                }
              }
            ]
          }
        ]
      },
      {
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
        <span class="hljs-attr">"field"</span>: [
          {
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"href"</span>,
            <span class="hljs-attr">"schema"</span>: {
              <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
              <span class="hljs-attr">"const"</span>: <span class="hljs-string">"/light/time"</span>
            }
          },
          {
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"rep"</span>,
            <span class="hljs-attr">"schema"</span>: {
              <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
              <span class="hljs-attr">"field"</span>: [
                {
                  <span class="hljs-attr">"name"</span>: <span class="hljs-string">"ramptime"</span>,
                  <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"iot:TransitionTimeData"</span>],
                  <span class="hljs-attr">"schema"</span>: {
                    <span class="hljs-attr">"type"</span>:<span class="hljs-string">"integer"</span>,
                    <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">0</span>,
                    <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">65535</span>
                  }
                }
              ]
            }
          }
        ]
      ]
    }
  }
}</pre></div>

          <p>
            For the IPSO/LWM2M Payload in Example 4 above, the <code>DataSchema</code> element would
            be structured as follows:
          </p>

          <div class="example"><div class="example-title marker"><span>Example 8</span><span style="text-transform: none">: DataSchema for IPSO/LWM2M Payload</span></div><pre class="hljs json" aria-busy="false">{
  <span class="hljs-attr">"schema"</span>: {
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
    <span class="hljs-attr">"field"</span>: [
      {
        <span class="hljs-attr">"name"</span>: <span class="hljs-string">"bn"</span>,
        <span class="hljs-attr">"schema"</span>: {
          <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
          <span class="hljs-attr">"const"</span>: <span class="hljs-string">"/3001/0/"</span>
        }
      },
      {
        <span class="hljs-attr">"name"</span>: <span class="hljs-string">"e"</span>,
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"array"</span>,
        <span class="hljs-attr">"items"</span>: [
          {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
            <span class="hljs-attr">"field"</span>: [
              {
                <span class="hljs-attr">"name"</span>: <span class="hljs-string">"n"</span>,
                <span class="hljs-attr">"schema"</span>: {
                  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
                  <span class="hljs-attr">"const"</span>: <span class="hljs-string">"5044"</span>
                }
              },
              {
                <span class="hljs-attr">"name"</span>: <span class="hljs-string">"v"</span>,
                <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"iot:LevelData"</span>],
                <span class="hljs-attr">"schema"</span>: {
                  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
                  <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">0.0</span>,
                  <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">1.0</span>
                }
              }
            ]
          },
          {
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
            <span class="hljs-attr">"field"</span>: [
              {
                <span class="hljs-attr">"name"</span>: <span class="hljs-string">"n"</span>,
                <span class="hljs-attr">"schema"</span>: {
                  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
                  <span class="hljs-attr">"const"</span>: <span class="hljs-string">"5002"</span>
                }
              },
              {
                <span class="hljs-attr">"name"</span>: <span class="hljs-string">"v"</span>,
                <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"iot:TransitionTimeData"</span>],
                <span class="hljs-attr">"schema"</span>: {
                  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
                  <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">0.0</span>,
                  <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">6553.5</span>
                }
              }
            ]
          ]
        }
      }
    ]
  }
}</pre></div>
        </section>

        <section id="data-types-constraints">
          <h4 id="x2-1-2-data-types-and-value-constraints"><span class="secno">2.1.2 </span>Data Types and value constraints</h4>
          <p>
            Note that in Example 5 above, the values are floating point while the
            other examples have integer values. It is up to the client to adapt to
            the range and type as well as the engineering units provided.
          </p>
        </section>

      </section>

      <section id="form-element">
        <h3 id="x2-2-form-element"><span class="secno">2.2 </span>Form Element</h3>
        <p>
          The "form" element contains the URI pointing to an instance of the interaction
          and descriptions of the protocol settings and options expected to be used when
          between the client and server for the interaction.
        </p>

        <section id="relation-types">
          <h4 id="x2-2-1-relation-types"><span class="secno">2.2.1 </span>Relation Types</h4>
          <p>
            Form Relation Types describe the expected result of performing the operation
            described by the form.
          </p>
          <p>
            For example, the Property interaction allows read and write operations. The
            protocol binding may contain a form for the read operation and a different
            form for the write operation. The value of the "rel" attribute of the form
            indicates which form is which and allows the client to select the correct
            form for the operation required.
          </p>

          <div class="example"><div class="example-title marker"><span>Example 9</span><span style="text-transform: none">: Form Relation Types</span></div><pre class="hljs javascript" aria-busy="false"><span class="hljs-string">"rel"</span>: <span class="hljs-string">"readProperty"</span>
<span class="hljs-string">"rel"</span>: <span class="hljs-string">"writeProperty"</span></pre></div>

          <p>
            The vocabulary in section 5 lists the recommended set of form relations,
            and the full TD examples in section 6 contain example uses of form relation types.
          </p>
        </section>

        <section id="media-types">
          <h4 id="x2-2-2-media-types"><span class="secno">2.2.2 </span>Media Types</h4>
          <p>
            Media Types define the serialization details and other rules for processing
            the payloads. The media type is used to select a serializer/deserializer
            and to select an additional set of rules and constraints for the protocol
            driver.
          </p>
          <p>
            For example, the mediaType "application/ocf+cbor" indicates that CBOR
            serialization is used, but also that OCF rules and namespaces
            apply to the processing of the representations.
          </p>
          <p>
            Additionally, there may be a profile which points to a URI for
            further description, for example a form with
            profile=http://iotschema.org/protocols/ipso.jsonld indicates that the
            target representation follows a set of additional encoding rules and
            constraints which are further defined at the URI by the profile
            attribute's value.
          </p>
          <p>
            Some special protocol drivers may be invoked by using a non-registered
            media type e.g. x-&lt;echonet&gt; along with a custom URI scheme and its own
            set of protocol methods and options defined for that URI scheme.
          </p>
        </section>

        <section id="protocol-methods-options">
          <h4 id="x2-2-3-protocol-methods-and-options"><span class="secno">2.2.3 </span>Protocol Methods and Options</h4>
          <p>
            Each target protocol may specify different method names for similar
            methods, and there may be semantic differences between similar methods of
            different protocols. Additionally, will use different methods
            for mapping to a particular WoT Interaction type. For example, POST may
            be used for setting a property value in one protocol, while PUT may be
            used in another. For these reasons, we require the ability to specify
            which method to use for a particular interaction. We also will provide
            vocabulary to differentiate between methods of different protocols.
          </p>
          <p>
            The <abbr title="World Wide Web Consortium">W3C</abbr> RDF vocabulary for HTTP [ref] is used to identify the methods
            and options specified in the HTTP protocol bindings.
          </p>
          <p>
            For the sake of consistency, we will use the same ontology design pattern
            to derive a vocabulary for each target protocol, e.g. CoAP, MQTT.
          </p>

          <p>
            The example below shows some method definitions for various protocols.
          </p>

          <div class="example"><div class="example-title marker"><span>Example 10</span><span style="text-transform: none">: Vocabulary Example for Methods</span></div><pre class="hljs javascript" aria-busy="false"><span class="hljs-string">"http:methodName"</span>: <span class="hljs-string">"GET"</span>

<span class="hljs-string">"mqtt:commandCode"</span>: <span class="hljs-number">8</span>

<span class="hljs-string">"coap:methodCode"</span>: <span class="hljs-number">1</span></pre></div>

          <p>
            Header options in HTTP, CoAP, MQTT sometimes must be included in a
            protocol binding in order to successfully interact with the underlying
            protocol. The example below shows the structure of the definition for
            http header options, according to the <abbr title="World Wide Web Consortium">W3C</abbr> HTTP Vocabulary in RDF.
          </p>

          <div class="example"><div class="example-title marker"><span>Example 11</span><span style="text-transform: none">: HTTP Vocabulary Example for Header Options</span></div><pre class="hljs javascript" aria-busy="false"><span class="hljs-string">"http:headers"</span>:
  [
    {
      <span class="hljs-string">"http:fieldName"</span>: <span class="hljs-string">"Accept"</span>,
      <span class="hljs-string">"http:fieldValue"</span>: <span class="hljs-string">"application/json"</span>
    },
    {
      <span class="hljs-string">"http:fieldName"</span>: <span class="hljs-string">"Transfer-Encoding"</span>,
      <span class="hljs-string">"http:fieldValue"</span>: <span class="hljs-string">"chunked"</span>
    }
  ]</pre></div>
          <p>
            Note: different forms in a binding may need different header constructions,
            therefore the <code>headers</code> construct is an extension of the TD "form" element.
          </p>
          <p>
            Protocols may have defined sub-protocols that can be used for some interaction
            types. For example, to recieve asynchronous notifications using http, some
            servers may support long polling, EventSource, or a simple non-multiplexed
            websocket protocol.

            The "subProtocol" item may be defined in a form instance to indicate the
            use of one of these protocols, for example:
            </p><div class="example"><div class="example-title marker"><span>Example 12</span><span style="text-transform: none">: subProtocol</span></div><pre class="hljs json" aria-busy="false">{
<span class="hljs-attr">"subProtocol"</span>: <span class="hljs-string">"LongPoll"</span>
}</pre></div>

            
          <p></p>


        </section>

    </section>


    <section id="Interaction_Types" class="informative">
      <h3 id="x2-3-interaction-types"><span class="secno">2.3 </span>Interaction Types</h3><p><em>This section is non-normative.</em></p>
      <p>
        This section describes unique aspects of protocol bindings for the three
        WoT interaction types.
      </p>

      <section id="property-bindings">
        <h4 id="x2-3-1-bindings-for-properties"><span class="secno">2.3.1 </span>Bindings for Properties</h4>
        <p>
          This section describes unique aspects of protocol bindings for
          WoT Property type interactions.
        </p>
        <p>
          The abstract methods exposed for the Property Interaction are readProperty,
          writeProperty, and observeProperty. These are mapped by using form relations that describe
          the abstract method, resulting in a semantic interpretation similar to
          HTML form submission.
        </p>
        <div class="example"><div class="example-title marker"><span>Example 13</span><span style="text-transform: none">: Example use of form relation for Property</span></div><pre class="hljs javascript" aria-busy="false">
  For example a form having href=<span class="hljs-regexp">/example/</span>level, rel=writeProperty, and
  http:methodName=POST conveys the statement:


  To <span class="hljs-keyword">do</span> a writeProperty <span class="hljs-keyword">of</span> the subject Property (context <span class="hljs-keyword">of</span> the form),
  perform a POST on the resource at the target URI /example/level.
</pre></div>
        <p>
          Properties may be observable, defined by the TD keyword "observable".
          If there is an observe form and a retrieve form, the observe form may be
          indicated by including rel=observeProperty in the form. The observe form may
          also specify header options to use, for example CoAP observe option=0
          in the header to start observation.
        </p>
      </section>

      <section id="action-bindings" class="informative">
        <h4 id="x2-3-2-bindings-for-actions"><span class="secno">2.3.2 </span>Bindings for Actions</h4><p><em>This section is non-normative.</em></p>
        <p>
          This section describes unique aspects of protocol bindings for WoT
          Action type interactions.
        </p>
        <p>
          The abstract method on Actions is invokeAction. In the same way that
          the abstract methods on properties are
          mapped using form relations, the abstract methods of actions are also
          mapped.
        </p>
        <div class="example"><div class="example-title marker"><span>Example 14</span><span style="text-transform: none">: Example use of form relation for Action</span></div><pre class="hljs javascript" aria-busy="false">
  For example a form <span class="hljs-keyword">with</span> href=<span class="hljs-regexp">/example/</span>levelaction, rel=invokeAction,
  and http:methodName=POST conveys the statement:


  To <span class="hljs-keyword">do</span> an invokeAction <span class="hljs-keyword">of</span> the subject Action (context <span class="hljs-keyword">of</span> the form),
  perform a POST on the resource at /example/levelaction.
</pre></div>
      </section>

      <section id="event-bindings" class="informative">
        <h4 id="x2-3-3-bindings-for-events"><span class="secno">2.3.3 </span>Bindings for Events</h4><p><em>This section is non-normative.</em></p>
        <p>
          This section describes unique aspects of protocol bindings for WoT
          Event type interactions.
        </p>
        <p>
          The abstract methods on Events are subscribeEvent and unsubscribeEvent.
          The subscribeEvent operation returns a location or resource URI from which
          events may be obtained, either by observation or some other method,
          depending on the transfer protocol.
        </p>
        <p>
          The binding for Events allows pre-defined URIs to observable resources,
          or pubsub topica encoded in URI.
        </p>
        <p>
          If the binding offers a subscription, there will be a form with
          rel=subscribeEvent
        </p>
        <p>
          If the binding offers an observable Event resource from which events are
          obtained, there will be a form which describes the required transfer layer
          operation, for example CoAP Observe or HTTP Long Polling.
        </p>
        <div class="example"><div class="example-title marker"><span>Example 15</span><span style="text-transform: none">: Example use of form relation for Events</span></div><pre class="hljs javascript" aria-busy="false">
  For example, a form having href=mqtt:<span class="hljs-comment">//0m2m.net/example/levelevent,</span>
  rel=subscribeEvent,
  and mqtt:methodCode=<span class="hljs-number">8</span> conveys the statement:


  To <span class="hljs-keyword">do</span> a subscribeEvent <span class="hljs-keyword">of</span> the subject Event (context <span class="hljs-keyword">of</span> the form),
  perform an MQTT SUBSCRIBE (code <span class="hljs-number">8</span>) on the topic /example/levelevent
  on the broker at mqtt:<span class="hljs-comment">//0m2m.net using the default MQTT port.</span>
</pre></div>
      </section>

    </section>

    <section id="processing-model" class="informative">
      <h3 id="x2-4-processing-model-and-runtime"><span class="secno">2.4 </span>Processing Model and Runtime</h3><p><em>This section is non-normative.</em></p>
      <p>
        This section describes the processing model for Protocol Bindings with
        respect to the abstract WoT Interactions provided by the Scripting API.
      </p>
      <p>
        <code>DataSchema</code> elements (see Section 2.1) are processed, and
        value scaling is performed, in the application library or adaptation layer.
      </p>
      <p>
        Form elements that specify href, method, options, and mediaType are
        processed in a driver context which is isolated from the application.
      </p>
      <p>
        The application, or a protocol adaptation layer, constructs an instance of
        the appropriate DataSchema element
        and sends it along with the selected form contents to the protocol driver
        or, in the case of get, receives a payload form the protocol driver and
        uses the appropriate <code>DataSchema</code> element to extract the field values of interest.
      </p>
      <p>
        The separation of execution context between the application and the protocol
        driver enables isolation of fault domains and isolation of security domains.
      </p>
      <div class="ednote"><div role="heading" class="ednote-title marker" id="h-ednote-1" aria-level="4"><span>Editor's note</span><span style="text-transform: none">: Multiple Security Bindings</span></div><p class="">
        Additional information in the Thing Description may be considered part
        of the Protocol Binding, relating to security protocols. There is currently
        a single declaration of security bindings for each TD instance, with
        no defined way to indicate a different security protocol for each form
        element, which may specify a different transfer protocol.
      </p></div>
      <p>
        Protocol Bindings may be used by proxies, where a Consumed Thing has its
        Protocol Binding, and the corresponding Exposed Thing may have a different
        Protocol Binding.
      </p>
    </section>

    </section>

    <section id="vocabulary" class="informative">
      <!--OddPage--><h2 id="x3-vocabulary"><span class="secno">3. </span>Vocabulary</h2><p><em>This section is non-normative.</em></p>
        <p>
          This section specifies the vocabulary for protocol binding templates
        </p>
        <section id="dataschema-vocabulary">
          <h3 id="x3-1-dataschema-vocabulary"><span class="secno">3.1 </span><code>DataSchema</code> Vocabulary</h3>
            <p>
              <code>DataSchema</code> elements describe the structure of the payload.
              The <code>DataSchema</code>
              vocabulary is described in [TD]. Properties and Events define a "schema"
              for data transfer in either direction. Actions may define "inputSchema"
              for actuation data being sent to the resource using, for example, POST or
              PUT, and "outputSchema" for result or status data being returned from
              the Action resource.
            </p>
        </section>

        <section id="interaction-verbs">
          <h3 id="x3-2-interaction-verbs"><span class="secno">3.2 </span>Interaction Verbs</h3>
            <p>
              Interactions have one or more defined interaction verbs for each
              interaction pattern. Form Relations allow an interaction to have
              separate protocol mechanisms to support different interaction verbs.
            </p>
          <section id="property-interactions">
            <h4 id="x3-2-1-property-interactions"><span class="secno">3.2.1 </span>Property Interactions</h4>
              <p>
                Properties provide '"read" and, optionally, "write"
                operations, which map to GET and PUT/POST of a REST API.
                Properties may also by observed, though some properties may not be
                observable.
              </p>
              <p>
                readProperty
              </p>
              <p>
                writeProperty
              </p>
              <p>
                observeProperty
              </p>
            </section>

          <section id="action-interactions">
            <h4 id="x3-2-2-action-interactions"><span class="secno">3.2.2 </span>Action Interactions</h4>
              <p>
                Actions provide '"invoke" operations, which can map to PUT, POST,
                or PUBLISH operations.
              </p>
              <p>
                invokeAction
              </p>
          </section>

          <section id="event-interactions">
            <h4 id="x3-2-3-event-interactions"><span class="secno">3.2.3 </span>Event Interactions</h4>
              <p>
                Events may directly expose observable resources from which to obtain event
                instances.
              </p>
              <p>
                subscribeEvent
              </p>
              <p>
                unsubscribeEvent
              </p>
            </section>
          </section>

          <section id="form-vocabulary">
          <h3 id="x3-3-form-vocabulary"><span class="secno">3.3 </span>Form Vocabulary</h3>
            <p>
              Extensions to the form vocabulary provide a way to inform the client about
              protocol methods, options, and status codes.
            </p>
            <section id="http-form-vocabulary">
              <h4 id="x3-3-1-http-form-vocabulary"><span class="secno">3.3.1 </span>HTTP form vocabulary</h4>
                <p>
                  http:methodName [ "GET", "PUT", "POST", "DELETE"]
                </p>
                <p>
                  http:headers
                  example: [ {"http:fieldName": "accept", "http:fieldValue": "text/plain"} ]
                </p>
                <p>
                  http:fieldName [ accept, content-type, transfer-encoding ]
                </p>
                <p>
                  http:fieldValue
                </p>
            </section>
            <section id="coap-form-vocabulary">
              <h4 id="x3-3-2-coap-form-vocabulary"><span class="secno">3.3.2 </span>CoAP form vocabulary</h4>
                <p>
                  coap:methodCode [ 1, 2, 3, 4 ]
                </p>
                <p>
                  coap:options
                  example: [ { "coap:optionCode": 6, "coap:optionValue": 49 } ]
                </p>
                <p>
                  coap:optionCode [ 0..65535 ]
                </p>
                <p>
                  coap:optionValue [ any type ]
                </p>
            </section>

            <section id="mqtt-form-vocabulary">
              <h4 id="x3-3-3-mqtt-form-vocabulary"><span class="secno">3.3.3 </span>MQTT form vocabulary</h4>
                <p>
                  mqtt:commandCode [ 3, 8, 10 ]
                </p>
                <p>
                  mqtt:options
                  example: [ {  "mqtt:optionName": "qos", "mqtt:optionValue": 1 }]
                </p>
                <p>
                  mqtt:optionName [ qos, retain ]
                </p>
                <p>
                  mqtt:optionValue (qos) [ 0, 1, 2, 3 ]
                  mqtt:optionValue (retain) [ 0, 1 ]
                </p>
            </section>

            <section id="subprotocol-form-vocabulary">
              <h4 id="x3-3-4-subprotocol-form-vocabulary"><span class="secno">3.3.4 </span>subProtocol form vocabulary</h4>
                <p>
                  subProtocol [ "LongPoll", "EventSource" ]
                </p>
                <p>
                  subProtocol values for websockets are registered by IANA:
                  <a href="https://www.iana.org/assignments/websocket/websocket.xml#subprotocol-name">Websocket Subprotocols</a>
                </p>
            </section>

          </section>

    </section>

    <section id="binding-examples" class="informative">
      <!--OddPage--><h2 id="x4-examples-of-thing-descriptions-including-protocol-bindings"><span class="secno">4. </span>Examples of Thing Descriptions including protocol bindings</h2><p><em>This section is non-normative.</em></p>
      <p>
        TD with simple payload format
      </p>
      <div class="example"><div class="example-title marker"><span>Example 16</span><span style="text-transform: none">: TD with a simple Payload</span></div><pre class="hljs json" aria-busy="false">{
  <span class="hljs-attr">"@context"</span>: [
    <span class="hljs-string">"https://w3c.github.io/wot/w3c-wot-td-context.jsonld"</span>,
    <span class="hljs-string">"https://w3c.github.io/wot/w3c-wot-common-context.jsonld"</span>,
	  {
      <span class="hljs-attr">"iot"</span>: <span class="hljs-string">"http://iotschema.org/"</span>,
      <span class="hljs-attr">"http"</span>: <span class="hljs-string">"http://iotschema.org/protocol/http"</span>,
      <span class="hljs-attr">"coap"</span>: <span class="hljs-string">"http://iotschema.org/protocol/coap"</span>,
      <span class="hljs-attr">"mqtt"</span>: <span class="hljs-string">"http://iotschema.org/protocol/mqtt"</span>
    }
  ],
  <span class="hljs-attr">"@type"</span>: [ <span class="hljs-string">"Thing"</span>, <span class="hljs-string">"iot:Light"</span>, <span class="hljs-string">"iot:LevelCapability"</span>, <span class="hljs-string">"iot:BinarySwitch"</span> ],
  <span class="hljs-attr">"base"</span>: <span class="hljs-string">"http://example.com"</span>,
  <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Lamp"</span>,
  <span class="hljs-attr">"interaction"</span>: [
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Switch State"</span>,
      <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"Property"</span>, <span class="hljs-string">"iot:SwitchStatus"</span>],
      <span class="hljs-attr">"schema"</span>:  {
        <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"iot:SwitchData"</span>],
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"boolean"</span>
      },
      <span class="hljs-attr">"writable"</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">"observable"</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">"form"</span>: [
        {
          <span class="hljs-attr">"href"</span>: <span class="hljs-string">"/example/light/currentswitch"</span>,
          <span class="hljs-attr">"rel"</span>: [<span class="hljs-string">"readProperty"</span>, <span class="hljs-string">"writeProperty"</span>],
          <span class="hljs-attr">"mediaType"</span>: <span class="hljs-string">"application/json"</span>
        }
      ]
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Current brightness"</span>,
      <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"Property"</span>, <span class="hljs-string">"iot:CurrentLevel"</span>],
      <span class="hljs-attr">"schema"</span>:  {
        <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"iot:LevelData"</span>],
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>
      },
      <span class="hljs-attr">"writable"</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">"observable"</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">"form"</span>: [
        {
          <span class="hljs-attr">"href"</span>: <span class="hljs-string">"/example/light/currentdimmer"</span>,
          <span class="hljs-attr">"rel"</span>: [<span class="hljs-string">"readProperty"</span>, <span class="hljs-string">"writeProperty"</span>],
          <span class="hljs-attr">"mediaType"</span>: <span class="hljs-string">"application/json"</span>
        }
      ]
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Switch On"</span>,
      <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"Action"</span>, <span class="hljs-string">"iot:SwitchOn"</span>],
      <span class="hljs-attr">"inputSchema"</span>:  {
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"boolean"</span>,
        <span class="hljs-attr">"const"</span>: <span class="hljs-literal">true</span>
      },
      <span class="hljs-attr">"form"</span>: [
        {
          <span class="hljs-attr">"href"</span>: <span class="hljs-string">"/example/light/currentswitch"</span>,
          <span class="hljs-attr">"rel"</span>: [<span class="hljs-string">"invokeAction"</span>],
          <span class="hljs-attr">"mediaType"</span>: <span class="hljs-string">"application/json"</span>
        }
      ]
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Switch Off"</span>,
      <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"Action"</span>, <span class="hljs-string">"iot:SwitchOff"</span>],
      <span class="hljs-attr">"inputSchema"</span>:  {
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"boolean"</span>,
        <span class="hljs-attr">"const"</span>: <span class="hljs-literal">false</span>
      },
      <span class="hljs-attr">"form"</span>: [
        {
          <span class="hljs-attr">"href"</span>: <span class="hljs-string">"/example/light/currentswitch"</span>,
          <span class="hljs-attr">"rel"</span>: [<span class="hljs-string">"invokeAction"</span>],
          <span class="hljs-attr">"mediaType"</span>: <span class="hljs-string">"application/json"</span>
        }
      ]
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Set brightness level"</span>,
      <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"Action"</span>, <span class="hljs-string">"iot:SetLevel"</span>],
      <span class="hljs-attr">"inputSchema"</span>:  {
        <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"iot:LevelData"</span>],
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>
      },
      <span class="hljs-attr">"form"</span>: [
        {
          <span class="hljs-attr">"href"</span>: <span class="hljs-string">"/example/light/currentdimmer"</span>,
          <span class="hljs-attr">"rel"</span>: [<span class="hljs-string">"invokeAction"</span>],
          <span class="hljs-attr">"mediaType"</span>: <span class="hljs-string">"application/json"</span>
        }
      ]
    }
  ]
}</pre></div>
      <p>
        TD with complex payload and multiple protocol options
      </p>
      <div class="example"><div class="example-title marker"><span>Example 17</span><span style="text-transform: none">: TD with protocol options and complex payload</span></div><pre class="hljs json" aria-busy="false">{
  <span class="hljs-attr">"@context"</span>: [
    <span class="hljs-string">"https://w3c.github.io/wot/w3c-wot-td-context.jsonld"</span>,
    <span class="hljs-string">"https://w3c.github.io/wot/w3c-wot-common-context.jsonld"</span>,
    {
      <span class="hljs-attr">"iot"</span>: <span class="hljs-string">"http://iotschema.org/"</span>,
      <span class="hljs-attr">"http"</span>: <span class="hljs-string">"http://iotschema.org/protocol/http"</span>,
      <span class="hljs-attr">"coap"</span>: <span class="hljs-string">"http://iotschema.org/protocol/coap"</span>,
      <span class="hljs-attr">"mqtt"</span>: <span class="hljs-string">"http://iotschema.org/protocol/mqtt"</span>
    }
  ],
  <span class="hljs-attr">"base"</span>: <span class="hljs-string">"http://example.com/"</span>,
  <span class="hljs-attr">"@type"</span>: [ <span class="hljs-string">"Thing"</span>, <span class="hljs-string">"iot:Light"</span>, <span class="hljs-string">"iot:LevelCapability"</span>, <span class="hljs-string">"iot:BinarySwitch"</span> ],
  <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Lamp"</span>,
  <span class="hljs-attr">"interaction"</span>: [
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Switch State"</span>,
      <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"Property"</span>, <span class="hljs-string">"iot:SwitchStatus"</span>],
      <span class="hljs-attr">"schema"</span>:  {
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
        <span class="hljs-attr">"field"</span>: [
          {
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"switch"</span>,
            <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"iot:SwitchData"</span>],
            <span class="hljs-attr">"schema"</span>: {
              <span class="hljs-attr">"type"</span>: <span class="hljs-string">"boolean"</span>
            }
          }
        ]
      },
      <span class="hljs-attr">"writable"</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">"observable"</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">"form"</span>: [
        {
          <span class="hljs-attr">"href"</span>: <span class="hljs-string">"/example/light/currentswitch"</span>,
          <span class="hljs-attr">"mediaType"</span>: <span class="hljs-string">"application/json"</span>,
          <span class="hljs-attr">"rel"</span>: [<span class="hljs-string">"readProperty"</span>],
          <span class="hljs-attr">"http:methodName"</span>: <span class="hljs-string">"GET"</span>
        },
        {
          <span class="hljs-attr">"href"</span>: <span class="hljs-string">"/example/light/currentswitch"</span>,
          <span class="hljs-attr">"mediaType"</span>: <span class="hljs-string">"application/json"</span>,
          <span class="hljs-attr">"rel"</span>: [<span class="hljs-string">"writeProperty"</span>],
          <span class="hljs-attr">"http:methodName"</span>: <span class="hljs-string">"POST"</span>
        },
        {
          <span class="hljs-attr">"href"</span>: <span class="hljs-string">"mqtt://example.com/example/light/currentswitch"</span>,
          <span class="hljs-attr">"rel"</span>: [<span class="hljs-string">"observeProperty"</span>],
          <span class="hljs-attr">"mqtt:commandCode"</span>: <span class="hljs-number">8</span>
        }
      ]
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Current brightness"</span>,
      <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"Property"</span>, <span class="hljs-string">"iot:CurrentLevel"</span>],
      <span class="hljs-attr">"schema"</span>: {
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
        <span class="hljs-attr">"field"</span>: [
          {
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"brightness"</span>,
            <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"iot:LevelData"</span> ],
            <span class="hljs-attr">"schema"</span>: {
              <span class="hljs-attr">"type"</span>: <span class="hljs-string">"integer"</span>,
              <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">0</span>,
              <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">255</span>
            }
          }
        ]
      },
      <span class="hljs-attr">"writable"</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">"observable"</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">"form"</span>: [
        {
          <span class="hljs-attr">"href"</span>: <span class="hljs-string">"/example/light/currentdimmer"</span>,
          <span class="hljs-attr">"mediaType"</span>: <span class="hljs-string">"application/json"</span>,
          <span class="hljs-attr">"rel"</span>: [<span class="hljs-string">"readProperty"</span>],
          <span class="hljs-attr">"http:methodName"</span>: <span class="hljs-string">"GET"</span>
        },
        {
          <span class="hljs-attr">"href"</span>: <span class="hljs-string">"/example/light/currentdimmer"</span>,
          <span class="hljs-attr">"mediaType"</span>: <span class="hljs-string">"application/json"</span>,
          <span class="hljs-attr">"rel"</span>: [<span class="hljs-string">"writeProperty"</span>],
          <span class="hljs-attr">"http:methodName"</span>: <span class="hljs-string">"POST"</span>
        },
        {
          <span class="hljs-attr">"href"</span>: <span class="hljs-string">"mqtt://example.com/example/light/currentdimmer"</span>,
          <span class="hljs-attr">"rel"</span>: [<span class="hljs-string">"observeProperty"</span>],
          <span class="hljs-attr">"mqtt:commandCode"</span>: <span class="hljs-number">8</span>
        }
      ]
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Transition Time"</span>,
      <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"Property"</span>, <span class="hljs-string">"iot:TransitionTime"</span>],
      <span class="hljs-attr">"schema"</span>: {
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
        <span class="hljs-attr">"field"</span>: [
          {
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"transitiontime"</span>,
            <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"iot:TransitionTimeData"</span> ],
            <span class="hljs-attr">"schema"</span>: {
              <span class="hljs-attr">"type"</span>: <span class="hljs-string">"integer"</span>,
              <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">0</span>,
              <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">255</span>
            }
          }
        ]
      },
      <span class="hljs-attr">"writable"</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">"observable"</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">"form"</span>: [
        {
          <span class="hljs-attr">"href"</span>: <span class="hljs-string">"/example/light/transitiontime"</span>,
          <span class="hljs-attr">"mediaType"</span>: <span class="hljs-string">"application/json"</span>,
          <span class="hljs-attr">"rel"</span>: [<span class="hljs-string">"readProperty"</span>],
          <span class="hljs-attr">"http:methodName"</span>: <span class="hljs-string">"GET"</span>
        },
        {
          <span class="hljs-attr">"href"</span>: <span class="hljs-string">"/example/light/transitiontime"</span>,
          <span class="hljs-attr">"mediaType"</span>: <span class="hljs-string">"application/json"</span>,
          <span class="hljs-attr">"rel"</span>: [<span class="hljs-string">"writeProperty"</span>],
          <span class="hljs-attr">"http:methodName"</span>: <span class="hljs-string">"POST"</span>
        }
      ]
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Switch On"</span>,
      <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"Action"</span>, <span class="hljs-string">"iot:SwitchOn"</span>],
      <span class="hljs-attr">"inputSchema"</span>:  {
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
        <span class="hljs-attr">"field"</span>: [
          {
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"switch"</span>,
            <span class="hljs-attr">"schema"</span>:{
              <span class="hljs-attr">"type"</span>: <span class="hljs-string">"boolean"</span>,
              <span class="hljs-attr">"const"</span>: <span class="hljs-literal">true</span>
            }
          }
        ]
      },
      <span class="hljs-attr">"form"</span>: [
        {
          <span class="hljs-attr">"href"</span>: <span class="hljs-string">"/example/light/currentswitch"</span>,
          <span class="hljs-attr">"mediaType"</span>: <span class="hljs-string">"application/json"</span>,
          <span class="hljs-attr">"rel"</span>: [<span class="hljs-string">"invokeAction"</span>],
          <span class="hljs-attr">"http:methodName"</span>: <span class="hljs-string">"POST"</span>
        }
      ]
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Switch Off"</span>,
      <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"Action"</span>, <span class="hljs-string">"iot:SwitchOff"</span>],
      <span class="hljs-attr">"inputSchema"</span>:  {
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
        <span class="hljs-attr">"field"</span>: [
          {
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"switch"</span>,
            <span class="hljs-attr">"schema"</span>: {
              <span class="hljs-attr">"type"</span>: <span class="hljs-string">"boolean"</span>,
              <span class="hljs-attr">"const"</span>: <span class="hljs-literal">false</span>
            }
          }
        ]
      },
      <span class="hljs-attr">"form"</span>: [
        {
          <span class="hljs-attr">"href"</span>: <span class="hljs-string">"/example/light/currentswitch"</span>,
          <span class="hljs-attr">"mediaType"</span>: <span class="hljs-string">"application/json"</span>,
          <span class="hljs-attr">"rel"</span>: [<span class="hljs-string">"invokeAction"</span>],
          <span class="hljs-attr">"http:methodName"</span>: <span class="hljs-string">"POST"</span>
        }
      ]
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Set brightness level"</span>,
      <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"Action"</span>, <span class="hljs-string">"iot:SetLevel"</span>],
      <span class="hljs-attr">"inputSchema"</span>: {
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
        <span class="hljs-attr">"field"</span>: [
          {
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"brightness"</span>,
            <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"iot:LevelData"</span>],
            <span class="hljs-attr">"schema"</span>: {
              <span class="hljs-attr">"type"</span>: <span class="hljs-string">"integer"</span>,
              <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">0</span>,
              <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">255</span>
            }
          },
          {
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"transitiontime"</span>,
            <span class="hljs-attr">"@type"</span>: [<span class="hljs-string">"iot:TransitionTimeData"</span>],
            <span class="hljs-attr">"schema"</span>: {
              <span class="hljs-attr">"type"</span>: <span class="hljs-string">"integer"</span>,
              <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">0</span>,
              <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">65535</span>
            }
          }
        ]
      },
      <span class="hljs-attr">"form"</span>: [
        {
          <span class="hljs-attr">"href"</span>: <span class="hljs-string">"/example/light/"</span>,
          <span class="hljs-attr">"mediaType"</span>: <span class="hljs-string">"application/json"</span>,
          <span class="hljs-attr">"rel"</span>: [<span class="hljs-string">"invokeAction"</span>],
          <span class="hljs-attr">"http:methodName"</span>: <span class="hljs-string">"POST"</span>
        }
      ]
    }
  ]
}</pre></div>

    </section>


    <section id="references" class="informative">
      <!--OddPage--><h2 id="x5-references"><span class="secno">5. </span>References</h2><p><em>This section is non-normative.</em></p>
      <p>
        <a href="https://www.iana.org/assignments/link-relations/link-relations.xhtml">IANA link relations</a>
      </p>
      <p>
        <a href="https://tools.ietf.org/html/rfc6906">"profile" relation</a>

      </p>
      <p>
       A media type defines both the semantics and the serialization of a
       specific type of content.  In many cases, media types have some
       built-in extensibility or openness, so that specific instances of the
       media type can layer additional semantics on top of the media type's
       foundation.  In this case, a profile is the appropriate mechanism to
       signal that the original semantics and processing model of the media
       type still apply, but that an additional processing model can be used
       to extract additional semantics.
      </p>
      <p>
        <a href="https://www.w3.org/TR/HTTP-in-RDF10/">HTTP vocabulary</a>
      </p>
      <p>

        <a href="https://www.iana.org/assignments/websocket/websocket.xml#subprotocol-name">IANA Registry for Websocket Subprotocols</a>
      </p>


    </section>


    <section id="sec-security-considerations">
      <!--OddPage--><h2 id="x6-security-and-privacy-considerations"><span class="secno">6. </span>Security and Privacy Considerations</h2>
      <div class="ednote"><div role="heading" class="ednote-title marker" id="h-ednote-2" aria-level="3"><span>Editor's note</span></div><p class="">
        Security and privacy considerations are still under discussion and development; the content below should be considered preliminary.
        Due to the complexity of the subject
        we are considering producing a separate document containing a detailed security and privacy considerations discussion
        including a risk analysis,
        threat model,
        recommended mitigations,
        and appropriate references to best practices.
        A summary will be included here.
        Work in progress is located in the
        <a href="https://github.com/w3c/wot-security/">WoT Security and Privacy</a> repository.
        Please file any security or privacy considerations and/or concerns using the <a href="https://github.com/w3c/wot-security/issues">GitHub Issue</a> feature.
      </p></div>
      <p><!-- Security requirements for the the WoT -->
        Security is a cross-cutting issue that needs to be taken into account in all
        <a href="https://www.w3.org/TR/2017/WD-wot-architecture-20170914/#sec-building-blocks">
	WoT building blocks</a>.
        The <abbr title="World Wide Web Consortium">W3C</abbr> WoT does not define any new security mechanisms,
        but provides guidelines to apply the best practices from
        Web security,
        IoT security,
        and information security for general software and hardware considerations.
      </p>
      <p>
        The <a href="https://github.com/w3c/wot-architecture/blob/master/terminology.md#user-content-thing-description-td">WoT Thing Description</a> must be used together with integrity protection mechanisms and access control policies.
        Users must ensure that no sensitive information is included in the <a href="https://github.com/w3c/wot-architecture/blob/master/terminology.md#user-content-td">TDs</a> themselves.
      </p>
      <p>
        The <a href="https://github.com/w3c/wot-architecture/blob/master/terminology.md#user-content-binding-templates">WoT Binding Templates</a> must correctly cover the security mechanisms employed by the underlying <a href="https://github.com/w3c/wot-architecture/blob/master/terminology.md#user-content-iot-platform">IoT Platform</a>.
        Due to the automation of network interactions necessary in the IoT, operators need to ensure that <a href="https://github.com/w3c/wot-architecture/blob/master/terminology.md#user-content-thing">Things</a> are exposed and consumed in a way that is compliant with their security policies.
      </p>
      <p>
        The <a href="https://github.com/w3c/wot-architecture/blob/master/terminology.md#user-content-wot-runtime">WoT Runtime</a> implementation for the <a href="https://github.com/w3c/wot-architecture/blob/master/terminology.md#user-content-scripting-api">WoT Scripting API</a> must have mechanisms to prevent malicious access to the system and isolate scripts in multi-tenant <a href="https://github.com/w3c/wot-architecture/blob/master/terminology.md#user-content-servient">Servients</a>.
      </p>
    </section>


    <section class="appendix" id="acknowledgements">
      <!--OddPage--><h2 id="a-acknowledgements"><span class="secno">A. </span>Acknowledgements</h2>
      <p>
        Special thanks to all active Participants of the <abbr title="World Wide Web Consortium">W3C</abbr> Web of Things Interest Group and Working Group
        for their technical input and suggestions that led to improvements to this document.
      </p>
    </section>
<!--
    <section class="appendix">
      <h2>Change History</h2>
      <p>
        This is the First Public Working Draft.
      </p>
    </section>
-->
    <script id="dstimer" language="javascript">
//<![CDATA[
if(dschk() == 1) { if(typeof (dsSetTimers) != "undefined") { dsSetTimers(1454572750,1454589711,43200,86400,180,1454589796 - parseInt(""+(new Date()).getTime()/1000),1);}}
//]]>
    </script>
  

<p role="navigation" id="back-to-top"><a href="#toc"><abbr title="Back to Top">↑</abbr></a></p><script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script></body></html>
