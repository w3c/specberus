
<!DOCTYPE html><html lang="en" dir="ltr"><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="generator" content="ReSpec 26.2.0">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<style>
span.example-title{text-transform:none}
aside.example,div.example,div.illegal-example{padding:.5em;margin:1em 0;position:relative;clear:both}
div.illegal-example{color:red}
div.illegal-example p{color:#000}
aside.example,div.example{padding:.5em;border-left-width:.5em;border-left-style:solid;border-color:#e0cb52;background:#fcfaee}
aside.example div.example{border-left-width:.1em;border-color:#999;background:#fff}
aside.example div.example span.example-title{color:#999}
.example pre{background-color:rgba(0,0,0,.03)}
</style>
<style>
.issue-label{text-transform:initial}
.warning>p:first-child{margin-top:0}
.warning{padding:.5em;border-left-width:.5em;border-left-style:solid}
span.warning{padding:.1em .5em .15em}
.issue.closed span.issue-number{text-decoration:line-through}
.warning{border-color:#f11;border-width:.2em;border-style:solid;background:#fbe9e9}
.warning-title:before{content:"⚠";font-size:1.3em;float:left;padding-right:.3em;margin-top:-.3em}
li.task-list-item{list-style:none}
input.task-list-item-checkbox{margin:0 .35em .25em -1.6em;vertical-align:middle}
.issue a.respec-gh-label{padding:5px;margin:0 2px 0 2px;font-size:10px;text-transform:none;text-decoration:none;font-weight:700;border-radius:4px;position:relative;bottom:2px;border:none;display:inline-block}
</style>
<style>
dfn{cursor:pointer}
.dfn-panel{position:absolute;z-index:35;min-width:300px;max-width:500px;padding:.5em .75em;margin-top:.6em;font:small Helvetica Neue,sans-serif,Droid Sans Fallback;background:#fff;color:#000;box-shadow:0 1em 3em -.4em rgba(0,0,0,.3),0 0 1px 1px rgba(0,0,0,.05);border-radius:2px}
.dfn-panel:not(.docked)>.caret{position:absolute;top:-9px}
.dfn-panel:not(.docked)>.caret::after,.dfn-panel:not(.docked)>.caret::before{content:"";position:absolute;border:10px solid transparent;border-top:0;border-bottom:10px solid #fff;top:0}
.dfn-panel:not(.docked)>.caret::before{border-bottom:9px solid #a2a9b1}
.dfn-panel *{margin:0}
.dfn-panel b{display:block;color:#000;margin-top:.25em}
.dfn-panel ul a[href]{color:#333}
.dfn-panel>div{display:flex}
.dfn-panel a.self-link{font-weight:700;margin-right:auto}
.dfn-panel .marker{padding:.1em;margin-left:.5em;border-radius:.2em;text-align:center;white-space:nowrap;font-size:90%;color:#040b1c}
.dfn-panel .marker.dfn-exported{background:#d1edfd;box-shadow:0 0 0 .125em #1ca5f940}
.dfn-panel .marker.idl-block{background:#8ccbf2;box-shadow:0 0 0 .125em #0670b161}
.dfn-panel a:not(:hover){text-decoration:none!important;border-bottom:none!important}
.dfn-panel a[href]:hover{border-bottom-width:1px}
.dfn-panel ul{padding:0}
.dfn-panel li{margin-left:1em}
.dfn-panel.docked{position:fixed;left:.5em;top:unset;bottom:2em;margin:0 auto;max-width:calc(100vw - .75em * 2 - .5em - .2em * 2);max-height:30vh;overflow:auto}
</style>

<title>Decentralized Identifiers (DIDs) v1.0</title>





<style id="respec-mainstyle">
@keyframes pop{
0%{transform:scale(1,1)}
25%{transform:scale(1.25,1.25);opacity:.75}
100%{transform:scale(1,1)}
}
.hljs{background:0 0!important}
a abbr,h1 abbr,h2 abbr,h3 abbr,h4 abbr,h5 abbr,h6 abbr{border:none}
dfn{font-weight:700}
a.internalDFN{color:inherit;border-bottom:1px solid #99c;text-decoration:none}
a.externalDFN{color:inherit;border-bottom:1px dotted #ccc;text-decoration:none}
a.bibref{text-decoration:none}
.respec-offending-element:target{animation:pop .25s ease-in-out 0s 1}
.respec-offending-element,a[href].respec-offending-element{text-decoration:red wavy underline}
@supports not (text-decoration:red wavy underline){
.respec-offending-element:not(pre){display:inline-block}
.respec-offending-element{background:url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x}
}
#references :target{background:#eaf3ff;animation:pop .4s ease-in-out 0s 1}
cite .bibref{font-style:normal}
code{color:#c63501}
th code{color:inherit}
a[href].orcid{padding-left:4px;padding-right:4px}
a[href].orcid>svg{margin-bottom:-2px}
.toc a,.tof a{text-decoration:none}
a .figno,a .secno{color:#000}
ol.tof,ul.tof{list-style:none outside none}
.caption{margin-top:.5em;font-style:italic}
table.simple{border-spacing:0;border-collapse:collapse;border-bottom:3px solid #005a9c}
.simple th{background:#005a9c;color:#fff;padding:3px 5px;text-align:left}
.simple th a{color:#fff;padding:3px 5px;text-align:left}
.simple th[scope=row]{background:inherit;color:inherit;border-top:1px solid #ddd}
.simple td{padding:3px 10px;border-top:1px solid #ddd}
.simple tr:nth-child(even){background:#f0f6ff}
.section dd>p:first-child{margin-top:0}
.section dd>p:last-child{margin-bottom:0}
.section dd{margin-bottom:1em}
.section dl.attrs dd,.section dl.eldef dd{margin-bottom:0}
#issue-summary>ul{column-count:2}
#issue-summary li{list-style:none;display:inline-block}
details.respec-tests-details{margin-left:1em;display:inline-block;vertical-align:top}
details.respec-tests-details>*{padding-right:2em}
details.respec-tests-details[open]{z-index:999999;position:absolute;border:thin solid #cad3e2;border-radius:.3em;background-color:#fff;padding-bottom:.5em}
details.respec-tests-details[open]>summary{border-bottom:thin solid #cad3e2;padding-left:1em;margin-bottom:1em;line-height:2em}
details.respec-tests-details>ul{width:100%;margin-top:-.3em}
details.respec-tests-details>li{padding-left:1em}
a[href].self-link:hover{opacity:1;text-decoration:none;background-color:transparent}
h2,h3,h4,h5,h6{position:relative}
aside.example .marker>a.self-link{color:inherit}
h2>a.self-link,h3>a.self-link,h4>a.self-link,h5>a.self-link,h6>a.self-link{border:none;color:inherit;font-size:83%;height:2em;left:-1.6em;opacity:.5;position:absolute;text-align:center;text-decoration:none;top:0;transition:opacity .2s;width:2em}
h2>a.self-link::before,h3>a.self-link::before,h4>a.self-link::before,h5>a.self-link::before,h6>a.self-link::before{content:"§";display:block}
@media (max-width:767px){
dd{margin-left:0}
h2>a.self-link,h3>a.self-link,h4>a.self-link,h5>a.self-link,h6>a.self-link{left:auto;top:auto}
}
@media print{
.removeOnSave{display:none}
}
</style>






<style>

  pre .highlight {
    font-weight: bold;
    color: green;
  }
  pre .comment {
    color: SteelBlue;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }
  code a[href] {
    color: inherit;
    border-bottom: none;
  }
  code a[href]:hover {
    border-bottom: 1px solid #c63501;
  }
  table.column-width-50 td {
    width: 50%;
  }

</style>

<meta name="description" content="Decentralized identifiers (DIDs) are a new type of identifier that
enables verifiable, decentralized digital identity. A DID identifies any
subject (e.g., a person, organization, thing, data model, abstract entity, etc.)
that the controller of the DID decides that it identifies. In contrast to
typical, federated identifiers, DIDs have been designed so that they may
be decoupled from centralized registries, identity providers, and certificate
authorities. Specifically, while other parties might be used to help enable the
discovery of information related to a DID, the design enables the
controller of a DID to prove control over it without requiring permission
from any other party. DIDs are URIs that associate a DID
subject with a DID document allowing trustable interactions
associated with that subject.">
<link rel="canonical" href="https://www.w3.org/TR/did-core/">
<style>
.hljs{display:block;overflow-x:auto;padding:.5em;color:#383a42;background:#fafafa}
.hljs-comment,.hljs-quote{color:#717277;font-style:italic}
.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}
.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#ca4706;font-weight:700}
.hljs-literal{color:#0b76c5}
.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#42803c}
.hljs-built_in,.hljs-class .hljs-title{color:#9a6a01}
.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}
.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#336ae3}
.hljs-emphasis{font-style:italic}
.hljs-strong{font-weight:700}
.hljs-link{text-decoration:underline}
</style>
<style>
var{position:relative;cursor:pointer}
var[data-type]::after,var[data-type]::before{position:absolute;left:50%;top:-6px;opacity:0;transition:opacity .4s;pointer-events:none}
var[data-type]::before{content:"";transform:translateX(-50%);border-width:4px 6px 0 6px;border-style:solid;border-color:transparent;border-top-color:#000}
var[data-type]::after{content:attr(data-type);transform:translateX(-50%) translateY(-100%);background:#000;text-align:center;font-family:"Dank Mono","Fira Code",monospace;font-style:normal;padding:6px;border-radius:3px;color:#daca88;text-indent:0;font-weight:400}
var[data-type]:hover::after,var[data-type]:hover::before{opacity:1}
</style>
<script id="initialUserConfig" type="application/json">{
  "group": "did",
  "wgPublicList": "public-did-wg",
  "shortName": "did-core",
  "specStatus": "CR",
  "crEnd": "2021-04-18",
  "implementationReportURI": "https://w3c.github.io/did-test-suite/",
  "edDraftURI": "https://w3c.github.io/did-core/",
  "subtitle": "Core architecture, data model, and representations",
  "publishDate": "2021-03-18",
  "previousPublishDate": "2021-03-09",
  "previousMaturity": "WD",
  "pluralize": true,
  "localBiblio": {
    "DID-SPEC-REGISTRIES": {
      "title": "DID Specification Registries",
      "href": "https://w3c.github.io/did-spec-registries/",
      "authors": [
        "Orie Steele",
        "Manu Sporny"
      ],
      "status": "ED",
      "publisher": "Decentralized Identifier Working Group",
      "id": "did-spec-registries"
    },
    "REST": {
      "title": "Architectural Styles and the Design of Network-based Software Architectures",
      "date": "2000",
      "href": "https://www.ics.uci.edu/~fielding/pubs/dissertation/",
      "authors": [
        "Fielding, Roy Thomas"
      ],
      "publisher": "University of California, Irvine."
    },
    "VC-USECASES": {
      "title": "Verifiable Claims Use Cases",
      "href": "https://www.w3.org/TR/verifiable-claims-use-cases/",
      "authors": [
        "Shane McCarron",
        "Daniel Burnett",
        "Gregg Kellogg",
        "Brian Sletten",
        "Manu Sporny"
      ],
      "status": "FPWD",
      "publisher": "Verifiable Claims Working Group"
    },
    "DID-USE-CASES": {
      "title": "Decentralized Identifier Use Cases",
      "href": "https://www.w3.org/TR/did-use-cases/",
      "authors": [
        "Joe Andrieu",
        "Kim Hamilton Duffy",
        "Ryan Grant",
        "Adrian Gropper"
      ],
      "status": "ED",
      "publisher": "Decentralized Identifier Working Group"
    },
    "HTTP-SIGNATURES": {
      "aliasOf": "http-signatures"
    },
    "MACAROONS": {
      "title": "Macaroons",
      "href": "https://macaroons.io/",
      "authors": [
        "Arnar Birgisson",
        "Joe Gibbs Politz",
        "Úlfar Erlingsson",
        "Ankur Taly",
        "Michael Vrable",
        "Mark Lentczner"
      ],
      "status": "unofficial",
      "publisher": "Credentials Community Group"
    },
    "OPEN-BADGES": {
      "title": "Open Badges",
      "href": "https://github.com/openbadges/openbadges-specification",
      "authors": [
        "Brian Brennan",
        "Mike Larsson",
        "Chris McAvoy",
        "Nate Otto",
        "Kerri Lemoie"
      ],
      "status": "BA-DRAFT",
      "publisher": "Badge Alliance Standard Working Group"
    },
    "RDF-NORMALIZATION": {
      "title": "RDF Dataset Normalization",
      "href": "https://json-ld.github.io/normalization/spec/",
      "authors": [
        "Dave Longley",
        "Manu Sporny"
      ],
      "status": "CG-DRAFT",
      "publisher": "Credentials W3C Community Group"
    },
    "LD-PROOFS": {
      "title": "Linked Data Proofs",
      "href": "https://w3c-dvcg.github.io/ld-proofs/",
      "authors": [
        "Manu Sporny",
        "Dave Longley"
      ],
      "status": "CG-DRAFT",
      "publisher": "Digital Verification Community Group"
    },
    "LD-SIGNATURES": {
      "title": "Linked Data Signatures",
      "href": "https://w3c-dvcg.github.io/ld-signatures/",
      "authors": [
        "Manu Sporny",
        "Dave Longley"
      ],
      "status": "CG-DRAFT",
      "publisher": "Digital Verification Community Group"
    },
    "MATRIX-URIS": {
      "title": "Matrix URIs - Ideas about Web Architecture",
      "date": "December 1996",
      "href": "https://www.w3.org/DesignIssues/MatrixURIs.html",
      "authors": [
        "Tim Berners-Lee"
      ],
      "status": "Personal View",
      "id": "matrix-uris"
    },
    "HASHLINK": {
      "title": "Cryptographic Hyperlinks",
      "date": "December 2018",
      "href": "https://tools.ietf.org/html/draft-sporny-hashlink-05",
      "authors": [
        "Manu Sporny"
      ],
      "status": "Internet-Draft",
      "publisher": "IETF",
      "id": "hashlink"
    },
    "BASE58": {
      "title": "The Base58 Encoding Scheme",
      "date": "October 2020",
      "href": "https://tools.ietf.org/html/draft-msporny-base58",
      "authors": [
        "Manu Sporny"
      ],
      "status": "Internet-Draft",
      "publisher": "IETF",
      "id": "base58"
    },
    "DNS-DID": {
      "title": "The Decentralized Identifier (DID) in the DNS",
      "date": "February 2019",
      "href": "https://datatracker.ietf.org/doc/draft-mayrhofer-did-dns/",
      "authors": [
        "Alexander Mayrhofer",
        "Dimitrij Klesev",
        "Markus Sabadello"
      ],
      "status": "Internet-Draft",
      "id": "dns-did"
    },
    "DID-RESOLUTION": {
      "title": "Decentralized Identifier Resolution",
      "href": "https://w3c-ccg.github.io/did-resolution/",
      "authors": [
        "Markus Sabadello",
        "Dmitri Zagidulin"
      ],
      "status": "Draft Community Group Report",
      "publisher": "Credentials Community Group",
      "id": "did-resolution"
    },
    "DID-RUBRIC": {
      "title": "Decentralized Characteristics Rubric v1.0",
      "href": "https://w3c.github.io/did-rubric/",
      "authors": [
        "Joe Andrieu"
      ],
      "status": "Draft Community Group Report",
      "publisher": "Credentials Community Group",
      "id": "did-rubric"
    },
    "PRIVACY-BY-DESIGN": {
      "title": "Privacy by Design",
      "href": "https://iapp.org/media/pdf/resource_center/pbd_implement_7found_principles.pdf",
      "authors": [
        "Ann Cavoukian"
      ],
      "date": "2011",
      "publisher": "Information and Privacy Commissioner",
      "id": "privacy-by-design"
    },
    "MULTIBASE": {
      "title": "The Multibase Encoding Scheme",
      "date": "February 2021",
      "href": "https://datatracker.ietf.org/doc/html/draft-multiformats-multibase-03",
      "authors": [
        "Juan Benet",
        "Manu Sporny"
      ],
      "status": "Internet-Draft",
      "publisher": "IETF",
      "id": "multibase"
    },
    "JSON-LD11": {
      "title": "JSON-LD 1.1",
      "date": "2020-07-16",
      "authors": [
        "Gregg Kellogg",
        "Pierre-Antoine Champin",
        "Dave Longley"
      ],
      "status": "W3C Recommendation",
      "publisher": "W3C",
      "href": "https://www.w3.org/TR/json-ld11/",
      "id": "json-ld11"
    },
    "VC-DATA-MODEL": {
      "title": "Verifiable Credentials Data Model 1.0",
      "date": "2019-11-19",
      "authors": [
        "Manu Sporny",
        "Grant Noble",
        "Dave Longley",
        "Daniel Burnett",
        "Brent Zundel"
      ],
      "status": "W3C Recommendation",
      "publisher": "W3C",
      "href": "https://www.w3.org/TR/vc-data-model/",
      "id": "vc-data-model"
    }
  },
  "xref": "web-platform",
  "github": {
    "repoURL": "https://github.com/w3c/did-core/",
    "branch": "main"
  },
  "includePermalinks": false,
  "preProcess": [],
  "postProcess": [
    null,
    null
  ],
  "editors": [
    {
      "name": "Drummond Reed",
      "url": "https://www.linkedin.com/in/drummondreed/",
      "company": "Evernym",
      "companyURL": "https://www.evernym.com/",
      "w3cid": 3096
    },
    {
      "name": "Manu Sporny",
      "url": "https://manu.sporny.org/",
      "company": "Digital Bazaar",
      "companyURL": "https://digitalbazaar.com/",
      "w3cid": 41758
    },
    {
      "name": "Markus Sabadello",
      "url": "https://www.linkedin.com/in/markus-sabadello-353a0821",
      "company": "Danube Tech",
      "companyURL": "https://danubetech.com/",
      "w3cid": 46729
    }
  ],
  "authors": [
    {
      "name": "Drummond Reed",
      "url": "https://www.linkedin.com/in/drummondreed/",
      "company": "Evernym",
      "companyURL": "https://www.evernym.com/",
      "w3cid": 3096
    },
    {
      "name": "Manu Sporny",
      "url": "https://manu.sporny.org/",
      "company": "Digital Bazaar",
      "companyURL": "https://digitalbazaar.com/",
      "w3cid": 41758
    },
    {
      "name": "Dave Longley",
      "url": "https://github.com/dlongley",
      "company": "Digital Bazaar",
      "companyURL": "https://digitalbazaar.com/",
      "w3cid": 48025
    },
    {
      "name": "Christopher Allen",
      "url": "https://www.linkedin.com/in/christophera",
      "company": "Blockchain Commons",
      "companyURL": "https://www.BlockchainCommons.com",
      "w3cid": 85560
    },
    {
      "name": "Ryan Grant",
      "url": "",
      "company": "",
      "companyURL": ""
    },
    {
      "name": "Markus Sabadello",
      "url": "https://www.linkedin.com/in/markus-sabadello-353a0821",
      "company": "Danube Tech",
      "companyURL": "https://danubetech.com/",
      "w3cid": 46729
    }
  ],
  "publishISODate": "2021-03-18T00:00:00.000Z",
  "generatedSubtitle": "Candidate Recommendation Snapshot 18 March 2021"
}</script>
<link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/W3C-CR"></head>
<body data-cite="infra rfc3986 HTML INFRA URL WEBIDL DOM FETCH" class="h-entry"><div class="head">
    <a class="logo" href="https://www.w3.org/"><img alt="W3C" width="72" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C"></a> <h1 id="title" class="title">Decentralized Identifiers (DIDs) v1.0</h1>
    <h2 id="subtitle" class="subtitle">Core architecture, data model, and representations</h2>
    <h2>
      W3C Candidate Recommendation Snapshot
      <time class="dt-published" datetime="2021-03-18">18 March 2021</time>
    </h2>
    <dl>
      <dt>This version:</dt><dd>
              <a class="u-url" href="https://www.w3.org/TR/2021/CR-did-core-20210318/">https://www.w3.org/TR/2021/CR-did-core-20210318/</a>
            </dd><dt>Latest published version:</dt><dd>
              <a href="https://www.w3.org/TR/did-core/">https://www.w3.org/TR/did-core/</a>
            </dd>
      <dt>Latest editor's draft:</dt><dd><a href="https://w3c.github.io/did-core/">https://w3c.github.io/did-core/</a></dd>

      <dt>Implementation report:</dt><dd>
              <a href="https://w3c.github.io/did-test-suite/">https://w3c.github.io/did-test-suite/</a>
            </dd>

      <dt>Previous version:</dt><dd><a href="https://www.w3.org/TR/2021/WD-did-core-20210309/">https://www.w3.org/TR/2021/WD-did-core-20210309/</a></dd>

      <dt>Editors:</dt>
      <dd class="p-author h-card vcard" data-editor-id="3096"><a class="u-url url p-name fn" href="https://www.linkedin.com/in/drummondreed/">Drummond Reed</a>
            (<a class="p-org org h-org h-card" href="https://www.evernym.com/">Evernym</a>)
          </dd><dd class="p-author h-card vcard" data-editor-id="41758"><a class="u-url url p-name fn" href="https://manu.sporny.org/">Manu Sporny</a>
            (<a class="p-org org h-org h-card" href="https://digitalbazaar.com/">Digital Bazaar</a>)
          </dd><dd class="p-author h-card vcard" data-editor-id="46729"><a class="u-url url p-name fn" href="https://www.linkedin.com/in/markus-sabadello-353a0821">Markus Sabadello</a>
            (<a class="p-org org h-org h-card" href="https://danubetech.com/">Danube Tech</a>)
          </dd>

      <dt>Authors:</dt><dd class="p-author h-card vcard" data-editor-id="3096"><a class="u-url url p-name fn" href="https://www.linkedin.com/in/drummondreed/">Drummond Reed</a>
            (<a class="p-org org h-org h-card" href="https://www.evernym.com/">Evernym</a>)
          </dd><dd class="p-author h-card vcard" data-editor-id="41758"><a class="u-url url p-name fn" href="https://manu.sporny.org/">Manu Sporny</a>
            (<a class="p-org org h-org h-card" href="https://digitalbazaar.com/">Digital Bazaar</a>)
          </dd><dd class="p-author h-card vcard" data-editor-id="48025"><a class="u-url url p-name fn" href="https://github.com/dlongley">Dave Longley</a>
            (<a class="p-org org h-org h-card" href="https://digitalbazaar.com/">Digital Bazaar</a>)
          </dd><dd class="p-author h-card vcard" data-editor-id="85560"><a class="u-url url p-name fn" href="https://www.linkedin.com/in/christophera">Christopher Allen</a>
            (<a class="p-org org h-org h-card" href="https://www.BlockchainCommons.com">Blockchain Commons</a>)
          </dd><dd class="p-author h-card vcard"><span class="p-name fn">Ryan Grant</span></dd><dd class="p-author h-card vcard" data-editor-id="46729"><a class="u-url url p-name fn" href="https://www.linkedin.com/in/markus-sabadello-353a0821">Markus Sabadello</a>
            (<a class="p-org org h-org h-card" href="https://danubetech.com/">Danube Tech</a>)
          </dd>
      <dt>Participate:</dt><dd>
    <a href="https://github.com/w3c/did-core/">GitHub w3c/did-core</a>
  </dd><dd>
    <a href="https://github.com/w3c/did-core/issues/">File a bug</a>
  </dd><dd>
    <a href="https://github.com/w3c/did-core/commits/main">Commit history</a>
  </dd><dd>
    <a href="https://github.com/w3c/did-core/pulls/">Pull requests</a>
  </dd>
    </dl>



    <p class="copyright">
    <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a>
    ©
    2021

    <a href="https://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="https://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>,
    <a href="https://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href="https://www.keio.ac.jp/">Keio</a>,
    <a href="https://ev.buaa.edu.cn/">Beihang</a>).
    W3C <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
    <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a rel="license" href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document">permissive document license</a> rules
    apply.
  </p>
    <hr title="Separator for header">
  </div>
  <section id="abstract" class="introductory"><h2>Abstract</h2>

    <p>
<a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-1">Decentralized identifiers</a> (DIDs) are a new type of identifier that
enables verifiable, decentralized digital identity. A <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-2">DID</a> identifies any
subject (e.g., a person, organization, thing, data model, abstract entity, etc.)
that the controller of the <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-3">DID</a> decides that it identifies. In contrast to
typical, federated identifiers, <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-4">DIDs</a> have been designed so that they may
be decoupled from centralized registries, identity providers, and certificate
authorities. Specifically, while other parties might be used to help enable the
discovery of information related to a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-5">DID</a>, the design enables the
controller of a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-6">DID</a> to prove control over it without requiring permission
from any other party. <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-7">DIDs</a> are <a href="#dfn-uri" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-uri-1">URIs</a> that associate a <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-1">DID
subject</a> with a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-1">DID document</a> allowing trustable interactions
associated with that subject.
    </p>
    <p>
Each <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-2">DID document</a> can express cryptographic material, <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-1">verification
methods</a>, or <a href="#dfn-service" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-1">services</a>, which provide a set of mechanisms enabling a
<a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-1">DID controller</a> to prove control of the <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-8">DID</a>. <a href="#dfn-service" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-2">Services</a> enable
trusted interactions associated with the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-2">DID subject</a>. A <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-9">DID</a> might
provide the means to return the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-3">DID subject</a> itself, if the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-4">DID
subject</a> is an information resource such as a data model.
    </p>
    <p>
This document specifies the DID syntax, a common data model, core properties,
serialized representations, DID operations, and an explanation of the process
of resolving DIDs to the resources that they represent.
    </p>
  </section>

  <section id="sotd" class="introductory"><h2>Status of This Document</h2><p><em>This section describes the status of this
      document at the time of its publication. Other documents may supersede
      this document. A list of current <abbr title="World Wide Web Consortium">W3C</abbr> publications and the latest revision
      of this technical report can be found in the
      <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical reports index</a> at
      https://www.w3.org/TR/.</em></p>

    <p>
The <abbr title="World Wide Web Consortium">W3C</abbr> Decentralized Identifier Working Group has published this document as a
<abbr title="World Wide Web Consortium">W3C</abbr> Candidate Recommendation and is requesting that software developers and DID
Method specification authors provide experimental implementations designed to
test the implementability of all of the features in this document.
    </p>

    <p>
To exit the <abbr title="World Wide Web Consortium">W3C</abbr> Candidate Recommendation phase, the <abbr title="World Wide Web Consortium">W3C</abbr> DID Working Group will
require two things: 1) for normative statements that are machine testable, at
least two interoperable implementations per feature, and 2) for normative
statements that are not machine testable, at least two demonstrations of
implementation per feature. A feature is defined as one or more functionally
related normative statements in the specification.
    </p>

    <p>
At present, there exist
<a href="https://w3c.github.io/did-spec-registries/#did-methods">82
experimental DID Method specifications</a>, 32 experimental DID Method driver
implementations, and a Candidate Recommendation <a href="https://w3c.github.io/did-test-suite/">test suite</a> that determines
whether or not a given implementation is conformant with this specification.
Readers are advised to heed the  <a href="https://github.com/w3c/did-core/issues">DID Core issues</a> and <a href="https://github.com/w3c/did-test-suite/issues"> DID Core Test Suite
issues</a> that each contain the latest list of concerns and proposed amendments
that might result in alterations to this specification.
    </p>

    <p>
Comments regarding this document are welcome. Please file issues
directly on <a href="https://github.com/w3c/did-core/issues/">GitHub</a>,
or send them
to <a href="mailto:public-did-wg@w3.org">public-did-wg@w3.org</a> (
<a href="mailto:public-did-wg-request@w3.org?subject=subscribe">subscribe</a>,
<a href="https://lists.w3.org/Archives/Public/public-did-wg/">archives</a>).
    </p>

  <p>
    This document was published by the <a href="https://www.w3.org/2019/did-wg/">Decentralized Identifier Working Group</a> as a
    Candidate Recommendation Snapshot.
    This document is intended to become a <abbr title="World Wide Web Consortium">W3C</abbr> Recommendation.
  </p><p>
    <a href="https://github.com/w3c/did-core/issues/">GitHub Issues</a> are preferred for
          discussion of this specification.

    Alternatively, you can send comments to our mailing list.
          Please send them to
          <a href="mailto:public-did-wg@w3.org">public-did-wg@w3.org</a>
          (<a href="mailto:public-did-wg-request@w3.org?subject=subscribe">subscribe</a>,
          <a href="https://lists.w3.org/Archives/Public/public-did-wg/">archives</a>).

  </p><p>
      Publication as a Candidate Recommendation does not imply endorsement
      by the <abbr title="World Wide Web Consortium">W3C</abbr> Membership. A Candidate Recommendation Snapshot has received
      <a href="https://www.w3.org/2021/Process-20211102/#dfn-wide-review">wide review</a>
      and is intended to gather
      <a href="https://w3c.github.io/did-test-suite/">implementation experience</a>.
    </p><p></p><p>This Candidate Recommendation is not expected to advance to Proposed Recommendation any earlier than 18 April 2021.</p><p>

        This document was produced by a group
        operating under the
        <a href="https://www.w3.org/Consortium/Patent-Policy/"><abbr title="World Wide Web Consortium">W3C</abbr> Patent
          Policy</a>.


                <abbr title="World Wide Web Consortium">W3C</abbr> maintains a
                <a rel="disclosure" href="https://www.w3.org/2004/01/pp-impl/117488/status">public list of any patent disclosures</a>
          made in connection with the deliverables of
          the group; that page also includes
          instructions for disclosing a patent. An individual who has actual
          knowledge of a patent which the individual believes contains
          <a href="https://www.w3.org/Consortium/Patent-Policy/#def-essential">Essential Claim(s)</a>
          must disclose the information in accordance with
          <a href="https://www.w3.org/Consortium/Patent-Policy/#sec-Disclosure">section 6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.


  </p><p>
                  This document is governed by the
                  <a id="w3c_process_revision" href="https://www.w3.org/2021/Process-20211102/">2 November 2021  <abbr title="World Wide Web Consortium">W3C</abbr> Process Document</a>.
                </p></section><nav id="toc"><h2 class="introductory" id="table-of-contents">Table of Contents</h2><ol class="toc"><li class="tocline"><a class="tocxref" href="#introduction"><bdi class="secno">1. </bdi>Introduction</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#a-simple-example"><bdi class="secno">1.1 </bdi>A Simple Example</a></li><li class="tocline"><a class="tocxref" href="#design-goals"><bdi class="secno">1.2 </bdi>Design Goals</a></li><li class="tocline"><a class="tocxref" href="#architecture-overview"><bdi class="secno">1.3 </bdi>
Architecture Overview
      </a></li><li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">1.4 </bdi>Conformance</a></li></ol></li><li class="tocline"><a class="tocxref" href="#terminology"><bdi class="secno">2. </bdi>Terminology</a></li><li class="tocline"><a class="tocxref" href="#identifier"><bdi class="secno">3. </bdi>Identifier</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#did-syntax"><bdi class="secno">3.1 </bdi>DID Syntax</a></li><li class="tocline"><a class="tocxref" href="#did-url-syntax"><bdi class="secno">3.2 </bdi>DID URL Syntax</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#did-parameters"><bdi class="secno">3.2.1 </bdi>DID Parameters</a></li><li class="tocline"><a class="tocxref" href="#relative-did-urls"><bdi class="secno">3.2.2 </bdi>Relative DID URLs</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#data-model"><bdi class="secno">4. </bdi>Data Model</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#extensibility"><bdi class="secno">4.1 </bdi>Extensibility</a></li></ol></li><li class="tocline"><a class="tocxref" href="#core-properties"><bdi class="secno">5. </bdi>Core Properties</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#identifiers"><bdi class="secno">5.1 </bdi>Identifiers</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#did-subject"><bdi class="secno">5.1.1 </bdi>DID Subject</a></li><li class="tocline"><a class="tocxref" href="#did-controller"><bdi class="secno">5.1.2 </bdi>DID Controller</a></li><li class="tocline"><a class="tocxref" href="#also-known-as"><bdi class="secno">5.1.3 </bdi>Also Known As</a></li></ol></li><li class="tocline"><a class="tocxref" href="#verification-methods"><bdi class="secno">5.2 </bdi>Verification Methods</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#verification-material"><bdi class="secno">5.2.1 </bdi>Verification Material</a></li><li class="tocline"><a class="tocxref" href="#referring-to-verification-methods"><bdi class="secno">5.2.2 </bdi>Referring to Verification Methods</a></li></ol></li><li class="tocline"><a class="tocxref" href="#verification-relationships"><bdi class="secno">5.3 </bdi>Verification Relationships</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#authentication"><bdi class="secno">5.3.1 </bdi>Authentication</a></li><li class="tocline"><a class="tocxref" href="#assertion"><bdi class="secno">5.3.2 </bdi>Assertion</a></li><li class="tocline"><a class="tocxref" href="#key-agreement"><bdi class="secno">5.3.3 </bdi>Key Agreement</a></li><li class="tocline"><a class="tocxref" href="#capability-invocation"><bdi class="secno">5.3.4 </bdi>Capability Invocation</a></li><li class="tocline"><a class="tocxref" href="#capability-delegation"><bdi class="secno">5.3.5 </bdi>Capability Delegation</a></li></ol></li><li class="tocline"><a class="tocxref" href="#services"><bdi class="secno">5.4 </bdi>Services</a></li></ol></li><li class="tocline"><a class="tocxref" href="#representations"><bdi class="secno">6. </bdi>Representations</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#production-and-consumption"><bdi class="secno">6.1 </bdi>Production and Consumption</a></li><li class="tocline"><a class="tocxref" href="#json"><bdi class="secno">6.2 </bdi>JSON</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#production"><bdi class="secno">6.2.1 </bdi>Production</a></li><li class="tocline"><a class="tocxref" href="#consumption"><bdi class="secno">6.2.2 </bdi>Consumption</a></li></ol></li><li class="tocline"><a class="tocxref" href="#json-ld"><bdi class="secno">6.3 </bdi>JSON-LD</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#production-0"><bdi class="secno">6.3.1 </bdi>Production</a></li><li class="tocline"><a class="tocxref" href="#consumption-0"><bdi class="secno">6.3.2 </bdi>Consumption</a></li></ol></li><li class="tocline"><a class="tocxref" href="#cbor"><bdi class="secno">6.4 </bdi>CBOR</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#production-1"><bdi class="secno">6.4.1 </bdi>Production</a></li><li class="tocline"><a class="tocxref" href="#consumption-1"><bdi class="secno">6.4.2 </bdi>Consumption</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#resolution"><bdi class="secno">7. </bdi>Resolution</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#did-resolution"><bdi class="secno">7.1 </bdi>DID Resolution</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#did-resolution-options"><bdi class="secno">7.1.1 </bdi>DID Resolution Options</a></li><li class="tocline"><a class="tocxref" href="#did-resolution-metadata"><bdi class="secno">7.1.2 </bdi>DID Resolution Metadata</a></li><li class="tocline"><a class="tocxref" href="#did-document-metadata"><bdi class="secno">7.1.3 </bdi>DID Document Metadata</a></li></ol></li><li class="tocline"><a class="tocxref" href="#did-url-dereferencing"><bdi class="secno">7.2 </bdi>DID URL Dereferencing</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#did-url-dereferencing-options"><bdi class="secno">7.2.1 </bdi>DID URL Dereferencing Options</a></li><li class="tocline"><a class="tocxref" href="#did-url-dereferencing-metadata"><bdi class="secno">7.2.2 </bdi>DID URL Dereferencing Metadata</a></li></ol></li><li class="tocline"><a class="tocxref" href="#metadata-structure"><bdi class="secno">7.3 </bdi>Metadata Structure</a></li></ol></li><li class="tocline"><a class="tocxref" href="#methods"><bdi class="secno">8. </bdi>Methods</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#method-syntax"><bdi class="secno">8.1 </bdi>Method Syntax</a></li><li class="tocline"><a class="tocxref" href="#method-operations"><bdi class="secno">8.2 </bdi>Method Operations</a></li><li class="tocline"><a class="tocxref" href="#security-requirements"><bdi class="secno">8.3 </bdi>Security Requirements</a></li><li class="tocline"><a class="tocxref" href="#privacy-requirements"><bdi class="secno">8.4 </bdi>Privacy Requirements</a></li></ol></li><li class="tocline"><a class="tocxref" href="#security-considerations"><bdi class="secno">9. </bdi>Security Considerations</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#choosing-did-resolvers"><bdi class="secno">9.1 </bdi>Choosing DID Resolvers</a></li><li class="tocline"><a class="tocxref" href="#binding-of-identity"><bdi class="secno">9.2 </bdi>Binding of Identity</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#proving-control-of-a-did-and-did-document"><bdi class="secno">9.2.1 </bdi>Proving Control of a DID and DID Document</a></li><li class="tocline"><a class="tocxref" href="#proving-control-of-a-public-key"><bdi class="secno">9.2.2 </bdi>Proving Control of a Public Key</a></li><li class="tocline"><a class="tocxref" href="#real-world-identity"><bdi class="secno">9.2.3 </bdi>Real-World Identity</a></li></ol></li><li class="tocline"><a class="tocxref" href="#authentication-service-endpoints"><bdi class="secno">9.3 </bdi>Authentication Service Endpoints</a></li><li class="tocline"><a class="tocxref" href="#non-repudiation"><bdi class="secno">9.4 </bdi>Non-Repudiation</a></li><li class="tocline"><a class="tocxref" href="#notification-of-did-document-changes"><bdi class="secno">9.5 </bdi>Notification of DID Document Changes</a></li><li class="tocline"><a class="tocxref" href="#key-and-signature-expiration"><bdi class="secno">9.6 </bdi>Key and Signature Expiration</a></li><li class="tocline"><a class="tocxref" href="#verification-method-rotation"><bdi class="secno">9.7 </bdi>Verification Method Rotation</a></li><li class="tocline"><a class="tocxref" href="#verification-method-revocation"><bdi class="secno">9.8 </bdi>Verification Method Revocation</a></li><li class="tocline"><a class="tocxref" href="#did-recovery"><bdi class="secno">9.9 </bdi>DID Recovery</a></li><li class="tocline"><a class="tocxref" href="#the-role-of-human-friendly-identifiers"><bdi class="secno">9.10 </bdi>The Role of Human-Friendly Identifiers</a></li><li class="tocline"><a class="tocxref" href="#dids-as-enhanced-urns"><bdi class="secno">9.11 </bdi>DIDs as Enhanced URNs</a></li><li class="tocline"><a class="tocxref" href="#immutability"><bdi class="secno">9.12 </bdi>Immutability</a></li><li class="tocline"><a class="tocxref" href="#encrypted-data-in-did-documents"><bdi class="secno">9.13 </bdi>Encrypted Data in DID Documents</a></li><li class="tocline"><a class="tocxref" href="#equivalence-properties"><bdi class="secno">9.14 </bdi>Equivalence Properties</a></li><li class="tocline"><a class="tocxref" href="#content-integrity-protection"><bdi class="secno">9.15 </bdi>Content Integrity Protection</a></li><li class="tocline"><a class="tocxref" href="#persistence"><bdi class="secno">9.16 </bdi>Persistence</a></li><li class="tocline"><a class="tocxref" href="#level-of-assurance"><bdi class="secno">9.17 </bdi>Level of Assurance</a></li></ol></li><li class="tocline"><a class="tocxref" href="#privacy-considerations"><bdi class="secno">10. </bdi>Privacy Considerations</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#keep-personal-data-private"><bdi class="secno">10.1 </bdi>Keep Personal Data Private</a></li><li class="tocline"><a class="tocxref" href="#did-correlation-risks-and-pseudonymous-dids"><bdi class="secno">10.2 </bdi>DID Correlation Risks and Pseudonymous DIDs</a></li><li class="tocline"><a class="tocxref" href="#did-document-correlation-risks"><bdi class="secno">10.3 </bdi>DID Document Correlation Risks</a></li><li class="tocline"><a class="tocxref" href="#assigning-a-type-to-the-did-subject"><bdi class="secno">10.4 </bdi>Assigning a type to the DID subject</a></li><li class="tocline"><a class="tocxref" href="#herd-privacy"><bdi class="secno">10.5 </bdi>Herd Privacy</a></li><li class="tocline"><a class="tocxref" href="#service-privacy"><bdi class="secno">10.6 </bdi>Service Privacy</a></li></ol></li><li class="tocline"><a class="tocxref" href="#examples"><bdi class="secno">11. </bdi>Examples</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#did-documents"><bdi class="secno">11.1 </bdi>DID Documents</a></li><li class="tocline"><a class="tocxref" href="#proving"><bdi class="secno">11.2 </bdi>Proving</a></li><li class="tocline"><a class="tocxref" href="#encrypting"><bdi class="secno">11.3 </bdi>Encrypting</a></li></ol></li><li class="tocline"><a class="tocxref" href="#detailed-architecture-overview-diagram"><bdi class="secno">A. </bdi>Detailed Architecture Overview Diagram</a></li><li class="tocline"><a class="tocxref" href="#iana-considerations"><bdi class="secno">B. </bdi>IANA Considerations</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#application-did-json"><bdi class="secno">B.1 </bdi>application/did+json</a></li><li class="tocline"><a class="tocxref" href="#application-did-ld-json"><bdi class="secno">B.2 </bdi>application/did+ld+json</a></li><li class="tocline"><a class="tocxref" href="#application-did-cbor"><bdi class="secno">B.3 </bdi>application/did+cbor</a></li></ol></li><li class="tocline"><a class="tocxref" href="#frequently-asked-questions-about-did-identification"><bdi class="secno">C. </bdi>Frequently Asked Questions about DID Identification</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#what-types-of-resources-can-a-did-identify"><bdi class="secno">C.1 </bdi>What types of resources can a DID identify?</a></li><li class="tocline"><a class="tocxref" href="#how-do-you-know-what-a-did-identifies"><bdi class="secno">C.2 </bdi>How do you know what a DID identifies?</a></li><li class="tocline"><a class="tocxref" href="#does-the-did-identify-the-did-document"><bdi class="secno">C.3 </bdi>Does the DID identify the DID document?</a></li><li class="tocline"><a class="tocxref" href="#what-does-the-did-document-say-about-the-did-subject"><bdi class="secno">C.4 </bdi>What does the DID document say about the DID subject?</a></li><li class="tocline"><a class="tocxref" href="#how-can-you-discover-more-information-about-the-did-subject"><bdi class="secno">C.5 </bdi>How can you discover more information about the DID subject?</a></li><li class="tocline"><a class="tocxref" href="#can-the-did-document-serve-as-a-representation-of-the-did-subject"><bdi class="secno">C.6 </bdi>Can the DID document serve as a representation of the DID subject?</a></li><li class="tocline"><a class="tocxref" href="#can-existing-web-resources-also-be-assigned-dids"><bdi class="secno">C.7 </bdi>Can existing web resources also be assigned DIDs?</a></li><li class="tocline"><a class="tocxref" href="#what-is-the-relationship-between-did-controllers-and-did-subjects"><bdi class="secno">C.8 </bdi>What is the relationship between DID controllers and DID subjects?</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#set-1-the-did-subject-is-the-did-controller"><bdi class="secno">C.8.1 </bdi>Set #1: The DID subject <em>is</em> the DID controller</a></li><li class="tocline"><a class="tocxref" href="#set-2-the-did-subject-is-not-the-did-controller"><bdi class="secno">C.8.2 </bdi>Set #2: The DID subject is <em>not</em> the DID controller</a></li></ol></li><li class="tocline"><a class="tocxref" href="#can-a-did-document-have-multiple-did-controllers"><bdi class="secno">C.9 </bdi>Can a DID document have multiple DID Controllers?</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#option-1-independent-control"><bdi class="secno">C.9.1 </bdi>Option #1: Independent Control</a></li><li class="tocline"><a class="tocxref" href="#option-2-group-control"><bdi class="secno">C.9.2 </bdi>Option #2: Group Control</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#changes"><bdi class="secno">D. </bdi>Changes</a></li><li class="tocline"><a class="tocxref" href="#acknowledgements"><bdi class="secno">E. </bdi>Acknowledgements</a></li><li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">F. </bdi>References</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">F.1 </bdi>Normative references</a></li><li class="tocline"><a class="tocxref" href="#informative-references"><bdi class="secno">F.2 </bdi>Informative references</a></li></ol></li></ol></nav>

  <section class="informative" id="introduction">
    <h2 id="x1-introduction"><bdi class="secno">1. </bdi>Introduction<a class="self-link" aria-label="§" href="#introduction"></a></h2><p><em>This section is non-normative.</em></p>
    <p>
As individuals and organizations, many of us use globally unique identifiers in
a wide variety of contexts. They serve as communications addresses (telephone
numbers, email addresses, usernames on social media), ID numbers (for passports,
drivers licenses, tax IDs, health insurance), and product identifiers (serial
numbers, barcodes, RFIDs). URIs (Uniform Resource Identifiers) are used for
resources on the Web and each web page you view in a browser has a globally
unique URL (Uniform Resource Locator).
    </p>
    <p>
The vast majority of these globally unique identifiers are not under our
control. They are issued by external authorities that decide who or what they
identify and when they can be revoked. They are useful only in certain contexts
and recognized only by certain bodies not of our choosing. They might
disappear or cease to be valid with the failure of an organization. They might
unnecessarily reveal personal information. In many cases, they can be
fraudulently replicated and asserted by a malicious third-party, which is
more commonly known as "identity theft".
    </p>
    <p>
The Decentralized Identifiers (DIDs) defined in this specification are a new
type of globally unique identifier. They are designed to enable individuals and
organizations to generate their own identifiers using systems they trust. These
new identifiers enable entities to prove control over them by authenticating
using cryptographic proofs such as digital signatures.
    </p>
    <p>
Since the generation and assertion of Decentralized Identifiers is
entity-controlled, each entity can have as many DIDs as necessary to maintain
their desired separation of identities, personas, and interactions. The use of
these identifiers can be scoped appropriately to different contexts. They
support interactions with other people, institutions, or systems that require
entities to identify themselves, or things they control, while providing control
over how much personal or private data should be revealed, all without depending
on a central authority to guarantee the continued existence of the identifier.
    </p>
    <p>
This specification does not presuppose any particular technology or cryptography
to underpin the generation, persistence, resolution, or interpretation of DIDs.
For example, implementers can create Decentralized Identifiers based on
identifiers registered in federated or centralized identity management systems.
Indeed, almost all types of identifier systems can add support for DIDs. This
creates an interoperability bridge between the worlds of centralized, federated,
and decentralized identifiers. This also enables implementers to design specific
types of DIDs to work with the computing infrastructure they trust, such as
distributed ledgers, decentralized file systems, distributed databases, and
peer-to-peer networks.
    </p>
    <p>
This specification is for:
    </p>
    <ul>
      <li>
Anyone that wants to understand the core architectural principles that
are the foundation for Decentralized Identifiers;
      </li>

      <li>
Software developers that want to produce and consume Decentralized Identifiers
and their associated data formats;
      </li>
      <li>
Systems integrators that want to understand how to use Decentralized
Identifiers in their software and hardware systems;
      </li>
      <li>
Specification authors that want to create new DID infrastructures, known as DID
methods, that conform to the ecosystem described by this document.
      </li>
    </ul>

    <section class="informative" id="a-simple-example">
      <h3 id="x1-1-a-simple-example"><bdi class="secno">1.1 </bdi>A Simple Example<a class="self-link" aria-label="§" href="#a-simple-example"></a></h3><p><em>This section is non-normative.</em></p>

      <p>
A <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-10">DID</a> is a simple text string consisting of three parts: 1) the
<code>did</code> URI scheme identifier, 2) the identifier for the <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-1">DID
method</a>, and 3) the DID method-specific identifier.
      </p>

      <figure id="parts-of-a-did">
        <img style="margin: auto; display: block; width: 75%;" src="diagrams/parts-of-a-did.svg" alt="
A diagram showing the parts of a DID. The left-most letters spell 'did' in blue,
are enclosed in a horizontal bracket from above and a label that reads 'scheme'
above the bracket. A gray colon follows the 'did' letters. The middle letters
spell 'example' in magenta, are enclosed in a horizontal bracket from below and
a label that reads 'DID Method' below the bracket. A gray colon follows the
DID Method. Finally, the letters at the end read '123456789abcdefghijk' in
green, are enclosed in a horizontal bracket from below and a label that
reads 'DID Method Specific String' below the bracket.
        " height="94" width="300">
        <figcaption>Figure <bdi class="figno">1</bdi> <span class="fig-title">
A simple example of a decentralized identifier (DID)
        </span></figcaption>
      </figure>

      <p>
The example <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-11">DID</a> above resolves to a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-3">DID document</a>. A <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-4">DID
document</a> contains information associated with the <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-12">DID</a>, such as ways
to cryptographically <a href="#dfn-authenticated" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-authenticated-1">authenticate</a> a <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-2">DID controller</a>.
      </p>

      <div class="example" id="example-1-a-minimal-did-document">
        <div class="marker">
    <a class="self-link" href="#example-1-a-minimal-did-document">Example<bdi> 1</bdi></a><span class="example-title">: A minimal DID document</span>
  </div> <pre class="nohighlight">{
  "@context": "https://www.w3.org/ns/did/v1",
  "id": "did:example:123456789abcdefghi",
  "authentication": [{
    <span class="comment">// used to authenticate as did:...fghi</span>
    "id": "did:example:123456789abcdefghi#keys-1",
    "type": "Ed25519VerificationKey2020",
    "controller": "did:example:123456789abcdefghi",
    "publicKeyMultibase": "zH3C2AVvLMv6gmMNam3uVAjZpfkcJCwDwnZn6z3wXmqPV"
  }]
}</pre>
      </div>
    </section>

    <section class="informative" id="design-goals">
      <h3 id="x1-2-design-goals"><bdi class="secno">1.2 </bdi>Design Goals<a class="self-link" aria-label="§" href="#design-goals"></a></h3><p><em>This section is non-normative.</em></p>

      <p>
<a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-13">Decentralized Identifiers</a> are a component of larger systems, such as the
Verifiable Credentials ecosystem [<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-data-model" title="Verifiable Credentials Data Model 1.0">VC-DATA-MODEL</a></cite>], which influenced the design
goals for this specification. The design goals for Decentralized Identifiers
are summarized here.
      </p>

      <table class="simple">
        <thead>
          <tr>
            <th>
Goal
            </th>
            <th>
Description
            </th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>
Decentralization
            </td>
            <td>
Eliminate the requirement for centralized authorities or single point failure in
identifier management, including the registration of globally unique
identifiers, public verification keys, <a href="#dfn-service" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-3">services</a>, and other information.
            </td>
          </tr>

          <tr>
            <td>
Control
            </td>
            <td>
Give entities, both human and non-human, the power to directly control their
digital identifiers without the need to rely on external authorities.
            </td>
          </tr>

          <tr>
            <td>
Privacy
            </td>
            <td>
Enable entities to control the privacy of their information, including minimal,
selective, and progressive disclosure of attributes or other data.
            </td>
          </tr>

          <tr>
            <td>
Security
            </td>
            <td>
Enable sufficient security for requesting parties to depend on <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-5">DID
documents</a> for their required level of assurance.
            </td>
          </tr>

          <tr>
            <td>
Proof-based
            </td>
            <td>
Enable <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-3">DID controllers</a> to provide cryptographic proof when interacting
with other entities.
            </td>
          </tr>

          <tr>
            <td>
Discoverability
            </td>
            <td>
Make it possible for entities to discover <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-14">DIDs</a> for other entities, to
learn more about or interact with those entities.
            </td>
          </tr>

          <tr>
            <td>
Interoperability
            </td>
            <td>
Use interoperable standards so <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-15">DID</a> infrastructure can make use of
existing tools and software libraries designed for interoperability.
            </td>
          </tr>

          <tr>
            <td>
Portability
            </td>
            <td>
Be system- and network-independent and enable entities to use their digital
identifiers with any system that supports <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-16">DIDs</a> and <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-2">DID methods</a>.
            </td>
          </tr>

          <tr>
            <td>
Simplicity
            </td>
            <td>
Favor a reduced set of simple features to make the technology easier to
understand, implement, and deploy.
            </td>
          </tr>

          <tr>
            <td>
Extensibility
            </td>
            <td>
Where possible, enable extensibility provided it does not greatly hinder
interoperability, portability, or simplicity.
            </td>
          </tr>
        </tbody>
      </table>
    </section>

    <section class="informative" id="architecture-overview">
      <h3 id="x1-3-architecture-overview"><bdi class="secno">1.3 </bdi>
Architecture Overview
      <a class="self-link" aria-label="§" href="#architecture-overview"></a></h3><p><em>This section is non-normative.</em></p>

      <p>
This section provides a basic overview of the major components of
Decentralized Identifier architecture.
      </p>

      <figure id="brief-architecture-overview">
        <img style="margin: auto; display: block; width: 75%;" src="diagrams/did_brief_architecture_overview.svg" alt="
DIDs and DID documents are recorded on a Verifiable Data Registry; DIDs resolve
to DID documents; DIDs identify DID subjects; a DID controller controls a DID
document; DID URLs contains a DID; DID URLs dereferenced to DID document
fragments or external resources.
        " height="555" width="944">
        <figcaption>Figure <bdi class="figno">2</bdi> <span class="fig-title">
Overview of DID architecture and the relationship of the basic components.
        </span></figcaption>
      </figure>

      <dl>
        <dt>
DIDs and DID URLs
        </dt>
        <dd>
A Decentralized Identifier, or <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-17">DID</a>, is a <a href="#dfn-uri" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-uri-2">URI</a> composed of three
parts: the scheme <code>did:</code>, a method identifier, and a unique,
method-specific identifier specified by the <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-3">DID method</a>. <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-18">DIDs</a> are
resolvable to <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-6">DID documents</a>. A <a href="#dfn-did-urls" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-urls-1">DID URL</a> extends the syntax of a
basic <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-19">DID</a> to incorporate other standard <a href="#dfn-uri" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-uri-3">URI</a> components such as
path, query, and fragment in order to locate a particular
<a href="#dfn-resources" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-resources-1">resource</a>—for example, a cryptographic public key inside a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-7">DID
document</a>, or a <a href="#dfn-resources" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-resources-2">resource</a> external to the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-8">DID document</a>.
These concepts are elaborated upon in <a href="#did-syntax" class="sec-ref">§&nbsp;<bdi class="secno">3.1 </bdi>DID Syntax</a> and <a href="#did-url-syntax" class="sec-ref">§&nbsp;<bdi class="secno">3.2 </bdi>DID URL Syntax</a>.
        </dd>

        <dt>
DID subjects
        </dt>
        <dd>
The subject of a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-20">DID</a> is, by definition, the entity identified by the
<a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-21">DID</a>. The <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-5">DID subject</a> might also be the <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-4">DID controller</a>.
Anything can be the subject of a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-22">DID</a>: person, group, organization,
thing, or concept. This is further defined in <a href="#did-subject" class="sec-ref">§&nbsp;<bdi class="secno">5.1.1 </bdi>DID Subject</a>.
        </dd>

        <dt>
DID controllers
        </dt>
        <dd>
The <a href="#dfn-controller" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-1">controller</a> of a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-23">DID</a> is the entity (person, organization, or
autonomous software) that has the capability—as defined by a <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-4">DID
method</a>—to make changes to a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-9">DID document</a>. This capability is
typically asserted by the control of a set of cryptographic keys used by
software acting on behalf of the controller, though it might also be asserted
via other mechanisms. Note that a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-24">DID</a> might have more than one
controller, and the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-6">DID subject</a> can be the <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-5">DID controller</a>, or one
of them. This concept is documented in <a href="#did-controller" class="sec-ref">§&nbsp;<bdi class="secno">5.1.2 </bdi>DID Controller</a>.
        </dd>

        <dt>
Verifiable data registries
        </dt>
        <dd>
In order to be resolvable to <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-10">DID documents</a>, <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-25">DIDs</a> are typically
recorded on an underlying system or network of some kind. Regardless of the
specific technology used, any such system that supports recording <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-26">DIDs</a>
and returning data necessary to produce <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-11">DID documents</a> is called a
<a href="#dfn-verifiable-data-registry" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verifiable-data-registry-1">verifiable data registry</a>. Examples include <a href="#dfn-distributed-ledger-technology" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-distributed-ledger-technology-1">distributed ledgers</a>,
decentralized file systems, databases of any kind, peer-to-peer networks, and
other forms of trusted data storage. This concept is further elaborated upon in
<a href="#methods" class="sec-ref">§&nbsp;<bdi class="secno">8. </bdi>Methods</a>.
        </dd>

        <dt>
DID documents
        </dt>
        <dd>
<a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-12">DID documents</a> contain information associated with a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-27">DID</a>. They
typically express <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-2">verification methods</a>, such as cryptographic public
keys, and <a href="#dfn-service" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-4">services</a> relevant to interactions with the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-7">DID subject</a>.
The generic properties supported in a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-13">DID document</a> are specified in <a href="#core-properties" class="sec-ref">§&nbsp;<bdi class="secno">5. </bdi>Core Properties</a>.  A <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-14">DID document</a> can be serialized to a byte
stream (see <a href="#representations" class="sec-ref">§&nbsp;<bdi class="secno">6. </bdi>Representations</a>). The properties present in
a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-15">DID document</a> can be updated according to the applicable operations
outlined in <a href="#methods" class="sec-ref">§&nbsp;<bdi class="secno">8. </bdi>Methods</a>.
        </dd>

        <dt>
DID methods
        </dt>
        <dd>
<a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-5">DID methods</a> are the mechanism by which a particular type of <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-28">DID</a>
and its associated <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-16">DID document</a> are created, resolved, updated, and
deactivated. <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-6">DID methods</a> are defined using separate DID method
specifications as defined in <a href="#methods" class="sec-ref">§&nbsp;<bdi class="secno">8. </bdi>Methods</a>.
        </dd>

        <dt>
DID resolvers and DID resolution
        </dt>
        <dd>
A <a href="#dfn-did-resolvers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolvers-1">DID resolver</a> is a system component that takes a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-29">DID</a> as input and
produces a conforming <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-17">DID document</a> as output. This process is called
<a href="#dfn-did-resolution" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolution-1">DID resolution</a>. The steps for resolving a specific type of <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-30">DID</a> are
defined by the relevant <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-7">DID method</a> specification. The process of <a href="#dfn-did-resolution" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolution-2">DID
resolution</a> is elaborated upon in <a href="#resolution" class="sec-ref">§&nbsp;<bdi class="secno">7. </bdi>Resolution</a>.
        </dd>
        <dt>
DID URL dereferencers and DID URL dereferencing
        </dt>
        <dd>
A <a href="#dfn-did-url-dereferencers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-url-dereferencers-1">DID URL dereferencer</a> is a system component that takes a <a href="#dfn-did-urls" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-urls-2">DID URL</a>
as input and produces a <a href="#dfn-resources" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-resources-3">resource</a> as output. This process is
called <a href="#dfn-did-url-dereferencing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-url-dereferencing-1">DID URL dereferencing</a>. The process of <a href="#dfn-did-url-dereferencing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-url-dereferencing-2">DID URL dereferencing</a>
is elaborated upon in <a href="#did-url-dereferencing" class="sec-ref">§&nbsp;<bdi class="secno">7.2 </bdi>DID URL Dereferencing</a>.
        </dd>
      </dl>

    </section>

    <section id="conformance"><h3 id="x1-4-conformance"><bdi class="secno">1.4 </bdi>Conformance<a class="self-link" aria-label="§" href="#conformance"></a></h3><p>As well as sections marked as non-normative, all authoring guidelines, diagrams, examples, and notes in this specification are non-normative. Everything else in this specification is normative.</p><p>
        The key words <em class="rfc2119">MAY</em>, <em class="rfc2119">MUST</em>, <em class="rfc2119">MUST NOT</em>, <em class="rfc2119">OPTIONAL</em>, <em class="rfc2119">RECOMMENDED</em>, <em class="rfc2119">REQUIRED</em>, <em class="rfc2119">SHOULD</em>, and <em class="rfc2119">SHOULD NOT</em> in this document
        are to be interpreted as described in
        <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>
        [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">RFC2119</a></cite>] [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8174" title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">RFC8174</a></cite>]
        when, and only when, they appear in all capitals, as shown here.
      </p>

      <p>
This document contains examples that contain JSON, CBOR, and JSON-LD content.
Some of these examples contain characters that are invalid, such as inline
comments (<code>//</code>) and the use of ellipsis (<code>...</code>) to denote
information that adds little value to the example. Implementers are cautioned to
remove this content if they desire to use the information as valid JSON, CBOR,
or JSON-LD.
      </p>

      <p>
Some examples contain terms, both property names and values, that are not
defined in this specification. These are indicated with a comment (<code>//
external (property name|value)</code>). Such terms, when used in a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-18">DID
document</a>, are expected to be registered in the DID Specification Registries
[<cite><a class="bibref" data-link-type="biblio" href="#bib-did-spec-registries" title="DID Specification Registries">DID-SPEC-REGISTRIES</a></cite>] with links to both a formal definition and a JSON-LD
context.
      </p>

      <p>
Interoperability of implementations for <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-31">DIDs</a> and <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-19">DID documents</a> is
tested by evaluating an implementation's ability to create and parse <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-32">DIDs</a>
and <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-20">DID documents</a> that conform to this specification. Interoperability
for producers and consumers of <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-33">DIDs</a> and <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-21">DID documents</a> is provided
by ensuring the <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-34">DIDs</a> and <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-22">DID documents</a> conform. Interoperability
for <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-8">DID method</a> specifications is provided by the details in each <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-9">DID
method</a> specification. It is understood that, in the same way that a web
browser is not required to implement all known <a href="#dfn-uri" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-uri-4">URI</a> schemes, conformant
software that works with <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-35">DIDs</a> is not required to implement all known
<a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-10">DID methods</a>. However, all implementations of a given <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-11">DID method</a>
are expected to be interoperable for that method.
      </p>

     <p>
A <dfn data-plurals="conforming dids" id="dfn-conforming-did">conforming DID</dfn> is any concrete expression of the rules specified in
<a href="#identifier" class="sec-ref">§&nbsp;<bdi class="secno">3. </bdi>Identifier</a> which complies with relevant normative statements in
that section.
     </p>

      <p>
A <dfn data-plurals="conforming did documents" id="dfn-conforming-did-document">conforming DID document</dfn> is any concrete expression of the data
model described in this specification which complies with the relevant normative
statements in <a href="#data-model" class="sec-ref">§&nbsp;<bdi class="secno">4. </bdi>Data Model</a> and <a href="#core-properties" class="sec-ref">§&nbsp;<bdi class="secno">5. </bdi>Core Properties</a>. A
serialization format for the conforming document is deterministic,
bi-directional, and lossless, as described in <a href="#representations" class="sec-ref">§&nbsp;<bdi class="secno">6. </bdi>Representations</a>.
      </p>

      <p>
A <dfn data-plurals="conforming producers" id="dfn-conforming-producer">conforming producer</dfn> is any algorithm realized as software and/or
hardware that generates <a href="#dfn-conforming-did" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-conforming-did-1">conforming DIDs</a> or <a href="#dfn-conforming-did-document" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-conforming-did-document-1">conforming DID
Documents</a> and complies with the relevant normative statements in <a href="#representations" class="sec-ref">§&nbsp;<bdi class="secno">6. </bdi>Representations</a>.
      </p>

      <p>
A <dfn data-plurals="conforming consumers" id="dfn-conforming-consumer">conforming consumer</dfn> is any algorithm realized as software and/or
hardware that consumes <a href="#dfn-conforming-did" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-conforming-did-2">conforming DIDs</a> or <a href="#dfn-conforming-did-document" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-conforming-did-document-2">conforming DID documents</a>
and complies with the relevant normative statements in <a href="#representations" class="sec-ref">§&nbsp;<bdi class="secno">6. </bdi>Representations</a>.
      </p>

      <p>
A <dfn id="dfn-conforming-did-resolver">conforming DID resolver</dfn> is any algorithm realized as software
and/or hardware that complies with the relevant normative statements in
<a href="#did-resolution" class="sec-ref">§&nbsp;<bdi class="secno">7.1 </bdi>DID Resolution</a>.
      </p>

      <p>
A <dfn id="dfn-conforming-did-url-dereferencer">conforming DID URL dereferencer</dfn> is any algorithm realized as
software and/or hardware that complies with the relevant normative statements in
<a href="#did-url-dereferencing" class="sec-ref">§&nbsp;<bdi class="secno">7.2 </bdi>DID URL Dereferencing</a>.
      </p>

      <p>
A <dfn id="dfn-conforming-did-method">conforming DID method</dfn> is any specification that complies with the
relevant normative statements in <a href="#methods" class="sec-ref">§&nbsp;<bdi class="secno">8. </bdi>Methods</a>.
      </p>

    </section>

  </section>

  <section class="informative" id="terminology">
    <h2 id="x2-terminology"><bdi class="secno">2. </bdi>Terminology<a class="self-link" aria-label="§" href="#terminology"></a></h2><p><em>This section is non-normative.</em></p>

    <div><p>
This section defines the terms used in this specification and throughout
<a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-36">decentralized identifier</a> infrastructure. A link to these terms is
included whenever they appear in this specification.
</p>

<dl class="termlist">

  <dt><dfn data-lt="authenticated|authenticate" id="dfn-authenticated">authenticate</dfn></dt>
  <dd>
Authentication is a process by which an entity can prove it has a specific
attribute or controls a specific secret using one or more <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-3">verification
methods</a>. With <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-37">DIDs</a>, a common example would be proving control of the
cryptographic private key associated with a public key published in a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-23">DID
document</a>.
  </dd>

  <dt><dfn id="dfn-binding">binding</dfn></dt>
  <dd>
A concrete mechanism used by a caller to invoke a <a href="#dfn-did-resolvers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolvers-2">DID resolver</a> or a
<a href="#dfn-did-url-dereferencers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-url-dereferencers-2">DID URL dereferencer</a>. This could be a local command line tool, a software
library, or a network call such as an HTTPS request.
  </dd>

  <dt><dfn data-lt="decentralized identifiers|DID|DIDs|decentralized identifier" data-plurals="dids|did" id="dfn-decentralized-identifiers">decentralized identifier</dfn> (DID)</dt>

  <dd>
A globally unique persistent identifier that does not require a centralized
registration authority and is often generated and/or registered
cryptographically. The generic format of a DID is defined in <a href="#did-syntax" class="sec-ref">§&nbsp;<bdi class="secno">3.1 </bdi>DID Syntax</a>. A specific <a href="#dfn-did-schemes" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-schemes-1">DID scheme</a> is defined in a <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-12">DID
method</a> specification. Many—but not all—DID methods make use of
<a href="#dfn-distributed-ledger-technology" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-distributed-ledger-technology-2">distributed ledger technology</a> (DLT) or some other form of decentralized
network.
  </dd>

  <dt><dfn id="dfn-decentralized-identity-management">decentralized identity management</dfn></dt>

  <dd>
<a href="https://en.wikipedia.org/wiki/Identity_management">Identity
management</a> that is based on the use of <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-38">decentralized identifiers</a>.
Decentralized identity management extends authority for identifier generation,
registration, and assignment beyond traditional roots of trust such as
<a href="https://en.wikipedia.org/wiki/X.500">X.500 directory services</a>,
the <a href="https://en.wikipedia.org/wiki/Domain_Name_System">Domain Name System</a>,
and most national ID systems.
  </dd>





  <dt><dfn data-lt="did controllers|did controller(s)|DID controller" id="dfn-did-controllers">DID controller</dfn></dt>

  <dd>
An entity that has the capability to make changes to a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-25">DID document</a>. A
<a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-40">DID</a> might have more than one DID controller. The DID controller(s)
can be denoted by the optional <code>controller</code> property at the top level of the
<a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-26">DID document</a>. Note that a DID controller might be the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-8">DID
subject</a>.
  </dd>

  <dt><dfn id="dfn-did-delegate">DID delegate</dfn></dt>

  <dd>
An entity to whom a <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-6">DID controller</a> has granted permission to use a
<a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-4">verification method</a> associated with a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-41">DID</a> via a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-27">DID
document</a>. For example, a parent who controls a child's <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-28">DID document</a>
might permit the child to use their personal device in order to
<a href="#dfn-authenticated" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-authenticated-2">authenticate</a>. In this case, the child is the <a href="#dfn-did-delegate" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-delegate-1">DID delegate</a>. The
child's personal device would contain the private cryptographic material
enabling the child to <a href="#dfn-authenticated" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-authenticated-3">authenticate</a> using the <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-42">DID</a>. However, the child
might not be permitted to add other personal devices without the parent's
permission.
  </dd>

  <dt><dfn data-lt="DID documents|DID document" data-plurals="did documents" id="dfn-did-documents">DID document</dfn></dt>

  <dd>
A set of data describing the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-9">DID subject</a>, including mechanisms, such as
cryptographic public keys, that the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-10">DID subject</a> or a <a href="#dfn-did-delegate" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-delegate-2">DID delegate</a>
can use to <a href="#dfn-authenticated" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-authenticated-4">authenticate</a> itself and prove its association with the
<a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-43">DID</a>. A DID document might have one or more different
<a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-1">representations</a> as defined in <a href="#representations" class="sec-ref">§&nbsp;<bdi class="secno">6. </bdi>Representations</a> or in the
<abbr title="World Wide Web Consortium">W3C</abbr> DID Specification Registries [<cite><a class="bibref" data-link-type="biblio" href="#bib-did-spec-registries" title="DID Specification Registries">DID-SPEC-REGISTRIES</a></cite>].
  </dd>

  <dt><dfn data-lt="DID fragments|DID fragment" data-plurals="did fragments" id="dfn-did-fragments">DID fragment</dfn></dt>

  <dd>
The portion of a <a href="#dfn-did-urls" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-urls-3">DID URL</a> that follows the first hash sign character
(<code>#</code>). DID fragment syntax is identical to URI fragment syntax.
  </dd>

  <dt><dfn data-lt="DID methods|DID method" data-plurals="did methods" id="dfn-did-methods">DID method</dfn></dt>

  <dd>
A definition of how a specific <a href="#dfn-did-schemes" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-schemes-2">DID method scheme</a> is implemented. A DID method is
defined by a DID method specification, which specifies the precise operations by
which <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-44">DIDs</a> and <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-29">DID documents</a> are created, resolved, updated,
and deactivated. See <a href="#methods" class="sec-ref">§&nbsp;<bdi class="secno">8. </bdi>Methods</a>.
  </dd>

  <dt><dfn data-lt="DID paths|DID path" data-plurals="did paths" id="dfn-did-paths">DID path</dfn></dt>

  <dd>
The portion of a <a href="#dfn-did-urls" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-urls-4">DID URL</a> that begins with and includes the first forward
slash (<code>/</code>) character and ends with either a question mark
(<code>?</code>) character, a fragment hash sign (<code>#</code>) character,
or the end of the <a href="#dfn-did-urls" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-urls-5">DID URL</a>. DID path syntax is identical to URI path syntax.
See <a href="#path" class="sec-ref">§&nbsp;Path</a>.
  </dd>

  <dt><dfn data-lt="DID queries|DID query" data-plurals="did queries" id="dfn-did-queries">DID query</dfn></dt>

  <dd>
The portion of a <a href="#dfn-did-urls" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-urls-6">DID URL</a> that follows and includes the first question
mark character (<code>?</code>). DID query syntax is identical to URI query
syntax. See <a href="#query" class="sec-ref">§&nbsp;Query</a>.
  </dd>

  <dt><dfn id="dfn-did-resolution">DID resolution</dfn></dt>

  <dd>
The process that takes as its input a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-45">DID</a> and a set of resolution
options and returns a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-30">DID document</a> in a conforming <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-2">representation</a>
plus additional metadata. This process relies on the "Read" operation of the
applicable <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-13">DID method</a>. The inputs and outputs of this process are
defined in <a href="#did-resolution" class="sec-ref">§&nbsp;<bdi class="secno">7.1 </bdi>DID Resolution</a>.
  </dd>

  <dt><dfn data-lt="DID resolvers|DID resolver" data-plurals="did resolvers" id="dfn-did-resolvers">DID resolver</dfn></dt>

  <dd>
A <a href="#dfn-did-resolvers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolvers-3">DID resolver</a> is a software and/or hardware component that performs the
<a href="#dfn-did-resolution" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolution-3">DID resolution</a> function by taking a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-46">DID</a> as input and producing a
conforming <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-31">DID document</a> as output.
  </dd>

  <dt><dfn data-lt="DID schemes|DID method scheme|DID scheme" id="dfn-did-schemes">DID scheme</dfn></dt>

  <dd>
The formal syntax of a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-47">decentralized identifier</a>. The generic DID scheme
begins with the prefix <code>did:</code> as defined in <a href="#did-syntax" class="sec-ref">§&nbsp;<bdi class="secno">3.1 </bdi>DID Syntax</a>. Each <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-14">DID method</a> specification defines a specific
DID method scheme that works with that specific <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-15">DID method</a>. In a specific DID
method scheme, the DID method name follows the first colon and terminates with
the second colon, e.g., <code>did:example:</code>
  </dd>

  <dt><dfn data-lt="DID subjects|DID subject" data-plurals="did subjects" id="dfn-did-subjects">DID subject</dfn></dt>

  <dd>
The entity identified by a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-48">DID</a> and described by a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-32">DID document</a>.
Anything can be a DID subject: person, group, organization, physical thing,
digital thing, logical thing, etc.
  </dd>

  <dt><dfn data-lt="DID URLs|DID URL" data-plurals="did urls" id="dfn-did-urls">DID URL</dfn></dt>

  <dd>
A <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-49">DID</a> plus any additional syntactic component that conforms to the
definition in <a href="#did-url-syntax" class="sec-ref">§&nbsp;<bdi class="secno">3.2 </bdi>DID URL Syntax</a>. This includes an optional <a href="#dfn-did-paths" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-paths-1">DID
path</a> (with its leading <code>/</code> character), optional <a href="#dfn-did-queries" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-queries-1">DID query</a>
(with its leading <code>?</code> character), and optional <a href="#dfn-did-fragments" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-fragments-1">DID fragment</a>
(with its leading <code>#</code> character).
  </dd>

  <dt><dfn id="dfn-did-url-dereferencing">DID URL dereferencing</dfn></dt>

  <dd>
The process that takes as its input a <a href="#dfn-did-urls" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-urls-7">DID URL</a> and a set of input
metadata, and returns a <a href="#dfn-resources" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-resources-4">resource</a>. This resource might be a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-33">DID
document</a> plus additional metadata, a secondary resource
contained within the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-34">DID document</a>, or a resource entirely
external to the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-35">DID document</a>. The process uses <a href="#dfn-did-resolution" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolution-4">DID resolution</a> to
fetch a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-36">DID document</a> indicated by the <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-50">DID</a> contained within the
<a href="#dfn-did-urls" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-urls-8">DID URL</a>. The dereferencing process can then perform additional processing
on the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-37">DID document</a> to return the dereferenced resource indicated by the
<a href="#dfn-did-urls" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-urls-9">DID URL</a>. The inputs and outputs of this process are defined in
<a href="#did-url-dereferencing" class="sec-ref">§&nbsp;<bdi class="secno">7.2 </bdi>DID URL Dereferencing</a>.
  </dd>

  <dt><dfn data-lt="DID URL dereferencers|DID URL dereferencer" id="dfn-did-url-dereferencers">DID URL dereferencer</dfn></dt>

  <dd>
A software and/or hardware system that performs the <a href="#dfn-did-url-dereferencing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-url-dereferencing-3">DID URL dereferencing</a>
function for a given <a href="#dfn-did-urls" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-urls-10">DID URL</a> or <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-38">DID document</a>.
  </dd>

  <dt><dfn data-lt="distributed ledger technology|DLT|distributed ledger" data-plurals="distributed ledgers|dlts" id="dfn-distributed-ledger-technology">distributed ledger</dfn> (DLT)</dt>

  <dd>
A non-centralized system for recording events. These systems establish
sufficient confidence for participants to rely upon the data recorded by others
to make operational decisions. They typically use distributed databases where
different nodes use a consensus protocol to confirm the ordering of
cryptographically signed transactions. The linking of digitally signed
transactions over time often makes the history of the ledger effectively
immutable.
  </dd>

  <dt><dfn data-plurals="public key descriptions" id="dfn-public-key-description">public key description</dfn></dt>

  <dd>
A data object contained inside a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-39">DID document</a> that contains all the
metadata necessary to use a public key or a verification key.
  </dd>

  <dt><dfn data-lt="resources|resource" id="dfn-resources">resource</dfn></dt>

  <dd>
As defined by [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>]: "...the term 'resource' is used in a general sense
for whatever might be identified by a URI." Similarly, any resource might serve
as a <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-11">DID subject</a> identified by a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-51">DID</a>.
  </dd>

    <dt><dfn data-lt="representations|representation" id="dfn-representations">representation</dfn></dt>

  <dd>
As defined for HTTP by [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7231" title="Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content">RFC7231</a></cite>]: "information that is intended to reflect a
past, current, or desired state of a given resource, in a format that can be
readily communicated via the protocol, and that consists of a set of
representation metadata and a potentially unbounded stream of representation
data." A <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-40">DID document</a> is a representation of information describing a
<a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-12">DID subject</a>. See <a href="#representations" class="sec-ref">§&nbsp;<bdi class="secno">6. </bdi>Representations</a>.
  </dd>

  <dt><dfn data-lt="service|services" id="dfn-service">services</dfn></dt>
  <dd>
Means of communicating or interacting with the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-13">DID subject</a> or
associated entities via one or more <a href="#dfn-service-endpoints" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-endpoints-1">service endpoints</a>.
Examples include discovery services, agent services, social networking
services, file storage services, and verifiable credential repository services.
  </dd>

  <dt><dfn data-lt="service endpoints|service endpoint" id="dfn-service-endpoints">service endpoint</dfn></dt>

  <dd>
A network address, such as an HTTP URL, at which <a href="#dfn-service" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-5">services</a> operate on
behalf of a <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-14">DID subject</a>.
  </dd>

  <dt><dfn data-lt="URI|URIs|Uniform Resource Identifier" data-plurals="uris" id="dfn-uri">Uniform Resource Identifier</dfn> (URI)</dt>

  <dd>
The standard identifier format for all resources on the World Wide Web as
defined by [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>]. A <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-52">DID</a> is a type of URI scheme.
  </dd>

    <dt><dfn data-lt="verifiable credentials|verifiable credential" id="dfn-verifiable-credentials">verifiable credential</dfn></dt>

  <dd>
A standard data model and representation format for cryptographically-verifiable
digital credentials as defined by the <abbr title="World Wide Web Consortium">W3C</abbr> Verifiable Credentials specification
[<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-data-model" title="Verifiable Credentials Data Model 1.0">VC-DATA-MODEL</a></cite>].
  </dd>

  <dt>
    <dfn data-lt="verifiable data registry|verifiable data registries" id="dfn-verifiable-data-registry">
    verifiable data registry</dfn>
  </dt>

  <dd>
A system that facilitates the creation, verification, updating, and/or
deactivation of <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-53">decentralized identifiers</a> and <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-41">DID documents</a>. A
verifiable data registry might also be used for other
cryptographically-verifiable data structures such as <a href="#dfn-verifiable-credentials" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verifiable-credentials-1">verifiable
credentials</a>. For more information, see the <abbr title="World Wide Web Consortium">W3C</abbr> Verifiable Credentials
specification [<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-data-model" title="Verifiable Credentials Data Model 1.0">VC-DATA-MODEL</a></cite>].
  </dd>

  <dt><dfn data-plurals="verifiable timestamps" id="dfn-verifiable-timestamp">verifiable timestamp</dfn></dt>

  <dd>
A verifiable timestamp enables a third-party to verify that a data object
existed at a specific moment in time and that it has not been modified or
corrupted since that moment in time.&nbsp;If the data integrity could reasonably have
been modified or corrupted since that moment in time, the timestamp is not
verifiable.
  </dd>

  <dt><dfn data-lt="" data-plurals="verification methods" id="dfn-verification-method">verification method</dfn></dt>

  <dd>
    <p>
A set of parameters that can be used together with a process to independently
verify a proof. For example, a cryptographic public key can be used as a
verification method with respect to a digital signature; in such usage, it
verifies that the signer possessed the associated cryptographic private key.
    </p>
    <p>
"Verification" and "proof" in this definition are intended to apply broadly. For
example, a cryptographic public key might be used during Diffie-Hellman key
exchange to negotiate a shared symmetric key for encryption. This guarantees the
integrity of the key agreement process. It is thus another type of verification
method, even though descriptions of the process might not use the words
"verification" or "proof."
    </p>
  </dd>

  <dt><dfn data-lt="" data-plurals="verification relationships" id="dfn-verification-relationship">verification relationship</dfn></dt>

  <dd>
    <p>
An expression of the relationship between the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-15">DID subject</a> and a
<a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-5">verification method</a>. An example of a verification relationship is
<a href="#authentication" class="sec-ref">§&nbsp;<bdi class="secno">5.3.1 </bdi>Authentication</a>.
    </p>
  </dd>

  <dt><dfn data-lt="UUID|UUIDs|Universally Unique Identifier" data-plurals="uuid" id="dfn-uuid">Universally Unique Identifier</dfn> (UUID)</dt>

  <dd>
A type of globally unique identifier defined by [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc4122" title="A Universally Unique IDentifier (UUID) URN Namespace">RFC4122</a></cite>]. UUIDs are similar
to DIDs in that they do not require a centralized registration authority. UUIDs
differ from DIDs in that they are not resolvable or
cryptographically-verifiable.
  </dd>

</dl>
</div>

    <p>
In addition to the terminology above, this specification also uses terminology
from the [<cite><a class="bibref" data-link-type="biblio" href="#bib-infra" title="Infra Standard">INFRA</a></cite>] specification to formally define the <a href="#data-model">data model</a>. When [<cite><a class="bibref" data-link-type="biblio" href="#bib-infra" title="Infra Standard">INFRA</a></cite>] terminology is used, such as
<a href="https://infra.spec.whatwg.org/#strings">string</a>, <a href="https://infra.spec.whatwg.org/#ordered-set">set</a>, and <a href="https://infra.spec.whatwg.org/#maps">map</a>, it is linked directly to that specification.
    </p>

  </section>

  <section id="identifier">
    <h2 id="x3-identifier"><bdi class="secno">3. </bdi>Identifier<a class="self-link" aria-label="§" href="#identifier"></a></h2>
    <p>
This section describes the formal syntax for <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-54">DIDs</a> and <a href="#dfn-did-urls" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-urls-11">DID URLs</a>.
The term "generic" is used to differentiate the syntax defined here from syntax
defined by <em>specific</em> <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-16">DID methods</a> in their respective
specifications.
    </p>

    <section class="normative" id="did-syntax">
      <h3 id="x3-1-did-syntax"><bdi class="secno">3.1 </bdi>DID Syntax<a class="self-link" aria-label="§" href="#did-syntax"></a></h3>

      <p>
The generic <a href="#dfn-did-schemes" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-schemes-3">DID scheme</a> is a <a href="#dfn-uri" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-uri-5">URI</a> scheme conformant with
[<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>]. The ABNF definition can be found below, which uses the syntax in
[<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc5234" title="Augmented BNF for Syntax Specifications: ABNF">RFC5234</a></cite>] and the corresponding definitions for <code>ALPHA</code> and
<code>DIGIT</code>. All other rule names not defined in the ABNF below are
defined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>]. All <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-55">DIDs</a> <em class="rfc2119">MUST</em> conform to the
DID Syntax ABNF Rules.
      </p>

      <div class="issue atrisk" id="issue-container-generatedID"><div role="heading" class="issue-title marker" id="h-issue" aria-level="4"><span>(Feature at Risk) Issue</span><span class="issue-label">: Should DID syntax allow an empty 'method-specific-id'?</span></div><p class="atrisk">
This ABNF does not currently permit an empty <code>method-specific-id</code>
string. Some DID methods have expressed an interest in providing resolution of
a DID with an empty <code>method-specific-id</code> string, for example to
enable discovery of a DID document describing a <a href="#dfn-verifiable-data-registry" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verifiable-data-registry-2">verifiable data registry</a>
by resolving the DID method name alone. The Working Group is requesting feedback
during the Candidate Recommendation stage on whether or not an empty
<code>method-specific-id</code> string is of interest to implementers. This
feature may change as a result of that feedback. See also <a href="https://github.com/w3c/did-core/issues/34">Issue 34</a>.
      </p></div>

      <table class="simple">
        <thead>
          <tr>
            <th>
The DID Syntax ABNF Rules
            </th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>
              <pre class="nohighlight">did                = "did:" method-name ":" method-specific-id
method-name        = 1*method-char
method-char        = %x61-7A / DIGIT
method-specific-id = *( *idchar ":" ) 1*idchar
idchar             = ALPHA / DIGIT / "." / "-" / "_" / pct-encoded
pct-encoded        = "%" HEXDIG HEXDIG</pre>
            </td>
          </tr>
        </tbody>
      </table>

      <p>
For requirements on <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-17">DID methods</a> relating to the <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-56">DID</a> syntax, see
Section <a href="#method-syntax" class="sec-ref">§&nbsp;<bdi class="secno">8.1 </bdi>Method Syntax</a>.
      </p>

    </section>

    <section class="normative" id="did-url-syntax">
      <h3 id="x3-2-did-url-syntax"><bdi class="secno">3.2 </bdi>DID URL Syntax<a class="self-link" aria-label="§" href="#did-url-syntax"></a></h3>

      <p>
A <a href="#dfn-did-urls" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-urls-12">DID URL</a> is a network location identifier for a specific
<a href="#dfn-resources" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-resources-5">resource</a>. It can be used to retrieve things like representations
of <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-16">DID subjects</a>, <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-6">verification methods</a>, <a href="#dfn-service" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-6">services</a>,
specific parts of a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-42">DID document</a>, or other resources.
      </p>

      <p>
The following is the ABNF definition using the syntax in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc5234" title="Augmented BNF for Syntax Specifications: ABNF">RFC5234</a></cite>]. It builds
on the <code>did</code> scheme defined in <a href="#did-syntax" class="sec-ref">§&nbsp;<bdi class="secno">3.1 </bdi>DID Syntax</a>. The <a href="https://tools.ietf.org/html/rfc3986#section-3.3"><code>path-abempty</code></a>, <a href="https://tools.ietf.org/html/rfc3986#section-3.4"><code>query</code></a>, and <a href="https://tools.ietf.org/html/rfc3986#section-3.5"><code>fragment</code></a> components are
defined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>]. All <a href="#dfn-did-urls" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-urls-13">DID URLs</a> <em class="rfc2119">MUST</em> conform to the
DID URL Syntax ABNF Rules. <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-18">DID methods</a> can further restrict these
rules, as described in <a href="#method-syntax" class="sec-ref">§&nbsp;<bdi class="secno">8.1 </bdi>Method Syntax</a>.
      </p>

      <table class="simple">
        <thead>
          <tr>
            <th>
The DID URL Syntax ABNF Rules
            </th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>
              <pre class="nohighlight">did-url = did path-abempty [ "?" query ] [ "#" fragment ]</pre>
            </td>
          </tr>
        </tbody>
      </table>

      <div class="note" role="note" id="issue-container-generatedID-0"><div role="heading" class="note-title marker" id="h-note" aria-level="4"><span>Note</span><span class="issue-label">: Semicolon character is reserved for future use</span></div><p class="">
Although the semicolon (<code>;</code>) character can be used according to the
rules of the <a href="#dfn-did-urls" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-urls-14">DID URL</a> syntax, future versions of this specification may
use it as a sub-delimiter for parameters as described in [<cite><a class="bibref" data-link-type="biblio" href="#bib-matrix-uris" title="Matrix URIs - Ideas about Web Architecture">MATRIX-URIS</a></cite>]]. To
avoid future conflicts, developers ought to refrain from using it.
      </p></div>

      <section class="notoc">
        <h4 id="path">Path<a class="self-link" aria-label="§" href="#path"></a></h4>

        <p>
A <a href="#dfn-did-paths" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-paths-2">DID path</a> is identical to a generic <a href="#dfn-uri" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-uri-6">URI</a> path and conforms to the
<code>path-abempty</code> ABNF rule in <a href="https://tools.ietf.org/html/rfc3986#section-3.3">RFC&nbsp;3986, section 3.3</a>. As with
<a href="#dfn-uri" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-uri-7">URIs</a>, path semantics can be specified by <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-19">DID Methods</a>, which in
turn might enable <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-7">DID controllers</a> to further specialize those semantics.
        </p>

        <div class="example" id="example-2">
        <div class="marker">
    <a class="self-link" href="#example-2">Example<bdi> 2</bdi></a>
  </div> <pre class="nohighlight">did:example:123456/path</pre>
      </div>

      </section>

      <section class="notoc">
        <h4 id="query">Query<a class="self-link" aria-label="§" href="#query"></a></h4>

        <p>
A <a href="#dfn-did-queries" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-queries-2">DID query</a> is identical to a generic <a href="#dfn-uri" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-uri-8">URI</a> query and conforms to
the <code>query</code> ABNF rule in <a href="https://tools.ietf.org/html/rfc3986#section-3.4">RFC&nbsp;3986, section 3.4</a>. This syntax
feature is elaborated upon in <a href="#did-parameters" class="sec-ref">§&nbsp;<bdi class="secno">3.2.1 </bdi>DID Parameters</a>.
        </p>

        <div class="example" id="example-3">
        <div class="marker">
    <a class="self-link" href="#example-3">Example<bdi> 3</bdi></a>
  </div> <pre class="nohighlight">did:example:123456?versionId=1</pre>
      </div>
      </section>

      <section class="notoc">
        <h4 id="fragment">Fragment<a class="self-link" aria-label="§" href="#fragment"></a></h4>

        <p>
<a href="#dfn-did-fragments" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-fragments-2">DID fragment</a> syntax and semantics are identical to a generic <a href="#dfn-uri" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-uri-9">URI</a>
fragment and conforms to the <code>fragment</code> ABNF rule in <a href="https://tools.ietf.org/html/rfc3986#section-3.5">RFC&nbsp;3986, section 3.5</a>.
        </p>

        <p>
A <a href="#dfn-did-fragments" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-fragments-3">DID fragment</a> is used as a method-independent reference into a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-43">DID
document</a> or external <a href="#dfn-resources" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-resources-6">resource</a>. Some examples of DID fragment
identifiers are shown below.
        </p>

        <div class="example" id="example-4-a-unique-verification-method-in-a-did-document">
        <div class="marker">
    <a class="self-link" href="#example-4-a-unique-verification-method-in-a-did-document">Example<bdi> 4</bdi></a><span class="example-title">: A unique verification method in a DID Document</span>
  </div> <pre class="nohighlight">did:example:123#public-key-0</pre>
      </div>

        <div class="example" id="example-5-a-unique-service-in-a-did-document">
        <div class="marker">
    <a class="self-link" href="#example-5-a-unique-service-in-a-did-document">Example<bdi> 5</bdi></a><span class="example-title">: A unique service in a DID Document</span>
  </div> <pre class="nohighlight">did:example:123#agent</pre>
      </div>

        <div class="example" id="example-6-a-resource-external-to-a-did-document">
        <div class="marker">
    <a class="self-link" href="#example-6-a-resource-external-to-a-did-document">Example<bdi> 6</bdi></a><span class="example-title">: A resource external to a DID Document</span>
  </div> <pre class="nohighlight">did:example:123?service=agent&amp;relativeRef=/credentials#degree</pre>
      </div>

        <div class="note" role="note" id="issue-container-generatedID-1"><div role="heading" class="note-title marker" id="h-note-0" aria-level="5"><span>Note</span><span class="issue-label">: Fragment semantics across representations</span></div><p class="">
In order to maximize interoperability, implementers are urged to ensure that
<a href="#dfn-did-fragments" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-fragments-4">DID fragments</a> are interpreted in the same way across
<a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-3">representations</a> (see <a href="#representations" class="sec-ref">§&nbsp;<bdi class="secno">6. </bdi>Representations</a>). For example, while
JSON Pointer [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6901" title="JavaScript Object Notation (JSON) Pointer">RFC6901</a></cite>] can be used in a <a href="#dfn-did-fragments" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-fragments-5">DID fragment</a>, it will not be
interpreted in the same way across non-JSON <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-4">representations</a>.
        </p></div>

        <p>
Additional semantics for fragment identifiers, which are compatible with and
layered upon the semantics in this section, are described for JSON-LD
representations in <a href="#application-did-ld-json" class="sec-ref">§&nbsp;<bdi class="secno">B.2 </bdi>application/did+ld+json</a>. For information
about how to dereference a <a href="#dfn-did-fragments" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-fragments-6">DID fragment</a>, see <a href="#did-url-dereferencing" class="sec-ref">§&nbsp;<bdi class="secno">7.2 </bdi>DID URL Dereferencing</a>.
        </p>

      </section>

      <section id="did-parameters">
        <h4 id="x3-2-1-did-parameters"><bdi class="secno">3.2.1 </bdi>DID Parameters<a class="self-link" aria-label="§" href="#did-parameters"></a></h4>

        <p>
The <a href="#dfn-did-urls" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-urls-15">DID URL</a> syntax supports a simple format for parameters based on the
<code>query</code> component described in <a href="#query" class="sec-ref">§&nbsp;Query</a>. Adding a DID
parameter to a <a href="#dfn-did-urls" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-urls-16">DID URL</a> means that the parameter becomes part of the
identifier for a <a href="#dfn-resources" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-resources-7">resource</a>.
        </p>

        <div class="example" id="example-7-a-did-url-with-a-versiontime-did-parameter">
        <div class="marker">
    <a class="self-link" href="#example-7-a-did-url-with-a-versiontime-did-parameter">Example<bdi> 7</bdi></a><span class="example-title">: A DID URL with a 'versionTime' DID parameter</span>
  </div> <pre class="nohighlight">did:example:123?versionTime=2021-05-10T17:00:00Z</pre>
      </div>

        <div class="example" id="example-8-a-did-url-with-a-service-and-a-relativeref-did-parameter">
        <div class="marker">
    <a class="self-link" href="#example-8-a-did-url-with-a-service-and-a-relativeref-did-parameter">Example<bdi> 8</bdi></a><span class="example-title">: A DID URL with a 'service' and a 'relativeRef' DID parameter</span>
  </div> <pre class="nohighlight">did:example:123?service=files&amp;relativeRef=/resume.pdf</pre>
      </div>

        <p>
Some DID parameters are completely independent of of any specific <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-20">DID
method</a> and function the same way for all <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-57">DIDs</a>. Other DID parameters
are not supported by all <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-21">DID methods</a>. Where optional parameters are
supported, they are expected to operate uniformly across the <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-22">DID methods</a>
that do support them. The following table provides common DID parameters that
function the same way across all <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-23">DID methods</a>. Support for all
<a href="#did-parameters">DID Parameters</a> is <em class="rfc2119">OPTIONAL</em>.
        </p>

        <table class="simple">
          <thead>
            <tr>
              <th>
Parameter&nbsp;Name
              </th>
              <th>
Description
              </th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td>
<code><a href="#dfn-service" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-7">service</a></code>
              </td>
              <td>
Identifies a service from the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-44">DID document</a> by service ID.
If present, the associated value <em class="rfc2119">MUST</em> be an <a data-lt="ascii string" data-type="dfn" href="https://infra.spec.whatwg.org/#ascii-string">ASCII string</a>.
              </td>
            </tr>
            <tr>
              <td>
<code>relativeRef</code>
              </td>
              <td>
A relative <a href="#dfn-uri" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-uri-10">URI</a> reference according to <a href="https://tools.ietf.org/html/rfc3986#section-4.2">RFC3986 Section 4.2</a> that identifies a
<a href="#dfn-resources" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-resources-8">resource</a> at a <a href="#dfn-service-endpoints" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-endpoints-2">service endpoint</a>, which is selected from a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-45">DID
document</a> by using the <code>service</code> parameter.
If present, the associated value <em class="rfc2119">MUST</em> be an <a data-lt="ascii string" data-type="dfn" href="https://infra.spec.whatwg.org/#ascii-string">ASCII string</a> and <em class="rfc2119">MUST</em> use percent-encoding for
certain characters as specified in <a href="https://tools.ietf.org/html/rfc3986#section-2.1">RFC3986
Section 2.1</a>.
              </td>
            </tr>
            <tr>
              <td>
<code>versionId</code>
              </td>
              <td>
Identifies a specific version of a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-46">DID document</a> to be resolved (the
version ID could be sequential, or a <a href="#dfn-uuid" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-uuid-1">UUID</a>, or method-specific).
If present, the associated value <em class="rfc2119">MUST</em> be an <a data-lt="ascii string" data-type="dfn" href="https://infra.spec.whatwg.org/#ascii-string">ASCII string</a>.
              </td>
            </tr>
            <tr>
              <td>
<code>versionTime</code>
              </td>
              <td>
Identifies a certain version timestamp of a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-47">DID document</a> to be resolved.
That is, the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-48">DID document</a> that was valid for a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-58">DID</a> at a certain
time. If present, the associated value
<em class="rfc2119">MUST</em> be an <a data-lt="ascii string" data-type="dfn" href="https://infra.spec.whatwg.org/#ascii-string">ASCII string</a> which is a valid XML
datetime value, as defined in section 3.3.7 of <a href="https://www.w3.org/TR/xmlschema11-2/"><abbr title="World Wide Web Consortium">W3C</abbr> XML Schema Definition Language
(XSD) 1.1 Part 2: Datatypes</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-xmlschema11-2" title="W3C XML Schema Definition Language (XSD) 1.1 Part 2: Datatypes">XMLSCHEMA11-2</a></cite>]. This datetime value <em class="rfc2119">MUST</em> be
normalized to UTC 00:00:00 and without sub-second decimal precision.
For example: <code>2020-12-20T19:17:47Z</code>.
              </td>
            </tr>
            <tr>
              <td>
<code>hl</code>
              </td>
              <td>
A resource hash of the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-49">DID document</a> to add integrity protection, as
specified in [<cite><a class="bibref" data-link-type="biblio" href="#bib-hashlink" title="Cryptographic Hyperlinks">HASHLINK</a></cite>]. This parameter is non-normative.
If present, the associated value <em class="rfc2119">MUST</em> be an
<a data-lt="ascii string" data-type="dfn" href="https://infra.spec.whatwg.org/#ascii-string">ASCII string</a>.
              </td>
            </tr>

          </tbody>
        </table>

        <p>
Implementers as well as <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-24">DID method</a> specification authors might use
additional DID parameters that are not listed here. For maximum
interoperability, it is <em class="rfc2119">RECOMMENDED</em> that DID parameters use the DID
Specification Registries mechanism [<cite><a class="bibref" data-link-type="biblio" href="#bib-did-spec-registries" title="DID Specification Registries">DID-SPEC-REGISTRIES</a></cite>], to avoid collision
with other uses of the same DID parameter with different semantics.
        </p>

        <p>
DID parameters might be used if there is a clear use case where the parameter
needs to be part of a <a data-type="dfn" href="https://url.spec.whatwg.org/#concept-url">URL</a> that references a <a href="#dfn-resources" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-resources-9">resource</a> with more
precision than using the <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-59">DID</a> alone. It is expected that DID parameters
are <em>not</em> used if the same functionality can be expressed by passing
input metadata to a <a href="#dfn-did-resolvers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolvers-4">DID resolver</a>. Additional considerations for
processing these parameters are discussed in [<cite><a class="bibref" data-link-type="biblio" href="#bib-did-resolution" title="Decentralized Identifier Resolution">DID-RESOLUTION</a></cite>].
        </p>

        <div class="note" role="note" id="issue-container-generatedID-2"><div role="heading" class="note-title marker" id="h-note-1" aria-level="5"><span>Note</span><span class="issue-label">: DID parameters and DID resolution</span></div><p class="">
The <a href="#dfn-did-resolution" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolution-5">DID resolution</a> and the <a href="#dfn-did-url-dereferencing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-url-dereferencing-4">DID URL dereferencing</a> functions can
be influenced by passing input metadata to a <a href="#dfn-did-resolvers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolvers-5">DID resolver</a> that are
not part of the <a href="#dfn-did-urls" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-urls-17">DID URL</a> (see <a href="#did-resolution-options" class="sec-ref">§&nbsp;<bdi class="secno">7.1.1 </bdi>DID Resolution Options</a>). This is comparable to
HTTP, where certain parameters could either be included in an HTTP URL, or
alternatively passed as HTTP headers during the dereferencing process. The
important distinction is that DID parameters that are part of the <a href="#dfn-did-urls" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-urls-18">DID
URL</a> should be used to specify <em>what <a href="#dfn-resources" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-resources-10">resource</a> is being
identified</em>, whereas input metadata that is not part of the <a href="#dfn-did-urls" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-urls-19">DID URL</a>
should be use to control <em>how that <a href="#dfn-resources" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-resources-11">resource</a> is resolved or
dereferenced</em>.
        </p></div>

      </section>

      <section id="relative-did-urls">
        <h4 id="x3-2-2-relative-did-urls"><bdi class="secno">3.2.2 </bdi>Relative DID URLs<a class="self-link" aria-label="§" href="#relative-did-urls"></a></h4>

        <p>
A relative <a href="#dfn-did-urls" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-urls-20">DID URL</a> is any URL value in a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-50">DID document</a> that does
not start with <code>did:&lt;method-name&gt;:&lt;method-specific-id&gt;</code>. More
specifically, it is any URL value that does not start with the ABNF defined in
<a href="#did-syntax" class="sec-ref">§&nbsp;<bdi class="secno">3.1 </bdi>DID Syntax</a>. The URL is expected to reference
a <a href="#dfn-resources" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-resources-12">resource</a> in the same <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-51">DID document</a>. Relative <a href="#dfn-did-urls" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-urls-21">DID URLs</a> <em class="rfc2119">MAY</em>
contain relative path components, query parameters, and fragment identifiers.
        </p>

        <p>
When resolving a relative <a href="#dfn-did-urls" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-urls-22">DID URL</a> reference, the algorithm specified in
<a href="https://tools.ietf.org/html/rfc3986#section-5">RFC3986 Section 5: Reference Resolution</a>
<em class="rfc2119">MUST</em> be used. The <strong>base URI</strong> value is the <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-60">DID</a> that is
associated with the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-17">DID subject</a>, see <a href="#did-subject" class="sec-ref">§&nbsp;<bdi class="secno">5.1.1 </bdi>DID Subject</a>. The
<strong>scheme</strong> is <code>did</code>. The <strong>authority</strong> is a
combination of <code>&lt;method-name&gt;:&lt;method-specific-id&gt;</code>, and the
<strong>path</strong>, <strong>query</strong>, and <strong>fragment</strong>
values are those defined in <a href="#path" class="sec-ref">§&nbsp;Path</a>, <a href="#query" class="sec-ref">§&nbsp;Query</a>, and <a href="#fragment" class="sec-ref">§&nbsp;Fragment</a>, respectively.
        </p>

        <p>
Relative <a href="#dfn-did-urls" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-urls-23">DID URLs</a> are often used to reference <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-7">verification methods</a>
and <a href="#dfn-service" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-8">services</a> in a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-52">DID Document</a> without having to use absolute
URLs. <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-25">DID methods</a> where storage size is a consideration might use
relative URLs to reduce the storage size of <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-53">DID documents</a>.
        </p>

        <div class="example" id="example-9-an-example-of-a-relative-did-url">
        <div class="marker">
    <a class="self-link" href="#example-9-an-example-of-a-relative-did-url">Example<bdi> 9</bdi></a><span class="example-title">: An example of a relative DID URL</span>
  </div> <pre class="nohighlight">{
  "@context": "https://www.w3.org/ns/did/v1",
  "id": "did:example:123456789abcdefghi",
  "verificationMethod": [{
    "id": "did:example:123456789abcdefghi#key-1",
    "type": "Ed25519VerificationKey2018", <span class="comment">// external (property value)</span>
    "controller": "did:example:123456789abcdefghi",
    "publicKeyBase58": "H3C2AVvLMv6gmMNam3uVAjZpfkcJCwDwnZn6z3wXmqPV"
  }, ...],
  "authentication": [
<span class="comment">    // a relative DID URL used to reference a verification method above</span>
    "<span class="highlight">#key-1</span>"
  ]
}</pre>
      </div>

        <p>
In the example above, the relative <a href="#dfn-did-urls" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-urls-24">DID URL</a> value will be transformed to
an absolute <a href="#dfn-did-urls" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-urls-25">DID URL</a> value of
<code>did:example:123456789abcdefghi#key-1</code>.
        </p>
      </section>

    </section>

  </section>

  <section id="data-model">
    <h2 id="x4-data-model"><bdi class="secno">4. </bdi>Data Model<a class="self-link" aria-label="§" href="#data-model"></a></h2>
    <p>
This specification defines a data model that can be used to express <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-54">DID
documents</a> and DID document data structures, which can then be serialized
into multiple concrete <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-5">representations</a>. This section provides a
high-level description of the data model, descriptions of the ways different
types of properties are expressed in the data model, and instructions for
extending the data model.
    </p>
    <p>
A <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-55">DID document</a> consists of a <a href="https://infra.spec.whatwg.org/#maps">map</a> of <a href="https://infra.spec.whatwg.org/#map-entry">entries</a>, where each entry consists of a
key/value pair. The <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-56">DID document</a> data model contains at least two
different classes of entries. The first class of entries is called properties,
and is specified in section <a href="#core-properties" class="sec-ref">§&nbsp;<bdi class="secno">5. </bdi>Core Properties</a>. The second class
is made up of representation-specific entries, and is specified in section <a href="#representations" class="sec-ref">§&nbsp;<bdi class="secno">6. </bdi>Representations</a>.
    </p>

    <figure id="did-document-entries">
      <img style="margin: auto; display: block;" src="diagrams/diagram-did-document-entries.svg" alt="
Diagram illustrating the entries in the DID document, including properties
and representation-specific entries; some entries are defined by this
specification; others are defined by registered or unregistered extensions." height="502" width="1320">
      <figcaption>Figure <bdi class="figno">3</bdi> <span class="fig-title">
The entries in a DID document.
      </span></figcaption>
    </figure>

    <p>
All entry keys in the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-57">DID document</a> data model are <a href="https://infra.spec.whatwg.org/#strings">strings</a>. All entry values are expressed using one
of the abstract data types in the table below, and each <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-6">representation</a>
specifies the concrete serialization format of each data type.
    </p>

    <table class="simple" id="data-types">
      <thead>
        <tr>
          <th>
Data&nbsp;Type
          </th>
          <th>
Considerations
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>
<a href="https://infra.spec.whatwg.org/#maps">map</a>
          </td>
          <td>
A finite ordered sequence of key/value pairs, with no key appearing twice as
specified in [<cite><a class="bibref" data-link-type="biblio" href="#bib-infra" title="Infra Standard">INFRA</a></cite>]. A map is sometimes referred to as an
<a href="https://infra.spec.whatwg.org/#maps">ordered map</a> in [<cite><a class="bibref" data-link-type="biblio" href="#bib-infra" title="Infra Standard">INFRA</a></cite>].
          </td>
        </tr>
        <tr>
          <td>
<a href="https://infra.spec.whatwg.org/#list">list</a>
          </td>
          <td>
A finite ordered sequence of items as specified in [<cite><a class="bibref" data-link-type="biblio" href="#bib-infra" title="Infra Standard">INFRA</a></cite>].
          </td>
        </tr>
        <tr>
          <td>
<a href="https://infra.spec.whatwg.org/#ordered-set">set</a>
          </td>
          <td>
A finite ordered sequence of items that does not contain the same item twice
as specified in [<cite><a class="bibref" data-link-type="biblio" href="#bib-infra" title="Infra Standard">INFRA</a></cite>]. A set is sometimes referred to as an
<a href="https://infra.spec.whatwg.org/#ordered-set">ordered set</a> in [<cite><a class="bibref" data-link-type="biblio" href="#bib-infra" title="Infra Standard">INFRA</a></cite>].
          </td>
        </tr>
        <tr>
          <td>
<dfn data-plurals="datetimes" id="dfn-datetime">datetime</dfn>
          </td>
          <td>
A date and time value that is capable of losslessly expressing all values
expressible by a <code>dateTime</code> as specified in
[<a href="https://www.w3.org/TR/xmlschema11-2/#dateTime">XMLSCHEMA11-2</a>].
          </td>
        </tr>
        <tr>
          <td>
<a href="https://infra.spec.whatwg.org/#string">string</a>
          </td>
          <td>
A sequence of code units often used to represent human readable language
as specified in [<cite><a class="bibref" data-link-type="biblio" href="#bib-infra" title="Infra Standard">INFRA</a></cite>].
          </td>
        </tr>
        <tr>
          <td>
<dfn id="dfn-integer">integer</dfn>
          </td>
          <td>
A real number without a fractional component as specified in
[<a href="https://www.w3.org/TR/xmlschema11-2/#decimal">XMLSCHEMA11-2</a>]. To maximize
interoperability, implementers are urged to heed the advice regarding
integers in <a href="https://tools.ietf.org/html/rfc8259#section-6">RFC8259, Section 6: Numbers</a>.
          </td>
        </tr>
        <tr>
          <td>
<dfn id="dfn-double">double</dfn>
          </td>
          <td>
A value that is often used to approximate arbitrary real numbers as specified
in [<a href="https://www.w3.org/TR/xmlschema11-2/#double">XMLSCHEMA11-2</a>]. To maximize
interoperability, implementers are urged to heed the advice regarding
doubles in <a href="https://tools.ietf.org/html/rfc8259#section-6">RFC8259, Section 6: Numbers</a>.
          </td>
        </tr>
        <tr>
          <td>
<a href="https://infra.spec.whatwg.org/#boolean">boolean</a>
          </td>
          <td>
A value that is either true or false as defined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-infra" title="Infra Standard">INFRA</a></cite>].
          </td>
        </tr>
        <tr>
          <td>
<a href="https://infra.spec.whatwg.org/#nulls">null</a>
          </td>
          <td>
A value that is used to indicate the lack of a value as defined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-infra" title="Infra Standard">INFRA</a></cite>].
          </td>
        </tr>
      </tbody>
    </table>

    <p class="advisement" title="Ordering of values">
As a result of the <a href="#data-model">data model</a> being defined using
terminology from [<cite><a class="bibref" data-link-type="biblio" href="#bib-infra" title="Infra Standard">INFRA</a></cite>], property values which can contain more than one
item, such as <a href="https://infra.spec.whatwg.org/#list">lists</a>, <a href="https://infra.spec.whatwg.org/#ordered-map">maps</a> and <a href="https://infra.spec.whatwg.org/#ordered-set">sets</a>, are explicitly ordered. All list-like
value structures in [<cite><a class="bibref" data-link-type="biblio" href="#bib-infra" title="Infra Standard">INFRA</a></cite>] are ordered, whether or not that order is
significant. For the purposes of this specification, unless otherwise stated, <a href="https://infra.spec.whatwg.org/#ordered-map">map</a> and  <a href="https://infra.spec.whatwg.org/#ordered-set">set</a> ordering is not important and
implementations are not expected to produce or consume deterministically ordered
values.
    </p>

    <section id="extensibility">
      <h3 id="x4-1-extensibility"><bdi class="secno">4.1 </bdi>Extensibility<a class="self-link" aria-label="§" href="#extensibility"></a></h3>
      <p>
The data model supports two types of extensibility.
      </p>
      <ol>
        <li>
For maximum interoperability, it is <em class="rfc2119">RECOMMENDED</em> that extensions use the
<abbr title="World Wide Web Consortium">W3C</abbr> DID Specification Registries mechanism [<cite><a class="bibref" data-link-type="biblio" href="#bib-did-spec-registries" title="DID Specification Registries">DID-SPEC-REGISTRIES</a></cite>]. The use of
this mechanism for new properties or other extensions is the only specified
mechanism that ensures that two different <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-7">representations</a> will be able to
work together.
        </li>
      <li>
<a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-8">Representations</a> <em class="rfc2119">MAY</em> define other extensibility mechanisms, including ones
that do not require the use of the DID Specification Registries. Such extension
mechanisms <em class="rfc2119">SHOULD</em> support lossless conversion into any other conformant
<a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-9">representation</a>. Extension mechanisms for a <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-10">representation</a> <em class="rfc2119">SHOULD</em>
define a mapping of all properties and <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-11">representation</a> syntax into the <a href="#data-model">data model</a> and its type system.
      </li>
      </ol>
      <div class="note" role="note" id="issue-container-generatedID-3"><div role="heading" class="note-title marker" id="h-note-2" aria-level="4"><span>Note</span><span class="issue-label">: Unregistered extensions are less reliable</span></div><p class="">
It is always possible for two specific implementations to agree out-of-band to
use a mutually understood extension or <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-12">representation</a> that is not
recorded in the DID Specification Registries [<cite><a class="bibref" data-link-type="biblio" href="#bib-did-spec-registries" title="DID Specification Registries">DID-SPEC-REGISTRIES</a></cite>];
interoperability between such implementations and the larger ecosystem will be
less reliable.
      </p></div>
    </section>
  </section>

  <section id="core-properties">
    <h2 id="x5-core-properties"><bdi class="secno">5. </bdi>Core Properties<a class="self-link" aria-label="§" href="#core-properties"></a></h2>

    <p>
A <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-61">DID</a> is associated with a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-58">DID document</a>.
<a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-59">DID documents</a> are expressed using the
<a href="#data-model">data model</a> and can be serialized into a
<a href="#representations">representation</a>.
The following sections define the properties in a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-60">DID document</a>,
including whether these properties are required or optional. These properties
describe relationships between the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-18">DID subject</a> and the value of the
property.
    </p>
    <p>
The following tables contain informative references for the core properties
defined by this specification, with expected values, and whether or not they are
required. The property names in the tables are linked to the normative
definitions and more detailed descriptions of each property.
    </p>
    <div class="note" role="note" id="issue-container-generatedID-4"><div role="heading" class="note-title marker" id="h-note-3" aria-level="3"><span>Note</span><span class="issue-label">: Property names used in maps of different types</span></div><p class="">
The property names <code>id</code>, <code>type</code>, and
<code>controller</code> can be present in maps of different types
with possible differences in constraints.
    </p></div>

    <section class="notoc">
      <h3 id="did-document-properties">DID Document properties<a class="self-link" aria-label="§" href="#did-document-properties"></a></h3>

      <table class="simple">
        <thead>
          <tr>
            <th>Property</th>
            <th>Required?</th>
            <th>Value constraints</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code><a href="#dfn-id" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-id-1">id</a></code></td>
            <td>yes</td>
            <td>
A <a href="https://infra.spec.whatwg.org/#string">string</a> that conforms to the rules in
<a href="#did-syntax" class="sec-ref">§&nbsp;<bdi class="secno">3.1 </bdi>DID Syntax</a>.
            </td>
          </tr>
          <tr>
            <td><code><a href="#dfn-alsoknownas" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-alsoknownas-1">alsoKnownAs</a></code></td>
            <td>no</td>
            <td>
A <a href="https://infra.spec.whatwg.org/#ordered-set">set</a> of
<a href="https://infra.spec.whatwg.org/#string">strings</a> that conform to the rules of
[<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>] for <a href="#dfn-uri" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-uri-11">URIs</a>.
            </td>
          </tr>
          <tr>
            <td><code><a href="#dfn-controller" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-2">controller</a></code></td>
            <td>no</td>
            <td>
A <a href="https://infra.spec.whatwg.org/#string">string</a> or a
<a href="https://infra.spec.whatwg.org/#ordered-set">set</a> of
<a href="https://infra.spec.whatwg.org/#string">strings</a> that conform to the rules in
<a href="#did-syntax" class="sec-ref">§&nbsp;<bdi class="secno">3.1 </bdi>DID Syntax</a>.
            </td>
          </tr>
          <tr>
            <td><code><a href="#dfn-verificationmethod" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verificationmethod-1">verificationMethod</a></code></td>
            <td>no</td>
            <td>
A <a href="https://infra.spec.whatwg.org/#ordered-set">set</a> of
<a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-8">Verification Method</a> <a href="https://infra.spec.whatwg.org/#ordered-map">maps</a>
that conform to the rules in <a href="#verification-method-properties" class="sec-ref">§&nbsp;Verification Method properties</a>.
            </td>
          </tr>
          <tr>
            <td><code><a href="#dfn-authentication" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-authentication-1">authentication</a></code></td>
            <td>no</td>
            <td rowspan="5">
A <a href="https://infra.spec.whatwg.org/#ordered-set">set</a> of either <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-9">Verification
Method</a> <a href="https://infra.spec.whatwg.org/#ordered-map">maps</a> that conform to
the rules in <a href="#verification-method-properties" class="sec-ref">§&nbsp;Verification Method properties</a>) or
<a href="https://infra.spec.whatwg.org/#string">strings</a> that conform to the rules in
<a href="#did-url-syntax" class="sec-ref">§&nbsp;<bdi class="secno">3.2 </bdi>DID URL Syntax</a>.
            </td>

          </tr>
          <tr>
            <td><code><a href="#dfn-assertionmethod" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-assertionmethod-1">assertionMethod</a></code></td>
            <td>no</td>

          </tr>
          <tr>
            <td><code><a href="#dfn-keyagreement" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-keyagreement-1">keyAgreement</a></code></td>
            <td>no</td>

          </tr>
          <tr>
            <td><code><a href="#dfn-capabilityinvocation" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-capabilityinvocation-1">capabilityInvocation</a></code></td>
            <td>no</td>

          </tr>
          <tr>
            <td><code><a href="#dfn-capabilitydelegation" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-capabilitydelegation-1">capabilityDelegation</a></code></td>
            <td>no</td>

          </tr>
          <tr>
            <td><code><a href="#dfn-service" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-9">service</a></code></td>
            <td>no</td>
            <td>
A <a href="https://infra.spec.whatwg.org/#ordered-set">set</a> of <a href="#dfn-service-endpoints" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-endpoints-3">Service Endpoint</a>
<a href="https://infra.spec.whatwg.org/#ordered-map">maps</a> that conform to the rules in
<a href="#service-properties" class="sec-ref">§&nbsp;Service properties</a>.
            </td>
          </tr>
        </tbody>
      </table>
    </section>

    <section class="notoc">
      <h3 id="verification-method-properties">Verification Method properties<a class="self-link" aria-label="§" href="#verification-method-properties"></a></h3>

      <table class="simple">
        <thead>
          <tr>
            <th>Property</th>
            <th>Required?</th>
            <th>Value constraints</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>id</code></td>
            <td>yes</td>
            <td>
A <a href="https://infra.spec.whatwg.org/#string">string</a> that conforms to the rules in
<a href="#did-url-syntax" class="sec-ref">§&nbsp;<bdi class="secno">3.2 </bdi>DID URL Syntax</a>.
            </td>
          </tr>
          <tr>
            <td><code><a href="#dfn-controller" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-3">controller</a></code></td>
            <td>yes</td>
            <td>
A <a href="https://infra.spec.whatwg.org/#string">string</a> that conforms to the rules in
<a href="#did-syntax" class="sec-ref">§&nbsp;<bdi class="secno">3.1 </bdi>DID Syntax</a>.
            </td>
          </tr>
          <tr>
            <td><code>type</code></td>
            <td>yes</td>
            <td>
A <a href="https://infra.spec.whatwg.org/#string">string</a>.
            </td>
          </tr>
          <tr>
            <td><code><a href="#dfn-publickeyjwk" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-publickeyjwk-1">publicKeyJwk</a></code></td>
            <td>no</td>
            <td>
A <a href="https://infra.spec.whatwg.org/#maps">map</a> representing a JSON Web Key that conforms
to [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7517" title="JSON Web Key (JWK)">RFC7517</a></cite>]. See <a href="#dfn-publickeyjwk" id="ref-for-dfn-publickeyjwk-2">definition of publicKeyJwk</a>
for additional constraints.
            </td>
          </tr>
          <tr>
            <td><code><a href="#dfn-publickeybase58" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-publickeybase58-1">publicKeyBase58</a></code></td>
            <td>no</td>
            <td>
A <a href="https://infra.spec.whatwg.org/#string">string</a> that conforms to a base58btc encoded
public key.
            </td>
          </tr>
        </tbody>
      </table>

    </section>

    <section class="notoc">
      <h3 id="service-properties">Service properties<a class="self-link" aria-label="§" href="#service-properties"></a></h3>

      <table class="simple">
        <thead>
          <tr>
            <th>Property</th>
            <th>Required?</th>
            <th>Value constraints</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>id</code></td>
            <td>yes</td>
            <td>
A <a href="https://infra.spec.whatwg.org/#string">string</a> that conforms to the rules of
[<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>] for <a href="#dfn-uri" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-uri-12">URIs</a>.
            </td>
          </tr>
          <tr>
            <td><code>type</code></td>
            <td>yes</td>
            <td>
A <a href="https://infra.spec.whatwg.org/#string">string</a> or a
<a href="https://infra.spec.whatwg.org/#ordered-set">set</a> of
<a href="https://infra.spec.whatwg.org/#string">strings</a>.
            </td>
          </tr>
          <tr>
            <td><code><a href="#dfn-serviceendpoint" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-serviceendpoint-1">serviceEndpoint</a></code></td>
            <td>yes</td>
            <td>
A <a href="https://infra.spec.whatwg.org/#string">string</a> that conforms to the rules of
[<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>] for <a href="#dfn-uri" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-uri-13">URIs</a>, a <a href="https://infra.spec.whatwg.org/#string">map</a>, or a
<a href="https://infra.spec.whatwg.org/#ordered-set">set</a> composed of a one or more
<a href="https://infra.spec.whatwg.org/#string">strings</a> that conform to the rules of
[<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>] for <a href="#dfn-uri" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-uri-14">URIs</a> and/or <a href="https://infra.spec.whatwg.org/#string">maps</a>.
            </td>
          </tr>
        </tbody>
      </table>
    </section>

    <section id="identifiers">
      <h3 id="x5-1-identifiers"><bdi class="secno">5.1 </bdi>Identifiers<a class="self-link" aria-label="§" href="#identifiers"></a></h3>

      <p>

This section describes the mechanisms by which <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-61">DID documents</a>
include identifiers for <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-19">DID subjects</a> and <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-8">DID controllers</a>.
      </p>

      <section id="did-subject">
        <h4 id="x5-1-1-did-subject"><bdi class="secno">5.1.1 </bdi>DID Subject<a class="self-link" aria-label="§" href="#did-subject"></a></h4>
        <p>
The <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-62">DID</a> for a particular <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-20">DID subject</a> is expressed using the
<code><a href="#dfn-id" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-id-2">id</a></code> property in the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-62">DID document</a>.
        </p>

        <dl>
          <dt><dfn id="dfn-id">id</dfn></dt>
          <dd>
The value of <code>id</code> <em class="rfc2119">MUST</em> be a <a href="https://infra.spec.whatwg.org/#string">string</a> that conforms to the rules in <a href="#did-syntax" class="sec-ref">§&nbsp;<bdi class="secno">3.1 </bdi>DID Syntax</a> and <em class="rfc2119">MUST</em> exist in the root <a href="https://infra.spec.whatwg.org/#ordered-map">map</a> of the <a href="#data-model">data
model</a> for the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-63">DID document</a>.
          </dd>
        </dl>

        <div class="example" id="example-10">
        <div class="marker">
    <a class="self-link" href="#example-10">Example<bdi> 10</bdi></a>
  </div> <pre class="nohighlight">{
  "id": "did:example:123456789abcdefghijk"
}</pre>
      </div>

        <p>
The <code>id</code> property only denotes the <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-63">DID</a> of the
<a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-21">DID subject</a> when it is present in the <em>topmost</em>
<a href="https://infra.spec.whatwg.org/#ordered-map">map</a> of the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-64">DID document</a>.
        </p>
        <div class="note" role="note" id="issue-container-generatedID-5"><div role="heading" class="note-title marker" id="h-note-4" aria-level="5"><span>Note</span><span class="issue-label">: Intermediate representations</span></div><p class="">
<a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-26">DID method</a> specifications can create intermediate representations of a
<a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-65">DID document</a> that do not contain the <code><a href="#dfn-id" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-id-3">id</a></code> property,
such as when a <a href="#dfn-did-resolvers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolvers-6">DID resolver</a> is performing <a href="#dfn-did-resolution" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolution-6">DID resolution</a>.
However, the fully resolved <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-66">DID document</a> always contains a valid
<code><a href="#dfn-id" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-id-4">id</a></code> property.
        </p></div>

      </section>

      <section id="did-controller">
        <h4 id="x5-1-2-did-controller"><bdi class="secno">5.1.2 </bdi>DID Controller<a class="self-link" aria-label="§" href="#did-controller"></a></h4>

        <p>
A <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-9">DID controller</a> is an entity that is authorized to make changes to a
<a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-67">DID document</a>. The process of authorizing a <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-10">DID controller</a> is
defined by the <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-27">DID method</a>.
        </p>

        <dl>
          <dt><dfn id="dfn-controller">controller</dfn></dt>
          <dd>
The <code>controller</code> property is <em class="rfc2119">OPTIONAL</em>. If present, the value <em class="rfc2119">MUST</em>
be a <a href="https://infra.spec.whatwg.org/#string">string</a> or a <a href="https://infra.spec.whatwg.org/#ordered-set">set</a> of <a href="https://infra.spec.whatwg.org/#string">strings</a> that conform to the rules in <a href="#did-syntax" class="sec-ref">§&nbsp;<bdi class="secno">3.1 </bdi>DID Syntax</a>. The corresponding <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-68">DID document</a>(s) <em class="rfc2119">SHOULD</em>
contain <a href="#dfn-verification-relationship" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-relationship-1">verification relationships</a> that explicitly permit the use of
certain <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-10">verification methods</a> for specific purposes.
          </dd>
        </dl>

        <p>
When a <code><a href="#dfn-controller" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-4">controller</a></code> property is present in a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-69">DID
document</a>, its value expresses one or more <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-64">DIDs</a>. Any <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-11">verification
methods</a> contained in the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-70">DID documents</a> for those <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-65">DIDs</a> <em class="rfc2119">SHOULD</em>
be accepted as authoritative, such that proofs that satisfy those
<a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-12">verification methods</a> are to be considered equivalent to proofs provided
by the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-22">DID subject</a>.
        </p>

        <div class="example" id="example-11-did-document-with-a-controller-property">
        <div class="marker">
    <a class="self-link" href="#example-11-did-document-with-a-controller-property">Example<bdi> 11</bdi></a><span class="example-title">: DID document with a controller property</span>
  </div> <pre class="nohighlight">{
  "@context": "https://www.w3.org/ns/did/v1",
  "id": "did:example:123456789abcdefghi",
  "controller": "did:example:bcehfew7h32f32h7af3",
}</pre>
      </div>

        <div class="note" role="note" id="issue-container-generatedID-6"><div role="heading" class="note-title marker" id="h-note-5" aria-level="5"><span>Note</span><span class="issue-label">: Authorization vs authentication</span></div><p class="">
Note that authorization provided by the value of <code>controller</code> is
separate from authentication as described in <a href="#authentication" class="sec-ref">§&nbsp;<bdi class="secno">5.3.1 </bdi>Authentication</a>.
This is particularly important for key recovery in the case of cryptographic key
loss, where the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-23">DID subject</a> no longer has access to their keys, or key
compromise, where the <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-11">DID controller</a>'s trusted third parties need to
override malicious activity by an attacker. See <a href="#security-considerations" class="sec-ref">§&nbsp;<bdi class="secno">9. </bdi>Security Considerations</a> for information related to threat models
and attack vectors.
        </p></div>
      </section>

      <section id="also-known-as">
        <h4 id="x5-1-3-also-known-as"><bdi class="secno">5.1.3 </bdi>Also Known As<a class="self-link" aria-label="§" href="#also-known-as"></a></h4>

        <div class="issue atrisk" id="issue-container-generatedID-7"><div role="heading" class="issue-title marker" id="h-issue-0" aria-level="5"><span>(Feature at Risk) Issue</span><span class="issue-label">: Implementation of alsoKnownAs</span></div><p class="atrisk">
The DID Working Group is seeking implementer feedback regarding
the alsoKnownAs feature. If there is not enough
implementer interest in implementing this feature, it will be removed
from this specification and placed into the DID Specification Registries
[<cite><a class="bibref" data-link-type="biblio" href="#bib-did-spec-registries" title="DID Specification Registries">DID-SPEC-REGISTRIES</a></cite>] as an extension.
        </p></div>

        <p>
A <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-24">DID subject</a> can have multiple identifiers for different purposes, or
at different times. The assertion that two or more <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-66">DIDs</a> (or other types
of <a href="#dfn-uri" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-uri-15">URI</a>) identify the same <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-25">DID subject</a> can be made using the
<code><a href="#dfn-alsoknownas" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-alsoknownas-2">alsoKnownAs</a></code> property.
        </p>

        <dl>
          <dt><dfn id="dfn-alsoknownas">alsoKnownAs</dfn></dt>
          <dd>
The <code>alsoKnownAs</code> property is <em class="rfc2119">OPTIONAL</em>. If present, the value <em class="rfc2119">MUST</em>
be a <a href="https://infra.spec.whatwg.org/#ordered-set">set</a> where each item in the
set is a <a href="#dfn-uri" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-uri-16">URI</a> conforming to [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>].
          </dd>
          <dd>
This relationship is a statement that the subject of this identifier is
also identified by one or more other identifiers.
          </dd>
        </dl>

        <div class="note" role="note" id="issue-container-generatedID-8"><div role="heading" class="note-title marker" id="h-note-6" aria-level="5"><span>Note</span><span class="issue-label">: Equivalence and alsoKnownAs</span></div><div class="">
          <p>
Applications might choose to consider two identifiers related by
<code><a href="#dfn-alsoknownas" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-alsoknownas-3">alsoKnownAs</a></code> to be equivalent <em>if</em> the
<code><a href="#dfn-alsoknownas" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-alsoknownas-4">alsoKnownAs</a></code> relationship is reciprocated in the reverse
direction. It is best practice <em>not</em> to consider them equivalent in the
absence of this inverse relationship. In other words, the presence of an
<code><a href="#dfn-alsoknownas" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-alsoknownas-5">alsoKnownAs</a></code> assertion does not prove that this assertion
is true. Therefore, it is strongly advised that a requesting party obtain
independent verification of an <code>alsoKnownAs</code> assertion.
          </p>
          <p>
Given that the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-26">DID subject</a> might use different identifiers for different
purposes, an expectation of strong equivalence between the two identifiers, or
merging the information of the two corresponding <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-71">DID documents</a>, is not
necessarily appropriate, <em>even with</em> a reciprocal relationship.
          </p>
        </div></div>

      </section>

    </section>

    <section id="verification-methods">
      <h3 id="x5-2-verification-methods"><bdi class="secno">5.2 </bdi>Verification Methods<a class="self-link" aria-label="§" href="#verification-methods"></a></h3>
      <p>
A <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-72">DID document</a> can express <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-13">verification methods</a>, such as
cryptographic public keys, which can be used to <a href="#dfn-authenticated" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-authenticated-5">authenticate</a> or authorize
interactions with the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-27">DID subject</a> or associated parties. For example, a
cryptographic public key can be used as a <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-14">verification method</a> with
respect to a digital signature; in such usage, it verifies that the signer
could use the associated cryptographic private key. <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-15">Verification methods</a>
might take many parameters. An example of this is a set of five cryptographic
keys from which any three are required to contribute to a cryptographic
threshold signature.
      </p>

      <dl>
        <dt><dfn id="dfn-verificationmethod">verificationMethod</dfn></dt>
        <dd>
          <p>
The <code>verificationMethod</code> property is <em class="rfc2119">OPTIONAL</em>. If present, the value
<em class="rfc2119">MUST</em> be a <a href="https://infra.spec.whatwg.org/#ordered-set">set</a> of <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-16">verification
methods</a>, where each <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-17">verification method</a> is expressed using a <a href="https://infra.spec.whatwg.org/#ordered-map">map</a>. The <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-18">verification method</a> <a href="https://infra.spec.whatwg.org/#ordered-map">map</a> <em class="rfc2119">MUST</em> include the <code>id</code>,
<code>type</code>, <code>controller</code>, and specific verification material
properties that are determined by the value of <code>type</code> and are defined
in <a href="#verification-material" class="sec-ref">§&nbsp;<bdi class="secno">5.2.1 </bdi>Verification Material</a>. A <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-19">verification method</a> <em class="rfc2119">MAY</em>
include additional properties. <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-20">Verification methods</a> <em class="rfc2119">SHOULD</em> be registered
in the DID Specification Registries [<cite><a class="bibref" data-link-type="biblio" href="#bib-did-spec-registries" title="DID Specification Registries">DID-SPEC-REGISTRIES</a></cite>].
          </p>

          <dl>
            <dt>id</dt>
            <dd>
              <p>
The value of the <code><a href="#dfn-id" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-id-5">id</a></code> property for a <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-21">verification
method</a> <em class="rfc2119">MUST</em> be a <a href="https://infra.spec.whatwg.org/#string">string</a> that conforms to the
rules in Section <a href="#did-url-syntax" class="sec-ref">§&nbsp;<bdi class="secno">3.2 </bdi>DID URL Syntax</a>.
              </p>
            </dd>
            <dt>type</dt>
            <dd>
The value of the <code>type</code> property <em class="rfc2119">MUST</em> be a <a href="https://infra.spec.whatwg.org/#string">string</a> that references exactly one <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-22">verification
method</a> type. In order to maximize global interoperability, the
<a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-23">verification method</a> type <em class="rfc2119">SHOULD</em> be registered in the DID Specification
Registries [<cite><a class="bibref" data-link-type="biblio" href="#bib-did-spec-registries" title="DID Specification Registries">DID-SPEC-REGISTRIES</a></cite>].
            </dd>
            <dt>controller</dt>
            <dd>
The value of the <code>controller</code> property <em class="rfc2119">MUST</em> be a <a href="https://infra.spec.whatwg.org/#string">string</a> that conforms to the rules in <a href="#did-syntax" class="sec-ref">§&nbsp;<bdi class="secno">3.1 </bdi>DID Syntax</a>.
            </dd>
          </dl>
        </dd>
      </dl>

      <div class="example" id="example-12-example-verification-method-structure">
        <div class="marker">
    <a class="self-link" href="#example-12-example-verification-method-structure">Example<bdi> 12</bdi></a><span class="example-title">: Example verification method structure</span>
  </div> <pre aria-busy="false"><code class="hljs javascript">{
  <span class="hljs-string">"@context"</span>: <span class="hljs-string">"https://www.w3.org/ns/did/v1"</span>,
  <span class="hljs-string">"id"</span>: <span class="hljs-string">"did:example:123456789abcdefghi"</span>,
  ...
  <span class="hljs-string">"verificationMethod"</span>: [{
    <span class="hljs-string">"id"</span>: ...,
    <span class="hljs-string">"type"</span>: ...,
    <span class="hljs-string">"controller"</span>: ...,
    <span class="hljs-string">"publicKeyJwk"</span>: ...
  }, {
    <span class="hljs-string">"id"</span>: ...,
    <span class="hljs-string">"type"</span>: ...,
    <span class="hljs-string">"controller"</span>: ...,
    <span class="hljs-string">"publicKeyBase58"</span>: ...
  }]
}</code></pre>
      </div>

      <div class="note" role="note" id="issue-container-generatedID-9"><div role="heading" class="note-title marker" id="h-note-7" aria-level="4"><span>Note</span><span class="issue-label">: Verification method controller(s) and DID controller(s)</span></div><p class="">
The semantics of the <code>controller</code> property are the same when the
subject of the relationship is the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-73">DID document</a> as when the subject of
the relationship is a <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-24">verification method</a>, such as a cryptographic public
key. Since a key can't control itself, and the key controller cannot be inferred
from the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-74">DID document</a>, it is necessary to explicitly express the identity
of the controller of the key. The difference is that the value of
<code>controller</code> for a <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-25">verification method</a> is <em>not</em>
necessarily a <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-12">DID controller</a>. <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-13">DID controllers</a> are expressed
using the <code><a href="#dfn-controller" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-5">controller</a></code> property at the highest level of the
<a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-75">DID document</a> (the topmost <a href="https://infra.spec.whatwg.org/#ordered-map">map</a> in the
<a href="#data-model">data model</a>); see <a href="#did-controller" class="sec-ref">§&nbsp;<bdi class="secno">5.1.2 </bdi>DID Controller</a>.
      </p></div>

      <section id="verification-material">
        <h4 id="x5-2-1-verification-material"><bdi class="secno">5.2.1 </bdi>Verification Material<a class="self-link" aria-label="§" href="#verification-material"></a></h4>

        <p>
Verification material is any information that is used by a process
that applies a <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-26">verification method</a>. The <code>type</code>
of a <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-27">verification method</a> is expected to be used to determine
its compatibility with such processes. Examples
of verification material properties are <code><a href="#dfn-publickeyjwk" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-publickeyjwk-3">publicKeyJwk</a></code> or
<code><a href="#dfn-publickeybase58" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-publickeybase58-2">publicKeyBase58</a></code>. A verification suite definition is
responsible for specifying the <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-28">verification method</a> <code>type</code> and
its associated verification material. For example, see <a href="https://w3c-ccg.github.io/lds-jws2020/">JSON Web Signature 2020</a> and <a href="https://w3c-ccg.github.io/lds-ed25519-2018/">Ed25519 Signature 2018</a>.
For all registered <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-29">verification method</a> types and associated verification
material available for <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-67">DIDs</a>, please see the DID Specification Registries
[<cite><a class="bibref" data-link-type="biblio" href="#bib-did-spec-registries" title="DID Specification Registries">DID-SPEC-REGISTRIES</a></cite>].
        </p>

        <p>
To increase the likelihood of interoperable implementations, this specification
limits the number of formats for expressing verification material in a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-76">DID
document</a>. The fewer formats that implementers have to
implement, the more likely it will be that they will support all of them. This
approach attempts to strike a delicate balance between ease of implementation
and supporting formats that have historically had broad deployment.
Two supported verification material properties are listed below:
        </p>

        <dl>
          <dt><dfn id="dfn-publickeybase58">publicKeyBase58</dfn></dt>
          <dd>
            <p>
The <code>publicKeyBase58</code> property is <em class="rfc2119">OPTIONAL</em>. This feature is
non-normative. If present, the value <em class="rfc2119">MUST</em> be a <a href="https://infra.spec.whatwg.org/#string">string</a> representation of a [<cite><a class="bibref" data-link-type="biblio" href="#bib-base58" title="The Base58 Encoding Scheme">BASE58</a></cite>] encoded
public key.
            </p>
            <div class="issue atrisk" id="issue-container-generatedID-10"><div role="heading" class="issue-title marker" id="h-issue-1" aria-level="5"><span>(Feature at Risk) Issue</span><span class="issue-label">: publicKeyBase58 and publicKeyMultibase</span></div><p class="atrisk">
The DID Working Group is seeking implementer feedback on the preference of the
ecosystem with respect to using <code>publicKeyBase58</code> [<cite><a class="bibref" data-link-type="biblio" href="#bib-base58" title="The Base58 Encoding Scheme">BASE58</a></cite>]  or
<code>publicKeyMultibase</code> [<cite><a class="bibref" data-link-type="biblio" href="#bib-multibase" title="The Multibase Encoding Scheme">MULTIBASE</a></cite>]. The latter can be used for
encoding more base-representation formats and provides a more future proof path.
Depending on implementer feedback, one or both options might be included in the
final specification, or migrated into the DID Specification Registries as an
extension.
             </p></div>
          </dd>
          <dt><dfn id="dfn-publickeyjwk">publicKeyJwk</dfn></dt>
          <dd>
            <p>
The <code>publicKeyJwk</code> property is <em class="rfc2119">OPTIONAL</em>. If present, the value <em class="rfc2119">MUST</em>
be a <a href="https://infra.spec.whatwg.org/#ordered-map">map</a> representing a JSON Web Key that
conforms to [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7517" title="JSON Web Key (JWK)">RFC7517</a></cite>]. The <a href="https://infra.spec.whatwg.org/#ordered-map">map</a> <em class="rfc2119">MUST NOT</em>
contain "d", or any other members of the private information class as described
in <a href="https://tools.ietf.org/html/rfc7517#section-8.1.1">Registration
Template</a>. It is <em class="rfc2119">RECOMMENDED</em> that verification methods that use JWKs
[<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7517" title="JSON Web Key (JWK)">RFC7517</a></cite>] to represent their public keys use the value of <code>kid</code> as
their <a href="#fragment">fragment identifier</a>. It is <em class="rfc2119">RECOMMENDED</em> that JWK
<code>kid</code> values are set to the public key fingerprint [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7638" title="JSON Web Key (JWK) Thumbprint">RFC7638</a></cite>]. See
the first key in <a href="#example-various-verification-method-types" class="box-ref">Example<bdi> 13</bdi></a> for
an example of a public key with a compound key identifier.
            </p>
          </dd>
      </dl>

        <p>
A <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-30">verification method</a> <em class="rfc2119">MUST NOT</em> contain multiple verification material
properties for the same material. For example, expressing key material in a
<a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-31">verification method</a> using both <code>publicKeyJwk</code> and
<code>publicKeyBase58</code> at the same time is prohibited.
        </p>

        <p>
An example of a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-77">DID document</a> containing <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-32">verification methods</a> using
both properties above is shown below.
        </p>

        <div class="example" id="example-various-verification-method-types">
        <div class="marker">
    <a class="self-link" href="#example-various-verification-method-types">Example<bdi> 13</bdi></a><span class="example-title">: Verification methods using publicKeyJwk and publicKeyBase58</span>
  </div> <pre class="nohighlight">{
  "@context": "https://www.w3.org/ns/did/v1",
  "id": "did:example:123456789abcdefghi",
  <span class="comment">...</span>
  "verificationMethod": [{
    "id": "did:example:123#_Qq0UL2Fq651Q0Fjd6TvnYE-faHiOpRlPVQcY_-tA4A",
    "type": "JsonWebKey2020", <span class="comment">// external (property value)</span>
    "controller": "did:example:123",
    "publicKeyJwk": {
      "crv": "Ed25519", <span class="comment">// external (property name)</span>
      "x": "VCpo2LMLhn6iWku8MKvSLg2ZAoC-nlOyPVQaO3FxVeQ", <span class="comment">// external (property name)</span>
      "kty": "OKP", <span class="comment">// external (property name)</span>
      "kid": "_Qq0UL2Fq651Q0Fjd6TvnYE-faHiOpRlPVQcY_-tA4A" <span class="comment">// external (property name)</span>
    }
  }, {
    "id": "did:example:123456789abcdefghi#keys-1",
    "type": "Ed25519VerificationKey2018", <span class="comment">// external (property value)</span>
    "controller": "did:example:pqrstuvwxyz0987654321",
    "publicKeyBase58": "H3C2AVvLMv6gmMNam3uVAjZpfkcJCwDwnZn6z3wXmqPV"
  }],
  <span class="comment">...</span>
}</pre>
      </div>

      </section>

      <section id="referring-to-verification-methods">
        <h4 id="x5-2-2-referring-to-verification-methods"><bdi class="secno">5.2.2 </bdi>Referring to Verification Methods<a class="self-link" aria-label="§" href="#referring-to-verification-methods"></a></h4>
        <p>
<a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-33">Verification methods</a> can be embedded in or referenced from properties
associated with various <a href="#dfn-verification-relationship" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-relationship-2">verification relationships</a> as described in <a href="#verification-relationships" class="sec-ref">§&nbsp;<bdi class="secno">5.3 </bdi>Verification Relationships</a>. Referencing <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-34">verification methods</a>
allows them to be used by more than one <a href="#dfn-verification-relationship" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-relationship-3">verification relationship</a>.
        </p>

        <p>
If the value of a <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-35">verification method</a> property is a <a href="https://infra.spec.whatwg.org/#ordered-map">map</a>, the <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-36">verification method</a> has been
embedded and its properties can be accessed directly. However, if the value is a
URL <a href="https://infra.spec.whatwg.org/#string">string</a>, the <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-37">verification method</a> has
been included by reference and its properties will need to be retrieved from
elsewhere in the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-78">DID document</a> or from another <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-79">DID document</a>. This
is done by dereferencing the URL and searching the resulting <a href="#dfn-resources" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-resources-13">resource</a> for a
<a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-38">verification method</a> <a href="https://infra.spec.whatwg.org/#ordered-map">map</a> with an
<code>id</code> property whose value matches the URL.
        </p>

        <div class="example" id="example-14-embedding-and-referencing-verification-methods">
        <div class="marker">
    <a class="self-link" href="#example-14-embedding-and-referencing-verification-methods">Example<bdi> 14</bdi></a><span class="example-title">: Embedding and referencing verification methods</span>
  </div> <pre class="nohighlight">{
<span class="comment">...</span>

  "authentication": [
    <span class="comment">// this key is referenced and might be used by</span>
    <span class="comment">// more than one verification relationship</span>
    "did:example:123456789abcdefghi#keys-1",
    <span class="comment">// this key is embedded and may *only* be used for authentication</span>
    {
      "id": "did:example:123456789abcdefghi#keys-2",
      "type": "Ed25519VerificationKey2018", <span class="comment">// external (property value)</span>
      "controller": "did:example:123456789abcdefghi",
      "publicKeyBase58": "H3C2AVvLMv6gmMNam3uVAjZpfkcJCwDwnZn6z3wXmqPV"
    }
  ],

<span class="comment">...</span>
}</pre>
      </div>
      </section>
    </section>

    <section id="verification-relationships">
      <h3 id="x5-3-verification-relationships"><bdi class="secno">5.3 </bdi>Verification Relationships<a class="self-link" aria-label="§" href="#verification-relationships"></a></h3>

      <p>
A <a href="#dfn-verification-relationship" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-relationship-4">verification relationship</a> expresses the relationship between the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-28">DID
subject</a> and a <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-39">verification method</a>.
      </p>
      <p>
Different <a href="#dfn-verification-relationship" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-relationship-5">verification relationships</a> enable the associated
<a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-40">verification methods</a> to be used for different purposes. It is up to a
<em>verifier</em> to ascertain the validity of a verification attempt by
checking that the <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-41">verification method</a> used is contained in the
appropriate <a href="#dfn-verification-relationship" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-relationship-6">verification relationship</a> property of the
<a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-80">DID Document</a>.
      </p>
      <p>
The <a href="#dfn-verification-relationship" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-relationship-7">verification relationship</a> between the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-29">DID subject</a> and the
<a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-42">verification method</a> is explicit in the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-81">DID document</a>.
<a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-43">Verification methods</a> that are not associated with a particular
<a href="#dfn-verification-relationship" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-relationship-8">verification relationship</a> cannot be used for that <a href="#dfn-verification-relationship" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-relationship-9">verification
relationship</a>. For example, a <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-44">verification method</a> in the value of
the <code><a href="#dfn-authentication" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-authentication-2">authentication</a></code> property cannot be used to engage in
key agreement protocols with the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-30">DID subject</a>—the value of the
<code><a href="#dfn-keyagreement" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-keyagreement-2">keyAgreement</a></code> property needs to be used for that.
      </p>
      <p>
The <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-82">DID document</a> does not express revoked keys using a <a href="#dfn-verification-relationship" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-relationship-10">verification
relationship</a>. If a referenced verification method is not in the latest
<a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-83">DID Document</a> used to dereference it, then that verification method is
considered invalid or revoked. Each <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-28">DID method</a> specification is expected
to detail how revocation is performed and tracked.
      </p>
      <p>
The following sections define several useful <a href="#dfn-verification-relationship" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-relationship-11">verification relationships</a>.
A <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-84">DID document</a> <em class="rfc2119">MAY</em> include any of these, or other properties, to
express a specific <a href="#dfn-verification-relationship" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-relationship-12">verification relationship</a>. In order to maximize global
interoperability, any such properties used <em class="rfc2119">SHOULD</em> be registered in the DID
Specification Registries [<cite><a class="bibref" data-link-type="biblio" href="#bib-did-spec-registries" title="DID Specification Registries">DID-SPEC-REGISTRIES</a></cite>].
      </p>

      <section id="authentication">
        <h4 id="x5-3-1-authentication"><bdi class="secno">5.3.1 </bdi>Authentication<a class="self-link" aria-label="§" href="#authentication"></a></h4>

        <p>
The <code>authentication</code> <a href="#dfn-verification-relationship" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-relationship-13">verification relationship</a> is used to
specify how the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-31">DID subject</a> is expected to be <a href="#dfn-authenticated" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-authenticated-6">authenticated</a>, for
purposes such as logging into a website or engaging in any sort of
challenge-response protocol.
        </p>

        <dl>
          <dt><dfn id="dfn-authentication">authentication</dfn></dt>
          <dd>
The <code>authentication</code> property is <em class="rfc2119">OPTIONAL</em>. If present, the associated
value <em class="rfc2119">MUST</em> be a <a href="https://infra.spec.whatwg.org/#ordered-set">set</a> of one or more
<a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-45">verification methods</a>. Each <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-46">verification method</a> <em class="rfc2119">MAY</em> be embedded or
referenced.
          </dd>
        </dl>

        <div class="example" id="example-15-authentication-property-containing-three-verification-methods">
        <div class="marker">
    <a class="self-link" href="#example-15-authentication-property-containing-three-verification-methods">Example<bdi> 15</bdi></a><span class="example-title">: Authentication property
                      containing three verification methods</span>
  </div> <pre class="nohighlight">{
  "@context": "https://www.w3.org/ns/did/v1",
  "id": "did:example:123456789abcdefghi",
  <span class="comment">...</span>
  "authentication": [
    <span class="comment">// this method can be used to authenticate as did:...fghi</span>
    "did:example:123456789abcdefghi#keys-1",
    <span class="comment">// this method is *only* approved for authentication, it may not</span>
    <span class="comment">// be used for any other proof purpose, so its full description is</span>
    <span class="comment">// embedded here rather than using only a reference</span>
    {
      "id": "did:example:123456789abcdefghi#keys-2",
      "type": "Ed25519VerificationKey2018",
      "controller": "did:example:123456789abcdefghi",
      "publicKeyBase58": "H3C2AVvLMv6gmMNam3uVAjZpfkcJCwDwnZn6z3wXmqPV"
    }
  ],
  <span class="comment">...</span>
}</pre>
      </div>

        <p>
If authentication is established, it is up to the <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-29">DID method</a> or other
application to decide what to do with that information. A particular <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-30">DID
method</a> could decide that authenticating as a <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-14">DID controller</a> is
sufficient to, for example, update or delete the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-85">DID document</a>. Another
<a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-31">DID method</a> could require different keys, or a different <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-47">verification
method</a> entirely, to be presented in order to update or delete the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-86">DID
document</a> than that used to <a href="#dfn-authenticated" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-authenticated-7">authenticate</a>. In other words, what is done
<em>after</em> the authentication check is out of scope for the <a href="#data-model">data model</a>; <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-32">DID methods</a> and applications are
expected to define this themselves.
        </p>
        <p>
This is useful to any <em>authentication verifier</em> that needs to check to
see if an entity that is attempting to <a href="#dfn-authenticated" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-authenticated-8">authenticate</a> is, in fact,
presenting a valid proof of authentication. When a <em>verifier</em> receives
some data (in some protocol-specific format) that contains a proof that was made
for the purpose of "authentication", and that says that an entity is identified
by the <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-68">DID</a>, then that <em>verifier</em> checks to ensure that the proof
can be verified using a <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-48">verification method</a> (e.g., public key) listed
under <code><a href="#dfn-authentication" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-authentication-3">authentication</a></code> in the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-87">DID Document</a>.
        </p>
        <p>
Note that the <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-49">verification method</a> indicated by the
<code><a href="#dfn-authentication" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-authentication-4">authentication</a></code> property of a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-88">DID document</a> can only be
used to <a href="#dfn-authenticated" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-authenticated-9">authenticate</a> the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-32">DID subject</a>. To <a href="#dfn-authenticated" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-authenticated-10">authenticate</a> a
different <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-15">DID controller</a>, the entity associated with the value of
<code>controller</code>, as defined in <a href="#did-controller" class="sec-ref">§&nbsp;<bdi class="secno">5.1.2 </bdi>DID Controller</a>, needs to
<a href="#dfn-authenticated" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-authenticated-11">authenticate</a> with its <em>own</em> <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-89">DID document</a> and associated
<code><a href="#dfn-authentication" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-authentication-5">authentication</a></code> <a href="#dfn-verification-relationship" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-relationship-14">verification relationship</a>.
        </p>
      </section>

      <section id="assertion">
        <h4 id="x5-3-2-assertion"><bdi class="secno">5.3.2 </bdi>Assertion<a class="self-link" aria-label="§" href="#assertion"></a></h4>

        <p>
The <code>assertionMethod</code> <a href="#dfn-verification-relationship" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-relationship-15">verification relationship</a> is used to
specify how the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-33">DID subject</a> is expected to express claims, such as for
the purposes of issuing a Verifiable Credential [<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-data-model" title="Verifiable Credentials Data Model 1.0">VC-DATA-MODEL</a></cite>].
        </p>

        <dl>
          <dt><dfn id="dfn-assertionmethod">assertionMethod</dfn></dt>
          <dd>
The <code>assertionMethod</code> property is <em class="rfc2119">OPTIONAL</em>. If present, the
associated value <em class="rfc2119">MUST</em> be a <a href="https://infra.spec.whatwg.org/#ordered-set">set</a> of
one or more <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-50">verification methods</a>. Each <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-51">verification method</a> <em class="rfc2119">MAY</em> be
embedded or referenced.
          </dd>
        </dl>

        <p>
This property is useful, for example, during the processing of a <a href="#dfn-verifiable-credentials" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verifiable-credentials-2">verifiable
credential</a> by a verifier. During verification, a verifier checks to see if a
<a href="#dfn-verifiable-credentials" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verifiable-credentials-3">verifiable credential</a> contains a proof created by the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-34">DID subject</a>
by checking that the <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-52">verification method</a> used to assert the proof is
associated with the <code><a href="#dfn-assertionmethod" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-assertionmethod-2">assertionMethod</a></code> property in the
corresponding <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-90">DID document</a>.
        </p>

        <div class="example" id="example-16-assertion-method-property-containing-two-verification-methods">
        <div class="marker">
    <a class="self-link" href="#example-16-assertion-method-property-containing-two-verification-methods">Example<bdi> 16</bdi></a><span class="example-title">: Assertion method property
                    containing two verification methods</span>
  </div> <pre class="nohighlight">{
"@context": "https://www.w3.org/ns/did/v1",
"id": "did:example:123456789abcdefghi",
<span class="comment">...</span>
"assertionMethod": [
  <span class="comment">// this method can be used to assert statements as did:...fghi</span>
  "did:example:123456789abcdefghi#keys-1",
  <span class="comment">// this method is *only* approved for assertion of statements, it is not</span>
  <span class="comment">// used for any other verification relationship, so its full description is</span>
  <span class="comment">// embedded here rather than using a reference</span>
  {
    "id": "did:example:123456789abcdefghi#keys-2",
    "type": "Ed25519VerificationKey2018", <span class="comment">// external (property value)</span>
    "controller": "did:example:123456789abcdefghi",
    "publicKeyBase58": "H3C2AVvLMv6gmMNam3uVAjZpfkcJCwDwnZn6z3wXmqPV"
  }
],
<span class="comment">...</span>
}</pre>
      </div>
      </section>

      <section id="key-agreement">
        <h4 id="x5-3-3-key-agreement"><bdi class="secno">5.3.3 </bdi>Key Agreement<a class="self-link" aria-label="§" href="#key-agreement"></a></h4>

        <p>
The <code>keyAgreement</code> <a href="#dfn-verification-relationship" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-relationship-16">verification relationship</a> is used to
specify how an entity can generate encryption material in order to transmit
confidential information intended for the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-35">DID subject</a>, such as for
the purposes of establishing a secure communication channel with the recipient.
        </p>

        <dl>
          <dt><dfn id="dfn-keyagreement">keyAgreement</dfn></dt>
          <dd>
The <code>keyAgreement</code> property is <em class="rfc2119">OPTIONAL</em>. If present, the associated
value <em class="rfc2119">MUST</em> be a <a href="https://infra.spec.whatwg.org/#ordered-set">set</a> of one or more
<a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-53">verification methods</a>. Each <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-54">verification method</a> <em class="rfc2119">MAY</em> be embedded or
referenced.
          </dd>
        </dl>

        <p>
An example of when this property is useful is when encrypting a message intended
for the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-36">DID subject</a>. In this case, the counterparty uses the
cryptographic public key information in the <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-55">verification method</a> to wrap a
decryption key for the recipient.
        </p>

        <div class="example" id="example-17-key-agreement-property-containing-two-verification-methods">
        <div class="marker">
    <a class="self-link" href="#example-17-key-agreement-property-containing-two-verification-methods">Example<bdi> 17</bdi></a><span class="example-title">: Key agreement property
                      containing two verification methods</span>
  </div> <pre class="nohighlight">{
  "@context": "https://www.w3.org/ns/did/v1",
  "id": "did:example:123456789abcdefghi",
  <span class="comment">...</span>
  "keyAgreement": [
    <span class="comment">// this method can be used to perform key agreement as did:...fghi</span>
    "did:example:123456789abcdefghi#keys-1",
    <span class="comment">// this method is *only* approved for key agreement usage, it will not</span>
    <span class="comment">// be used for any other verification relationship, so its full description is</span>
    <span class="comment">// embedded here rather than using only a reference</span>
    {
      "id": "did:example:123#zC9ByQ8aJs8vrNXyDhPHHNNMSHPcaSgNpjjsBYpMMjsTdS",
      "type": "X25519KeyAgreementKey2019", <span class="comment">// external (property value)</span>
      "controller": "did:example:123",
      "publicKeyBase58": "9hFgmPVfmBZwRvFEyniQDBkz9LmV7gDEqytWyGZLmDXE"
    }
  ],
  <span class="comment">...</span>
}</pre>
      </div>
      </section>

      <section id="capability-invocation">
        <h4 id="x5-3-4-capability-invocation"><bdi class="secno">5.3.4 </bdi>Capability Invocation<a class="self-link" aria-label="§" href="#capability-invocation"></a></h4>

        <p>
The <code>capabilityInvocation</code> <a href="#dfn-verification-relationship" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-relationship-17">verification relationship</a> is used
to specify a <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-56">verification method</a> that might be used by the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-37">DID
subject</a> to invoke a cryptographic capability, such as the authorization to
update the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-91">DID Document</a>.
        </p>

        <dl>
          <dt><dfn id="dfn-capabilityinvocation">capabilityInvocation</dfn></dt>
          <dd>
The <code>capabilityInvocation</code> property is <em class="rfc2119">OPTIONAL</em>. If present, the
associated value <em class="rfc2119">MUST</em> be a <a href="https://infra.spec.whatwg.org/#ordered-set">set</a> of
one or more <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-57">verification methods</a>. Each <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-58">verification method</a> <em class="rfc2119">MAY</em> be
embedded or referenced.
          </dd>
        </dl>

        <p>
An example of when this property is useful is when a <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-38">DID subject</a> needs to
access a protected HTTP API that requires authorization in order to use it. In
order to authorize when using the HTTP API, the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-39">DID subject</a>
uses a capability that is associated with a particular URL that is
exposed via the HTTP API. The invocation of the capability could be
expressed in a number of ways, e.g., as a digitally signed
message that is placed into the HTTP Headers.
        </p>
        <p>
The server providing the HTTP API is the <em>verifier</em> of the capability and
it would need to verify that the <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-59">verification method</a> referred to by the
invoked capability exists in the <code><a href="#dfn-capabilityinvocation" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-capabilityinvocation-2">capabilityInvocation</a></code>
property of the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-92">DID document</a>. The verifier would also check to make sure
that the action being performed is valid and the capability is appropriate for
the resource being accessed. If the verification is successful, the server has
cryptographically determined that the invoker is authorized to access the
protected resource.
        </p>

        <div class="example" id="example-18-capability-invocation-property-containing-two-verification-methods">
        <div class="marker">
    <a class="self-link" href="#example-18-capability-invocation-property-containing-two-verification-methods">Example<bdi> 18</bdi></a><span class="example-title">: Capability invocation property
                      containing two verification methods</span>
  </div> <pre class="nohighlight">{
  "@context": "https://www.w3.org/ns/did/v1", "id":
  "did:example:123456789abcdefghi",
  <span class="comment">...</span>
  "capabilityInvocation": [
    <span class="comment">// this method can be used to invoke capabilities as did:...fghi</span>
    "did:example:123456789abcdefghi#keys-1",
    <span class="comment">// this method is *only* approved for capability invocation usage, it will not</span>
    <span class="comment">// be used for any other verification relationship, so its full description is</span>
    <span class="comment">// embedded here rather than using only a reference</span>
    {
    "id": "did:example:123456789abcdefghi#keys-2",
    "type": "Ed25519VerificationKey2018", <span class="comment">// external (property value)</span>
    "controller": "did:example:123456789abcdefghi",
    "publicKeyBase58": "H3C2AVvLMv6gmMNam3uVAjZpfkcJCwDwnZn6z3wXmqPV"
    }
  ],
  <span class="comment">...</span>
}</pre>
      </div>
      </section>

      <section id="capability-delegation">
        <h4 id="x5-3-5-capability-delegation"><bdi class="secno">5.3.5 </bdi>Capability Delegation<a class="self-link" aria-label="§" href="#capability-delegation"></a></h4>

        <p>
The <code>capabilityDelegation</code> <a href="#dfn-verification-relationship" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-relationship-18">verification relationship</a> is used
to specify a mechanism that might be used by the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-40">DID subject</a> to delegate
a cryptographic capability to another party, such as delegating the authority
to access a specific HTTP API to a subordinate.
        </p>

        <dl>
          <dt><dfn id="dfn-capabilitydelegation">capabilityDelegation</dfn></dt>
          <dd>
The <code>capabilityDelegation</code> property is <em class="rfc2119">OPTIONAL</em>. If present, the
associated value <em class="rfc2119">MUST</em> be a <a href="https://infra.spec.whatwg.org/#ordered-set">set</a> of
one or more <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-60">verification methods</a>. Each <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-61">verification method</a> <em class="rfc2119">MAY</em> be
embedded or referenced.
          </dd>
        </dl>

        <p>
An example of when this property is useful is when a <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-16">DID controller</a>
chooses to delegate their capability to access a protected HTTP API to a party
other than themselves. In order to delegate the capability, the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-41">DID
subject</a> would use a <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-62">verification method</a> associated with the
<code>capabilityDelegation</code> <a href="#dfn-verification-relationship" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-relationship-19">verification relationship</a> to
cryptographically sign the capability over to another <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-42">DID subject</a>. The
delegate would then use the capability in a manner that is similar to the
example described in <a href="#capability-invocation" class="sec-ref">§&nbsp;<bdi class="secno">5.3.4 </bdi>Capability Invocation</a>.
        </p>

        <div class="example" id="example-19-capability-delegation-property-containing-two-verification-methods">
        <div class="marker">
    <a class="self-link" href="#example-19-capability-delegation-property-containing-two-verification-methods">Example<bdi> 19</bdi></a><span class="example-title">: Capability Delegation property
                      containing two verification methods</span>
  </div> <pre class="nohighlight">{
  "@context": "https://www.w3.org/ns/did/v1", "id":
  "did:example:123456789abcdefghi",
  <span class="comment">...</span>
  "capabilityDelegation": [
    <span class="comment">// this method can be used to perform capability delegation as did:...fghi</span>
    "did:example:123456789abcdefghi#keys-1",
    <span class="comment">// this method is *only* approved for granting capabilities; it will not</span>
    <span class="comment">// be used for any other verification relationship, so its full description is</span>
    <span class="comment">// embedded here rather than using only a reference</span>
    {
    "id": "did:example:123456789abcdefghi#keys-2",
    "type": "Ed25519VerificationKey2018", <span class="comment">// external (property value)</span>
    "controller": "did:example:123456789abcdefghi",
    "publicKeyBase58": "H3C2AVvLMv6gmMNam3uVAjZpfkcJCwDwnZn6z3wXmqPV"
    }
  ],
  <span class="comment">...</span>
}</pre>
      </div>
      </section>
    </section>

    <section id="services">
      <h3 id="x5-4-services"><bdi class="secno">5.4 </bdi>Services<a class="self-link" aria-label="§" href="#services"></a></h3>

      <p>
<a href="#dfn-service" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-10">Services</a> are used in <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-93">DID documents</a> to express ways of
communicating with the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-43">DID subject</a> or associated entities. A
<a href="#dfn-service" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-11">service</a> can be any type of service the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-44">DID subject</a> wants to
advertise, including <a href="#dfn-decentralized-identity-management" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identity-management-1">decentralized identity management</a> services for
further discovery, authentication, authorization, or interaction.
      </p>

      <p>
Due to privacy concerns, revealing public information through <a href="#dfn-service" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-12">services</a>,
such as social media accounts, personal websites, and email addresses, is
discouraged. Further exploration of privacy concerns can be found in <a href="#keep-personal-data-private" class="sec-ref">§&nbsp;<bdi class="secno">10.1 </bdi>Keep Personal Data Private</a> and <a href="#service-privacy" class="sec-ref">§&nbsp;<bdi class="secno">10.6 </bdi>Service Privacy</a>. The
information associated with <a href="#dfn-service" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-13">services</a> is often service specific. For
example, the information associated with an encrypted messaging service can
express how to initiate the encrypted link before messaging begins.
      </p>

      <p>
<a href="#dfn-service" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-14">Services</a> are expressed using the <code><a href="#dfn-service" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-15">service</a></code> property,
which is described below:
      </p>

      <dl>
        <dt>service</dt>
        <dd>
          <p>
The <code>service</code> property is <em class="rfc2119">OPTIONAL</em>. If present, the associated value
<em class="rfc2119">MUST</em> be a <a href="https://infra.spec.whatwg.org/#ordered-set">set</a> of <a href="#dfn-service" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-16">services</a>,
where each service is described by a <a href="https://infra.spec.whatwg.org/#ordered-map">map</a>.
Each <a href="#dfn-service" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-17">service</a> <a href="https://infra.spec.whatwg.org/#ordered-map">map</a> <em class="rfc2119">MUST</em> contain
<code><a href="#dfn-id" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-id-6">id</a></code>, <code>type</code>, and
<code><a href="#dfn-serviceendpoint" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-serviceendpoint-2">serviceEndpoint</a></code> properties. Each service extension <em class="rfc2119">MAY</em>
include additional properties and <em class="rfc2119">MAY</em> further restrict the properties associated
with the extension.
          </p>
          <dl>
            <dt>id</dt>
            <dd>
The value of the <code>id</code> property <em class="rfc2119">MUST</em> be a <a href="#dfn-uri" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-uri-17">URI</a> conforming to
[<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>]. A <a href="#dfn-conforming-producer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-conforming-producer-1">conforming producer</a> <em class="rfc2119">MUST NOT</em> produce
multiple <code>service</code> entries with the same <code>id</code>.
A <a href="#dfn-conforming-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-conforming-consumer-1">conforming consumer</a> <em class="rfc2119">MUST</em> produce an error if it detects
multiple <code>service</code> entries with the same <code>id</code>.
            </dd>
          <dt>type</dt>
          <dd>
The value of the <code>type</code> property <em class="rfc2119">MUST</em> be a <a href="https://infra.spec.whatwg.org/#string">string</a> or a <a href="https://infra.spec.whatwg.org/#ordered-set">set</a> of <a href="https://infra.spec.whatwg.org/#string">strings</a>. In order to maximize interoperability,
the <a href="#dfn-service" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-18">service</a> type and its associated properties <em class="rfc2119">SHOULD</em> be
registered in the DID Specification Registries [<cite><a class="bibref" data-link-type="biblio" href="#bib-did-spec-registries" title="DID Specification Registries">DID-SPEC-REGISTRIES</a></cite>].
          </dd>
          <dt><dfn id="dfn-serviceendpoint">serviceEndpoint</dfn></dt>
          <dd>
The value of the <code>serviceEndpoint</code> property <em class="rfc2119">MUST</em> be a <a href="https://infra.spec.whatwg.org/#string">string</a>, a <a href="https://infra.spec.whatwg.org/#string">map</a>, or
a <a href="https://infra.spec.whatwg.org/#ordered-set">set</a> composed of one or more <a href="https://infra.spec.whatwg.org/#string">strings</a> and/or <a href="https://infra.spec.whatwg.org/#string">maps</a>. All <a href="https://infra.spec.whatwg.org/#string">string</a>
values <em class="rfc2119">MUST</em> be valid <a href="#dfn-uri" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-uri-18">URIs</a> conforming to [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>] and normalized
according to the <a href="https://tools.ietf.org/html/rfc3986#section-6">Normalization and Comparison
rules in RFC3986</a> and to any normalization rules in its applicable <a href="#dfn-uri" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-uri-19">URI</a>
scheme specification.
          </dd>
        </dl>
      </dd></dl>

      <p>
For more information regarding privacy and security considerations related
to <a href="#dfn-service" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-19">services</a> see <a href="#service-privacy" class="sec-ref">§&nbsp;<bdi class="secno">10.6 </bdi>Service Privacy</a>, <a href="#keep-personal-data-private" class="sec-ref">§&nbsp;<bdi class="secno">10.1 </bdi>Keep Personal Data Private</a>, <a href="#did-document-correlation-risks" class="sec-ref">§&nbsp;<bdi class="secno">10.3 </bdi>DID Document Correlation Risks</a>, and <a href="#authentication-service-endpoints" class="sec-ref">§&nbsp;<bdi class="secno">9.3 </bdi>Authentication Service Endpoints</a>.
      </p>

      <div class="example" id="example-20-usage-of-the-service-property">
        <div class="marker">
    <a class="self-link" href="#example-20-usage-of-the-service-property">Example<bdi> 20</bdi></a><span class="example-title">: Usage of the service property</span>
  </div> <pre class="nohighlight">{
  "service": [{
    "id":"did:example:123#linked-domain",
    "type": "LinkedDomains", <span class="comment">// external (property value)</span>
    "serviceEndpoint": "https://bar.example.com"
  }]
}</pre>
      </div>

    </section>

  </section>

  <section class="normative" id="representations">
    <h2 id="x6-representations"><bdi class="secno">6. </bdi>Representations<a class="self-link" aria-label="§" href="#representations"></a></h2>

    <p>
A concrete serialization of a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-94">DID document</a> in this specification is
called a <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-13">representation</a>. A <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-14">representation</a> is created by
serializing the <a href="#data-model">data model</a> through a process called
<dfn id="dfn-production">production</dfn>. A <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-15">representation</a> is transformed into the <a href="#data-model">data model</a> through a process called
<dfn id="dfn-consumption">consumption</dfn>. The <em>production</em> and <em>consumption</em>
processes enable the conversion of information from one <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-16">representation</a> to
another. This specification defines <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-17">representations</a> for JSON, JSON-LD,
and CBOR, and developers can use any other <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-18">representation</a>, such as XML or
YAML, that is capable of expressing the <a href="#data-model">data model</a>.
The following sections define the general rules for <a href="#dfn-production" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-production-1">production</a> and
<a href="#dfn-consumption" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumption-1">consumption</a>, as well as the JSON, JSON-LD, and CBOR
<a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-19">representations</a>.
    </p>

    <section id="production-and-consumption">
      <h3 id="x6-1-production-and-consumption"><bdi class="secno">6.1 </bdi>Production and Consumption<a class="self-link" aria-label="§" href="#production-and-consumption"></a></h3>

      <p>
In addition to the <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-20">representations</a> defined in this specification,
implementers can use other <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-21">representations</a>, providing each such
<a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-22">representation</a> is properly specified (including rules for
interoperable handling of properties not listed in the DID Specification
Registries [<cite><a class="bibref" data-link-type="biblio" href="#bib-did-spec-registries" title="DID Specification Registries">DID-SPEC-REGISTRIES</a></cite>]). See <a href="#extensibility" class="sec-ref">§&nbsp;<bdi class="secno">4.1 </bdi>Extensibility</a>
for more information.
      </p>
      <p>
The requirements for all <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-23">representations</a> are as follows:
      </p>
      <ol>
        <li>
A <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-24">representation</a> <em class="rfc2119">MUST</em> define deterministic production and consumption
rules for all data types specified in <a href="#data-model" class="sec-ref">§&nbsp;<bdi class="secno">4. </bdi>Data Model</a>.
        </li>
        <li>
A <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-25">representation</a> <em class="rfc2119">MUST</em> be uniquely associated with an IANA-registered
Media Type.
        </li>
        <li>
A <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-26">representation</a> <em class="rfc2119">MUST</em> define fragment processing rules for its Media
Type that are conformant with the fragment processing rules defined in
<a href="#fragment" class="sec-ref">§&nbsp;Fragment</a>.
        </li>
        <li>
A <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-27">representation</a> <em class="rfc2119">SHOULD</em> use the lexical representation of <a href="#data-model">data model</a> data types. For example, JSON and JSON-LD use
the XML Schema <code>dateTime</code> lexical serialization to represent
<a href="#dfn-datetime" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-datetime-1">datetimes</a>. A <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-28">representation</a> <em class="rfc2119">MAY</em> choose to serialize the <a href="#data-model">data model</a> data types using a different lexical
serializations as long as the <a href="#dfn-consumption" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumption-2">consumption</a> process back into the <a href="#data-model">data model</a> is lossless. For example, some CBOR-based
<a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-29">representations</a> express <a href="#dfn-datetime" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-datetime-2">datetime</a> values using integers to
represent the number of seconds since the Unix epoch.
        </li>
        <li>
A <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-30">representation</a> <em class="rfc2119">MAY</em> define representation-specific entries that are
stored in a representation-specific entries <a href="https://infra.spec.whatwg.org/#maps">map</a>
for use during the <a href="#dfn-production" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-production-2">production</a> and <a href="#dfn-consumption" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumption-3">consumption</a> process. These
entries are used when consuming or producing to aid in ensuring lossless
conversion.
        </li>
        <li>
In order to maximize interoperability, <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-31">representation</a> specification
authors <em class="rfc2119">SHOULD</em> register their <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-32">representation</a> in the DID Specification
Registries [<cite><a class="bibref" data-link-type="biblio" href="#bib-did-spec-registries" title="DID Specification Registries">DID-SPEC-REGISTRIES</a></cite>].
        </li>
      </ol>

      <p>
The requirements for all <a href="#dfn-conforming-producer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-conforming-producer-2">conforming producers</a> are as follows:
      </p>

      <ol>
        <li>
A <a href="#dfn-conforming-producer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-conforming-producer-3">conforming producer</a> <em class="rfc2119">MUST</em> take a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-95">DID document</a> <a href="#data-model">data model</a> and a representation-specific entries <a href="https://infra.spec.whatwg.org/#maps">map</a> as input into the <a href="#dfn-production" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-production-3">production</a> process.
The <a href="#dfn-conforming-producer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-conforming-producer-4">conforming producer</a> <em class="rfc2119">MAY</em> accept additional options as input
into the <a href="#dfn-production" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-production-4">production</a> process.
        </li>
        <li>
A <a href="#dfn-conforming-producer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-conforming-producer-5">conforming producer</a> <em class="rfc2119">MUST</em> serialize all entries in the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-96">DID
document</a> <a href="#data-model">data model</a>, and the
representation-specific entries <a href="https://infra.spec.whatwg.org/#maps">map</a>, that do not
have explicit processing rules for the <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-33">representation</a> being produced
using only the <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-34">representation</a>'s data type processing rules and
return the serialization after the <a href="#dfn-production" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-production-5">production</a> process completes.
        </li>
        <li>
A <a href="#dfn-conforming-producer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-conforming-producer-6">conforming producer</a> <em class="rfc2119">MUST</em> return the Media Type <a href="https://infra.spec.whatwg.org/#string">string</a> associated with the <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-35">representation</a>
after the <a href="#dfn-production" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-production-6">production</a> process completes.
        </li>
        <li>
A conforming producer <em class="rfc2119">MUST NOT</em> produce non-conforming <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-69">DIDs</a> or <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-97">DID
documents</a>.
        </li>
      </ol>

      <p>
The requirements for all <a href="#dfn-conforming-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-conforming-consumer-2">conforming consumers</a> are as follows:
      </p>

      <ol>
        <li>
A <a href="#dfn-conforming-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-conforming-consumer-3">conforming consumer</a> <em class="rfc2119">MUST</em> take a <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-36">representation</a> and
Media Type <a href="https://infra.spec.whatwg.org/#string">string</a> as input into
the <a href="#dfn-consumption" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumption-4">consumption</a> process. A <a href="#dfn-conforming-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-conforming-consumer-4">conforming consumer</a> <em class="rfc2119">MAY</em> accept
additional options as input into the <a href="#dfn-consumption" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumption-5">consumption</a> process.
        </li>
        <li>
A <a href="#dfn-conforming-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-conforming-consumer-5">conforming consumer</a> <em class="rfc2119">MUST</em> determine the <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-37">representation</a> of a
<a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-98">DID document</a> using the Media Type input <a href="https://infra.spec.whatwg.org/#string">string</a>.
        </li>
        <li>
A <a href="#dfn-conforming-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-conforming-consumer-6">conforming consumer</a> <em class="rfc2119">MUST</em> detect any representation-specific
entry across all known <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-38">representations</a> and place the entry into a
representation-specific entries <a href="https://infra.spec.whatwg.org/#maps">map</a> which is
returned after the <a href="#dfn-consumption" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumption-6">consumption</a> process completes. A list of
all known representation-specific entries is available in the
DID Specification Registries [<cite><a class="bibref" data-link-type="biblio" href="#bib-did-spec-registries" title="DID Specification Registries">DID-SPEC-REGISTRIES</a></cite>].
        </li>
        <li>
A <a href="#dfn-conforming-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-conforming-consumer-7">conforming consumer</a> <em class="rfc2119">MUST</em> add all non-representation-specific entries
that do not have explicit processing rules for the <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-39">representation</a> being
consumed to the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-99">DID document</a> <a href="#data-model">data model</a> using
only the <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-40">representation</a>'s data type processing rules and return the
<a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-100">DID document</a> data model after the <a href="#dfn-consumption" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumption-7">consumption</a> process completes.
        </li>
        <li>
A conforming consumer <em class="rfc2119">MUST</em> produce errors when consuming non-conforming
<a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-70">DIDs</a> or <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-101">DID documents</a>.
        </li>
      </ol>

      <figure id="production-consumption">
        <img style="margin: auto; display: block;" src="diagrams/diagram-production-consumption.png" alt="
Diagram illustrating how representations of the data model are produced
and consumed, including in JSON, JSON-LD, and CBOR." height="882" width="1418">
        <figcaption>Figure <bdi class="figno">4</bdi> <span class="fig-title">
Production and consumption of representations.
        </span></figcaption>
      </figure>

      <div class="note" role="note" id="issue-container-generatedID-11"><div role="heading" class="note-title marker" id="h-note-8" aria-level="4"><span>Note</span><span class="issue-label">: Conversion between representations</span></div><p class="">
An implementation is expected to convert between <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-41">representations</a> by using the
<em>consumption</em> rules on the source representation resulting in the <a href="#data-model">data model</a> and then using the <em>production</em> rules
to serialize <a href="#data-model">data model</a> to the target representation,
or any other mechanism that results in the same target representation.
      </p></div>

    </section>

    <section id="json">
      <h3 id="x6-2-json"><bdi class="secno">6.2 </bdi>JSON<a class="self-link" aria-label="§" href="#json"></a></h3>

      <p>
This section defines the <a href="#dfn-production" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-production-7">production</a> and <a href="#dfn-consumption" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumption-8">consumption</a> rules
for the JSON <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-42">representation</a>.
      </p>

      <section id="production">
        <h4 id="x6-2-1-production"><bdi class="secno">6.2.1 </bdi>Production<a class="self-link" aria-label="§" href="#production"></a></h4>

        <p>
The <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-102">DID document</a>, DID document data structures, and
representation-specific entries <a href="https://infra.spec.whatwg.org/#maps">map</a> <em class="rfc2119">MUST</em> be
serialized to the JSON <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-43">representation</a> according to the following
<a href="#dfn-production" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-production-8">production</a> rules:
        </p>

        <table class="simple" id="json-representation-production">
          <thead>
            <tr>
              <th>
Data&nbsp;Type
              </th>
              <th>
JSON Representation Type
              </th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td>
<a href="https://infra.spec.whatwg.org/#maps">map</a>
              </td>
              <td>
A <a href="https://tools.ietf.org/html/rfc8259#section-4">JSON Object</a>, where each entry is
serialized as a member of the JSON Object with the entry key as a <a href="https://tools.ietf.org/html/rfc8259#section-7">JSON String</a> member name and the entry value
according to its type, as defined in this table.
              </td>
            </tr>
            <tr>
              <td>
<a href="https://infra.spec.whatwg.org/#list">list</a>
              </td>
              <td>
A <a href="https://tools.ietf.org/html/rfc8259#section-5">JSON Array</a>, where each element of the
list is serialized, in order, as a value of the array according to its type, as
defined in this table.
              </td>
            </tr>
            <tr>
              <td>
<a href="https://infra.spec.whatwg.org/#ordered-set">set</a>
              </td>
              <td>
A <a href="https://tools.ietf.org/html/rfc8259#section-5">JSON Array</a>, where each element of the set
is added, in order, as a value of the array according to its type, as defined in
this table.
              </td>
            </tr>
            <tr>
              <td>
<a href="#dfn-datetime" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-datetime-3">datetime</a>
              </td>
              <td>
A <a href="https://tools.ietf.org/html/rfc8259#section-7">JSON String</a> serialized as an
<a href="https://www.w3.org/TR/xmlschema11-2/#dateTime">XML Datetime</a> normalized to
UTC 00:00:00 and without sub-second decimal precision. For example:
<code>2020-12-20T19:17:47Z</code>.
              </td>
            </tr>
            <tr>
              <td>
<a href="https://infra.spec.whatwg.org/#string">string</a>
              </td>
              <td>
A <a href="https://tools.ietf.org/html/rfc8259#section-7">JSON String</a>.
              </td>
            </tr>
            <tr>
              <td>
<a href="#dfn-integer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-integer-1">integer</a>
              </td>
              <td>
A <a href="https://tools.ietf.org/html/rfc8259#section-6">JSON Number</a> without a decimal or
fractional component.
              </td>
            </tr>
            <tr>
              <td>
<a href="#dfn-double" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-double-1">double</a>
              </td>
              <td>
A <a href="https://tools.ietf.org/html/rfc8259#section-6">JSON Number</a> with a decimal and
fractional component.
              </td>
            </tr>
            <tr>
              <td>
<a href="https://infra.spec.whatwg.org/#boolean">boolean</a>
              </td>
              <td>
A <a href="https://tools.ietf.org/html/rfc8259#section-3">JSON Boolean</a>.
              </td>
            </tr>
            <tr>
              <td>
<a href="https://infra.spec.whatwg.org/#nulls">null</a>
              </td>
              <td>
A <a href="https://tools.ietf.org/html/rfc8259#section-3">JSON null literal</a>.
              </td>
            </tr>
          </tbody>
        </table>

        <p class="advisement" title="INFRA JSON serialization rules">
All implementers creating <a href="#dfn-conforming-producer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-conforming-producer-7">conforming producers</a> that produce JSON
<a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-44">representations</a> are advised to ensure that their algorithms are aligned
with the <a href="https://infra.spec.whatwg.org/#serialize-an-infra-value-to-json-bytes">JSON
serialization rules</a> in the [<cite><a class="bibref" data-link-type="biblio" href="#bib-infra" title="Infra Standard">INFRA</a></cite>] specification and the <a href="https://tools.ietf.org/html/rfc8259#section-6">precision advisements regarding Numbers</a> in the
JSON [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8259" title="The JavaScript Object Notation (JSON) Data Interchange Format">RFC8259</a></cite>] specification.
        </p>

        <p>
All entries of a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-103">DID document</a> <em class="rfc2119">MUST</em> be included in the root <a href="https://tools.ietf.org/html/rfc8259#section-4">JSON Object</a>. Entries <em class="rfc2119">MAY</em> contain additional
data substructures subject to the value representation rules in the list above.
When serializing a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-104">DID document</a>, a <a href="#dfn-conforming-producer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-conforming-producer-8">conforming producer</a> <em class="rfc2119">MUST</em>
specify a media type of <code>application/did+json</code> to downstream
applications such as described in <a href="#did-resolution-metadata" class="sec-ref">§&nbsp;<bdi class="secno">7.1.2 </bdi>DID Resolution Metadata</a>.
        </p>

      <div class="example" id="example-21-example-did-document-in-json-representation">
        <div class="marker">
    <a class="self-link" href="#example-21-example-did-document-in-json-representation">Example<bdi> 21</bdi></a><span class="example-title">: Example DID document in JSON representation</span>
  </div> <pre class="nohighlight">{
	"id": "did:example:123456789abcdefghi",
	"authentication": [{
		"id": "did:example:123456789abcdefghi#keys-1",
		"type": "Ed25519VerificationKey2018",
		"controller": "did:example:123456789abcdefghi",
		"publicKeyBase58": "H3C2AVvLMv6gmMNam3uVAjZpfkcJCwDwnZn6z3wXmqPV"
	}]
}</pre>
      </div>

      </section>

      <section id="consumption">
        <h4 id="x6-2-2-consumption"><bdi class="secno">6.2.2 </bdi>Consumption<a class="self-link" aria-label="§" href="#consumption"></a></h4>

        <p>
The <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-105">DID document</a> and DID document data structures JSON
<a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-45">representation</a> <em class="rfc2119">MUST</em> be deserialized into the <a href="#data-model">data
model</a> according to the following <a href="#dfn-consumption" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumption-9">consumption</a> rules:
        </p>

        <table class="simple column-width-50" id="json-representation-consumption">
          <thead>
            <tr>
              <th>
JSON Representation Type
              </th>
              <th>
Data&nbsp;Type
              </th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td>
<a href="https://tools.ietf.org/html/rfc8259#section-4">JSON Object</a>
              </td>
              <td>
A <a href="https://infra.spec.whatwg.org/#maps">map</a>, where each member of the JSON
Object is added as an entry to the map. Each entry key is set as the
JSON Object member name. Each entry value is set by converting the JSON Object
member value according to the JSON representation type as defined in this table.
Since order is not specified by JSON Objects, no insertion order is guaranteed.
              </td>
            </tr>
            <tr>
              <td>
<a href="https://tools.ietf.org/html/rfc8259#section-5">JSON Array</a> where the <a href="#data-model">data model</a> entry value is a <a href="https://infra.spec.whatwg.org/#list">list</a> or unknown
              </td>
              <td>
A <a href="https://infra.spec.whatwg.org/#list">list</a>, where each value of the JSON Array is
added to the list in order, converted based on the JSON representation type of
the array value, as defined in this table.
              </td>
            </tr>
            <tr>
              <td>
<a href="https://tools.ietf.org/html/rfc8259#section-5">JSON Array</a> where the <a href="#data-model">data model</a> entry value is a <a href="https://infra.spec.whatwg.org/#ordered-set">set</a>
              </td>
              <td>
A <a href="https://infra.spec.whatwg.org/#ordered-set">set</a>, where each value of
the JSON Array is added to the set in order, converted based on the JSON
representation type of the array value, as defined in this table.
              </td>
            </tr>
            <tr>
              <td>
<a href="https://tools.ietf.org/html/rfc8259#section-7">JSON String</a> where <a href="#data-model">data model</a> entry value is a <a href="#dfn-datetime" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-datetime-4">datetime</a>
              </td>
              <td>
A <a href="#dfn-datetime" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-datetime-5">datetime</a>.
              </td>
            </tr>
            <tr>
              <td>
<a href="https://tools.ietf.org/html/rfc8259#section-7">JSON String</a>, where the <a href="#data-model">data model</a> entry value type is <a data-type="dfn" href="https://infra.spec.whatwg.org/#string">string</a> or
unknown
              </td>
              <td>
A <a href="https://infra.spec.whatwg.org/#string">string</a>.
              </td>
            </tr>
            <tr>
              <td>
<a href="https://tools.ietf.org/html/rfc8259#section-6">JSON Number</a> without a decimal or
fractional component
              </td>
              <td>
An <a href="#dfn-integer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-integer-2">integer</a>.
              </td>
            </tr>
            <tr>
              <td>
<a href="https://tools.ietf.org/html/rfc8259#section-6">JSON Number</a> with a decimal and fractional
component, or when entry value is a <a href="#dfn-double" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-double-2">double</a> regardless of inclusion of
fractional component
              </td>
              <td>
A <a href="#dfn-double" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-double-3">double</a>.
              </td>
            </tr>
            <tr>
              <td>
<a href="https://tools.ietf.org/html/rfc8259#section-3">JSON Boolean</a>
              </td>
              <td>
A <a href="https://infra.spec.whatwg.org/#boolean">boolean</a>.
              </td>
            </tr>
            <tr>
              <td>
<a href="https://tools.ietf.org/html/rfc8259#section-3">JSON null literal</a>
              </td>
              <td>
A <a href="https://infra.spec.whatwg.org/#nulls">null</a> value.
              </td>
            </tr>
          </tbody>
        </table>

        <p class="advisement">
All implementers creating <a href="#dfn-conforming-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-conforming-consumer-8">conforming consumers</a> that produce JSON
<a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-46">representations</a> are advised to ensure that their algorithms are aligned
with the  <a href="https://infra.spec.whatwg.org/#parse-json-bytes-to-an-infra-value">JSON
conversion rules</a> in the [<cite><a class="bibref" data-link-type="biblio" href="#bib-infra" title="Infra Standard">INFRA</a></cite>] specification and the <a href="https://tools.ietf.org/html/rfc8259#section-6">precision advisements regarding Numbers</a> in the
JSON [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8259" title="The JavaScript Object Notation (JSON) Data Interchange Format">RFC8259</a></cite>] specification.
        </p>

        <p>
If media type information is available to a <a href="#dfn-conforming-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-conforming-consumer-9">conforming consumer</a> and the
media type value is <code>application/did+json</code>, then the data structure
being consumed is a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-106">DID document</a>, and the root element <em class="rfc2119">MUST</em> be a <a href="https://tools.ietf.org/html/rfc8259#section-4">JSON Object</a> where all members of the object
are entries of the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-107">DID document</a>. A <a href="#dfn-conforming-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-conforming-consumer-10">conforming consumer</a> for a JSON
<a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-47">representation</a> that is consuming a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-108">DID document</a> with a root
element that is not a <a href="https://tools.ietf.org/html/rfc8259#section-4">JSON Object</a> <em class="rfc2119">MUST</em>
report an error.
        </p>

      </section>
    </section>

    <section id="json-ld">
      <h3 id="x6-3-json-ld"><bdi class="secno">6.3 </bdi>JSON-LD<a class="self-link" aria-label="§" href="#json-ld"></a></h3>

      <p>
JSON-LD [<cite><a class="bibref" data-link-type="biblio" href="#bib-json-ld11" title="JSON-LD 1.1">JSON-LD11</a></cite>] is a JSON-based format used to serialize <a href="https://www.w3.org/TR/ld-glossary/#linked-data">Linked Data</a>. This
section defines the <a href="#dfn-production" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-production-9">production</a> and <a href="#dfn-consumption" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumption-10">consumption</a> rules for the
JSON-LD <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-48">representation</a>.
      </p>

      <p>
The JSON-LD <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-49">representation</a> defines the following representation-specific
entries:
      </p>

      <dl>
        <dt><dfn id="dfn-context">@context</dfn></dt>
        <dd>
The <a href="https://www.w3.org/TR/json-ld11/#the-context">JSON-LD Context</a>
is either a <a href="https://infra.spec.whatwg.org/#string">string</a> or a <a href="https://infra.spec.whatwg.org/#list">list</a> containing any combination of <a href="https://infra.spec.whatwg.org/#string">strings</a> and/or <a href="https://infra.spec.whatwg.org/#maps">ordered
maps</a>.
        </dd>
      </dl>

      <section id="production-0">
        <h4 id="x6-3-1-production"><bdi class="secno">6.3.1 </bdi>Production<a class="self-link" aria-label="§" href="#production-0"></a></h4>

        <p>
The <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-109">DID document</a>, DID document data structures, and
representation-specific entries <a href="https://infra.spec.whatwg.org/#maps">map</a> <em class="rfc2119">MUST</em>
be serialized to the JSON-LD <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-50">representation</a> according to the JSON
<a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-51">representation</a> <a href="#dfn-production" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-production-10">production</a> rules as defined in <a href="#json" class="sec-ref">§&nbsp;<bdi class="secno">6.2 </bdi>JSON</a>.
        </p>

        <p>
In addition to using the JSON <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-52">representation</a> <a href="#dfn-production" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-production-11">production</a> rules,
JSON-LD production <em class="rfc2119">MUST</em> include the representation-specific
<a href="#dfn-context" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-context-1"><code>@context</code></a> entry. The serialized value of
<code>@context</code> <em class="rfc2119">MUST</em> be the <a href="https://tools.ietf.org/html/rfc8259#section-7">JSON
String</a> <code>https://www.w3.org/ns/did/v1</code>, or a <a href="https://tools.ietf.org/html/rfc8259#section-5">JSON Array</a> where the first item is the <a href="https://tools.ietf.org/html/rfc8259#section-7">JSON String</a>
<code>https://www.w3.org/ns/did/v1</code> and the subsequent items are
serialized according to the JSON <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-53">representation</a> <a href="#dfn-production" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-production-12">production</a>
rules.
        </p>

        <div class="example" id="example-22-a-valid-serialization-of-a-simple-context-entry">
        <div class="marker">
    <a class="self-link" href="#example-22-a-valid-serialization-of-a-simple-context-entry">Example<bdi> 22</bdi></a><span class="example-title">: A valid serialization of a simple @context entry</span>
  </div> <pre aria-busy="false"><code class="hljs javascript">{
  <span class="hljs-string">"@context"</span>: <span class="hljs-string">"https://www.w3.org/ns/did/v1"</span>,
  ...
}</code></pre>
      </div>
        <div class="example" id="example-23-a-valid-serialization-of-a-layered-context-entry">
        <div class="marker">
    <a class="self-link" href="#example-23-a-valid-serialization-of-a-layered-context-entry">Example<bdi> 23</bdi></a><span class="example-title">: A valid serialization of a layered @context entry</span>
  </div> <pre aria-busy="false"><code class="hljs javascript">{
  <span class="hljs-string">"@context"</span>: [
    <span class="hljs-string">"https://www.w3.org/ns/did/v1"</span>,
    <span class="hljs-string">"https://did-method-extension.example/v1"</span>
  ],
  ...
}</code></pre>
      </div>

        <p class="advisement" title="JSON-LD serialization rules">
All implementers creating <a href="#dfn-conforming-producer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-conforming-producer-9">conforming producers</a> that produce JSON-LD
<a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-54">representations</a> are advised to ensure that their algorithms
produce valid JSON-LD [<cite><a class="bibref" data-link-type="biblio" href="#bib-json-ld11" title="JSON-LD 1.1">JSON-LD11</a></cite>] documents. Invalid JSON-LD documents will
cause JSON-LD processors to halt and report errors.
        </p>

        <p>
In order to achieve interoperability across different <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-55">representations</a>,
all JSON-LD Contexts and their terms <em class="rfc2119">SHOULD</em> be registered in the DID
Specification Registries [<cite><a class="bibref" data-link-type="biblio" href="#bib-did-spec-registries" title="DID Specification Registries">DID-SPEC-REGISTRIES</a></cite>].
        </p>

        <p>
A <a href="#dfn-conforming-producer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-conforming-producer-10">conforming producer</a> that generates a JSON-LD <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-56">representation</a>
<em class="rfc2119">SHOULD NOT</em> produce a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-110">DID document</a> that contains terms not defined
via the <code>@context</code> as <a href="#dfn-conforming-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-conforming-consumer-11">conforming consumers</a> are expected
to remove unknown terms. When serializing a JSON-LD <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-57">representation</a> of a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-111">DID
document</a>, a <a href="#dfn-conforming-producer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-conforming-producer-11">conforming producer</a> <em class="rfc2119">MUST</em> specify a media type of
<code>application/did+ld+json</code> to downstream applications such as
described in <a href="#did-resolution-metadata" class="sec-ref">§&nbsp;<bdi class="secno">7.1.2 </bdi>DID Resolution Metadata</a>.
        </p>

        <div class="issue atrisk" id="issue-container-generatedID-12"><div role="heading" class="issue-title marker" id="h-issue-2" aria-level="5"><span>(Feature at Risk) Issue</span><span class="issue-label">: IETF did+ld+json media type registration</span></div><p class="atrisk">
Use of the media type <code>application/did+ld+json</code> is pending
clarification over the registration of
<a href="https://datatracker.ietf.org/doc/html/draft-w3cdidwg-media-types-with-multiple-suffixes">
media types with multiple suffixes</a>. The alternative will be to use
<code>application/ld+json</code> with an expected profile parameter of
<code>https://www.w3.org/ns/did/json-ld-profile</code> if multiple suffixes
cannot be registered by the time the rest of DID Core is ready for <abbr title="World Wide Web Consortium">W3C</abbr>
Proposed Recommendation. See also <a href="https://github.com/w3c/did-core/issues/208">
Issue 208</a>.
        </p></div>

      </section>

      <section id="consumption-0">
        <h4 id="x6-3-2-consumption"><bdi class="secno">6.3.2 </bdi>Consumption<a class="self-link" aria-label="§" href="#consumption-0"></a></h4>

        <p>
The <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-112">DID document</a> and any DID document data structures expressed by a
JSON-LD <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-58">representation</a> <em class="rfc2119">MUST</em> be deserialized into the <a href="#data-model">data model</a> according to the JSON <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-59">representation</a>
<a href="#dfn-consumption" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumption-11">consumption</a> rules as defined in <a href="#json" class="sec-ref">§&nbsp;<bdi class="secno">6.2 </bdi>JSON</a>.
        </p>

        <p class="advisement" title="JSON-LD serialization rules">
All implementers creating <a href="#dfn-conforming-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-conforming-consumer-12">conforming consumers</a> that consume JSON-LD
<a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-60">representations</a> are advised to ensure that their algorithms only accept
valid JSON-LD [<cite><a class="bibref" data-link-type="biblio" href="#bib-json-ld11" title="JSON-LD 1.1">JSON-LD11</a></cite>] documents. Invalid JSON-LD documents will cause
JSON-LD processors to halt and report errors.
        </p>

        <p>
<a href="#dfn-conforming-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-conforming-consumer-13">Conforming consumers</a> that process a JSON-LD <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-61">representation</a> <em class="rfc2119">SHOULD</em>
drop all terms from a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-113">DID document</a> that are not defined via the
<code>@context</code>.
        </p>

      </section>

    </section>

    <section id="cbor">
      <h3 id="x6-4-cbor"><bdi class="secno">6.4 </bdi>CBOR<a class="self-link" aria-label="§" href="#cbor"></a></h3>

      <p>
This section defines the <a href="#dfn-production" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-production-13">production</a> and <a href="#dfn-consumption" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumption-12">consumption</a> rules
for the CBOR <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-62">representation</a>.
      </p>

      <div class="issue atrisk" id="issue-container-generatedID-13"><div role="heading" class="issue-title marker" id="h-issue-3" aria-level="4"><span>(Feature at Risk) Issue</span></div><p class="atrisk">
The Working Group is seeking volunteers to write tests for, and at least two
independent and interoperable implementations of, the CBOR representation
during the Candidate Recommendation phase. If these goals are not met, this
section will be removed from this specification.
      </p></div>

      <section id="production-1">
        <h4 id="x6-4-1-production"><bdi class="secno">6.4.1 </bdi>Production<a class="self-link" aria-label="§" href="#production-1"></a></h4>

        <p>
The <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-114">DID document</a>, DID document data structures, and
representation-specific entries <a href="https://infra.spec.whatwg.org/#maps">map</a> <em class="rfc2119">MUST</em> be
serialized to the CBOR <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-63">representation</a> according to the following
<a href="#dfn-production" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-production-14">production</a> rules:
        </p>

        <table class="simple" id="cbor-representation-production">
          <thead>
            <tr>
              <th>
Data&nbsp;Type
              </th>
              <th>
CBOR Representation Type
              </th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td>
<a href="https://infra.spec.whatwg.org/#maps">map</a>
              </td>
              <td>
A <a href="https://tools.ietf.org/html/rfc8949#section-3.1">CBOR map</a> (major type 5), where each
entry is represented as a member of the CBOR map. The entry key is expressed
as a <a href="https://tools.ietf.org/html/rfc8949#section-3.1">CBOR string</a> (major type 3) as the
key, and the entry value according to its type, as defined in this table.
              </td>
            </tr>
            <tr>
              <td>
<a href="https://infra.spec.whatwg.org/#list">list</a>
              </td>
              <td>
A <a href="https://tools.ietf.org/html/rfc8949#section-3.1">CBOR array</a> (major type 4), where each
element of the list is added, in order, as a value of the array according to its
type, as defined in this table.
              </td>
            </tr>
            <tr>
              <td>
<a href="https://infra.spec.whatwg.org/#ordered-set">set</a>
              </td>
              <td>
A <a href="https://tools.ietf.org/html/rfc8949#section-3.1">CBOR array</a> (major type 4), where each
element of the list is added, in order, as a value of the array according to its
type, as defined in this table.
              </td>
            </tr>
            <tr>
              <td>
<a href="#dfn-datetime" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-datetime-6">datetime</a>
              </td>
              <td>
A <a href="https://tools.ietf.org/html/rfc8949#section-3.1">CBOR string</a> (major type 3) formatted as
an <a href="https://www.w3.org/TR/xmlschema11-2/#dateTime">XML Datetime</a> normalized to
UTC 00:00 and without sub-second decimal precision. For example:
<code>2020-12-20T19:17:47Z</code>.
              </td>
            </tr>
            <tr>
              <td>
<a href="https://infra.spec.whatwg.org/#string">string</a>
              </td>
              <td>
A <a href="https://tools.ietf.org/html/rfc8949#section-3.1">CBOR string</a> (major type 3).
              </td>
            </tr>
            <tr>
              <td>
<a href="#dfn-integer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-integer-3">integer</a>
              </td>
              <td>
A <a href="https://tools.ietf.org/html/rfc8949#section-3.1">CBOR integer</a> (major type 0 or 1),
choosing the shortest byte representation.
              </td>
            </tr>
            <tr>
              <td>
<a href="#dfn-double" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-double-4">double</a>
              </td>
              <td>
A <a href="https://tools.ietf.org/html/rfc8949#section-3.1">CBOR floating-point number</a> (major type
7). All floating point values <em class="rfc2119">MUST</em> be encoded as 64-bits (additional type
value 27), even for integral values.
              </td>
            </tr>
            <tr>
              <td>
<a href="https://infra.spec.whatwg.org/#boolean">boolean</a>
              </td>
              <td>
A <a href="https://tools.ietf.org/html/rfc8949#section-3.3">CBOR simple value</a> (major type 7,
subtype 24) with a simple value of 21 (true) or 20 (false).
              </td>
            </tr>
            <tr>
              <td>
<a href="https://infra.spec.whatwg.org/#nulls">null</a>
              </td>
              <td>
A <a href="https://tools.ietf.org/html/rfc8949#section-3.3">CBOR simple value</a> (major type 7,
subtype 24) with a simple value of 22 (null).
              </td>
            </tr>
          </tbody>
        </table>

        <p>
In addition to the data type production rules above, the following rules apply
for <a href="#dfn-conforming-producer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-conforming-producer-12">conforming producers</a> that serialize CBOR <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-64">representations</a>:
        </p>
        <ol>
          <li>
Indefinite-length items are not allowed and <em class="rfc2119">MUST</em> be made a <a href="https://tools.ietf.org/html/rfc8949#section-3.2.2">CBOR definite length.</a>
          </li>
          <li>
All CBOR tags <em class="rfc2119">MUST</em> be retained regardless of whether they are optional.
          </li>
          <li>
All four <a href="https://tools.ietf.org/html/rfc8949#section-4.2.1">Canonical CBOR rules</a>
listed in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8949" title="Concise Binary Object Representation (CBOR)">RFC8949</a></cite>] <em class="rfc2119">MUST</em> be applied to all relevant data types.
          </li>
        </ol>

        <p>
All entries of a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-115">DID document</a> <em class="rfc2119">MUST</em> be included in the root <a href="https://tools.ietf.org/html/rfc8949#section-3.1">CBOR map</a> (major type 5). Entries <em class="rfc2119">MAY</em> contain
additional data substructures subject to the value representation rules in the
list above. When serializing a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-116">DID document</a> to its CBOR
<a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-65">representation</a>, a <a href="#dfn-conforming-producer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-conforming-producer-13">conforming producer</a> <em class="rfc2119">MUST</em> specify a media type of
<code>application/did+cbor</code> to downstream applications such as described
in <a href="#did-resolution-metadata" class="sec-ref">§&nbsp;<bdi class="secno">7.1.2 </bdi>DID Resolution Metadata</a>.
        </p>

        <p>
The following examples express the CBOR <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-66">representation</a> of a
<a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-117">DID document</a> in hexidecimal notation, and in CBOR diagnostic notation:
        </p>

      <div class="example" id="example-24-did-document-encoded-as-cbor-hexadecimal">
        <div class="marker">
    <a class="self-link" href="#example-24-did-document-encoded-as-cbor-hexadecimal">Example<bdi> 24</bdi></a><span class="example-title">: DID Document encoded as CBOR (hexadecimal)</span>
  </div> <pre class="nohighlight">A2626964781E6469643A6578616D706C653A313233343536373839616263
6465666768696E61757468656E7469636174696F6E81A462696478256469
643A6578616D706C653A313233343536373839616263646566676869236B
6579732D316474797065781A45643235353139566572696669636174696F
6E4B6579323031386A636F6E74726F6C6C6572781E6469643A6578616D70
6C653A3132333435363738396162636465666768696F7075626C69634B65
79426173653538782C483343324156764C4D7636676D4D4E616D33755641
6A5A70666B634A437744776E5A6E367A3377586D715056</pre>
      </div>

      <div class="example" id="example-25-did-document-encoded-as-cbor-diagnostic-notation">
        <div class="marker">
    <a class="self-link" href="#example-25-did-document-encoded-as-cbor-diagnostic-notation">Example<bdi> 25</bdi></a><span class="example-title">: DID Document encoded as CBOR (diagnostic notation)</span>
  </div> <pre style="font-size: 50%" class="nohighlight">A2                                   # map(2)
62                                   # text(2)
   6964                              # "id"
78 1E                                # text(30)
   6469643A6578616D706C653A313233343536373839616263646566676869 # "did:example:123456789abcdefghi"
6E                                   # text(14)
   61757468656E7469636174696F6E      # "authentication"
81                                   # array(1)
   A4                                # map(4)
      62                             # text(2)
         6964                        # "id"
      78 25                          # text(37)
         6469643A6578616D706C653A313233343536373839616263646566676869236B6579732D31 # "did:example:123456789abcdefghi#keys-1"
      64                             # text(4)
         74797065                    # "type"
      78 1A                          # text(26)
         45643235353139566572696669636174696F6E4B657932303138 # "Ed25519VerificationKey2018"
      6A                             # text(10)
         636F6E74726F6C6C6572        # "controller"
      78 1E                          # text(30)
         6469643A6578616D706C653A313233343536373839616263646566676869 # "did:example:123456789abcdefghi"
      6F                             # text(15)
         7075626C69634B6579426173653538 # "publicKeyBase58"
      78 2C                          # text(44)
         483343324156764C4D7636676D4D4E616D337556416A5A70666B634A437744776E5A6E367A3377586D715056 # "H3C2AVvLMv6gmMNam3uVAjZpfkcJCwDwnZn6z3wXmqPV"</pre>
      </div>

      </section>

      <section id="consumption-1">
        <h4 id="x6-4-2-consumption"><bdi class="secno">6.4.2 </bdi>Consumption<a class="self-link" aria-label="§" href="#consumption-1"></a></h4>

        <p>
The <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-118">DID document</a> and any DID document data structures expressed by the <a href="#data-model">data model</a> <em class="rfc2119">MUST</em> be deserialized into the <a href="#data-model">data model</a> according to the following <a href="#dfn-consumption" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumption-13">consumption</a>
rules:
        </p>

        <table class="simple column-width-50" id="cbor-representation-consumption">
          <thead>
            <tr>
              <th>
CBOR Representation Type
              </th>
              <th>
Data&nbsp;Type
              </th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td>
<a href="https://tools.ietf.org/html/rfc8949#section-3.1">CBOR map</a> (major type 5)
              </td>
              <td>
A <a href="https://infra.spec.whatwg.org/#maps">map</a>, where each data item of the
CBOR map is added as an entry to the map with the entry key being the
data item name and the value converted based on the CBOR type and, if available,
entry definition, as defined here; as no order can be enforced for general CBOR
maps, no insertion order is guaranteed.
              </td>
            </tr>
            <tr>
              <td>
<a href="https://tools.ietf.org/html/rfc8949#section-3.1">CBOR array</a> (major type 4), where the <a href="#data-model">data model</a> entry value is a <a href="https://infra.spec.whatwg.org/#list">list</a> or unknown
              </td>
              <td>
A <a href="https://infra.spec.whatwg.org/#list">list</a>, where each value of the <a href="https://tools.ietf.org/html/rfc8949#section-3.1">CBOR array</a> is added to the list in order,
converted based on the CBOR type of the array value, as defined in this table.
              </td>
            </tr>
            <tr>
              <td>
<a href="https://tools.ietf.org/html/rfc8949#section-3.1">CBOR array</a> (major type 4), where the <a href="#data-model">data model</a> entry value is a <a href="https://infra.spec.whatwg.org/#ordered-set">set</a>
              </td>
              <td>
A <a href="https://infra.spec.whatwg.org/#ordered-set">set</a>, where each value of
the <a href="https://tools.ietf.org/html/rfc8949#section-3.1">CBOR array</a> is added to the
set in order, converted based on the CBOR type of the array value as defined in
this table.
              </td>
            </tr>
            <tr>
              <td>
<a href="https://tools.ietf.org/html/rfc8949#section-3.1">CBOR string</a> (major type 3) where the
<a href="#data-model">data model</a> entry value is a <a href="#dfn-datetime" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-datetime-7">datetime</a>
              </td>
              <td>
A <a href="#dfn-datetime" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-datetime-8">datetime</a>.
              </td>
            </tr>
            <tr>
              <td>
<a href="https://tools.ietf.org/html/rfc8949#section-3.1">CBOR string</a> (major type 3), where the <a href="#data-model">data model</a> entry value type is <a data-type="dfn" href="https://infra.spec.whatwg.org/#string">string</a> or
unknown
              </td>
              <td>
A <a href="https://infra.spec.whatwg.org/#string">string</a>.
              </td>
            </tr>
            <tr>
              <td>
<a href="https://tools.ietf.org/html/rfc8949#section-3.1">CBOR integer</a> (major type 0 or 1),
choosing the shortest byte representation
              </td>
              <td>
An <a href="#dfn-integer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-integer-4">integer</a>.
              </td>
            </tr>
            <tr>
              <td>
<a href="https://tools.ietf.org/html/rfc8949#section-3.1">CBOR floating-point number</a> (major type
7)
              </td>
              <td>
A <a href="#dfn-double" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-double-5">double</a>.
              </td>
            </tr>
            <tr>
              <td>
<a href="https://tools.ietf.org/html/rfc8949#section-3.3">CBOR simple value</a> (major type 7,
subtype 24) with a simple value of 21 (True) or 20 (False)
              </td>
              <td>
A <a href="https://infra.spec.whatwg.org/#boolean">boolean</a>.
              </td>
            </tr>
            <tr>
              <td>
<a href="https://tools.ietf.org/html/rfc8949#section-3.3">CBOR simple value</a> (major type 7,
subtype 24) with a simple value of 22 (Null)
              </td>
              <td>
A <a href="https://infra.spec.whatwg.org/#nulls">null</a> value.
              </td>
            </tr>
          </tbody>
        </table>

        <p>
In addition to the data type consumption rules above, the following rules apply
for <a href="#dfn-conforming-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-conforming-consumer-14">conforming consumers</a> that deserialize CBOR <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-67">representations</a>:
        </p>

        <ol>
          <li>
<a href="https://tools.ietf.org/html/rfc8949#section-3.2.2">CBOR
indefinite-length items</a> are not allowed and <em class="rfc2119">MUST</em> produce an error.
          </li>
          <li>
A duplicate key in the same CBOR map <em class="rfc2119">MUST</em> produce an error.
          </li>
          <li>
All CBOR tags <em class="rfc2119">MUST</em> be retained for CBOR <a href="#dfn-production" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-production-15">production</a> regardless of whether
they are optional.
          </li>
        </ol>

        <p>
If media type information is available to a <a href="#dfn-conforming-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-conforming-consumer-15">conforming consumer</a> and the
media type value is <code>application/did+cbor</code>, then the data structure
being consumed is a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-119">DID document</a>, and the root element <em class="rfc2119">MUST</em> be a <a href="https://tools.ietf.org/html/rfc8949#section-3.1">CBOR map</a> (major type 5) where all members of
the object are entries of the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-120">DID document</a>. A <a href="#dfn-conforming-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-conforming-consumer-16">conforming consumer</a>
for a CBOR <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-68">representation</a> that is consuming a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-121">DID document</a> with a
root element that is not a <a href="https://tools.ietf.org/html/rfc8949#section-3.1">CBOR map</a>
(major type 5) <em class="rfc2119">MUST</em> report an error.
        </p>


      </section>
    </section>
  </section>

  <section class="normative" id="resolution">
    <h2 id="x7-resolution"><bdi class="secno">7. </bdi>Resolution<a class="self-link" aria-label="§" href="#resolution"></a></h2>

    <div class="issue atrisk" id="issue-container-generatedID-14"><div role="heading" class="issue-title marker" id="h-issue-4" aria-level="3"><span>(Feature at Risk) Issue</span><span class="issue-label">: Concerns regarding testability of DID Resolution and Dereferencing</span></div><p class="atrisk">
The Working Group is unsure if there will be enough implementation experience
for the DID Resolution section. We are seeking feedback from the implementation
community as to whether they prefer to do all of this work now, or if they would
prefer that this section is, or parts of the section are, rewritten to be
non-normative, or published as a NOTE and taken up in a future <abbr title="World Wide Web Consortium">W3C</abbr> DID
Resolution Working Group. If there is support for rewriting a subset of the DID
Resolution section, or publishing any part of it as a NOTE during the <abbr title="World Wide Web Consortium">W3C</abbr>
Candidate Recommendation process, this section will be modified and/or published
as a NOTE appropriately before the DID Core specification proceeds to the <abbr title="World Wide Web Consortium">W3C</abbr>
Proposed Recommendation stage. See also <a href="https://github.com/w3c/did-core/issues/549"> Issue 549</a>.
    </p></div>

    <p>
This section defines the inputs and outputs of <a href="#dfn-did-resolution" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolution-7">DID resolution</a> and <a href="#dfn-did-url-dereferencing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-url-dereferencing-5">DID
URL dereferencing</a>. Their exact implementation is out of scope for this
specification, but some considerations for implementers are discussed in
[<cite><a class="bibref" data-link-type="biblio" href="#bib-did-resolution" title="Decentralized Identifier Resolution">DID-RESOLUTION</a></cite>].
    </p>

    <p>
All conformant <a href="#dfn-did-resolvers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolvers-7">DID resolvers</a> <em class="rfc2119">MUST</em> implement the <a href="#dfn-did-resolution" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolution-8">DID resolution</a>
functions for at least one <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-33">DID method</a> and <em class="rfc2119">MUST</em> be able to return a
<a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-122">DID document</a> in at least one conformant <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-69">representation</a>.
    </p>

    <section data-dfn-for="Resolver" id="did-resolution">
      <h3 id="x7-1-did-resolution"><bdi class="secno">7.1 </bdi>DID Resolution<a class="self-link" aria-label="§" href="#did-resolution"></a></h3>
      <p>
The <a href="#dfn-did-resolution" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolution-9">DID resolution</a> functions resolve a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-71">DID</a> into a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-123">DID
document</a> by using the "Read" operation of the applicable <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-34">DID method</a>
as described in <a href="#method-operations" class="sec-ref">§&nbsp;<bdi class="secno">8.2 </bdi>Method Operations</a>. The details of how this
process is accomplished are outside the scope of this specification, but all
conforming <a href="#dfn-did-resolvers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolvers-8">DID resolvers</a> implement the functions below, which have the
following abstract forms:
      </p>

      <pre title="Abstract functions for DID Resolution" aria-busy="false"><code class="hljs">resolve(did, resolutionOptions) →
   « didResolutionMetadata, didDocument, didDocumentMetadata »

resolveRepresentation(did, resolutionOptions) →
   « didResolutionMetadata, didDocumentStream, didDocumentMetadata »</code></pre>

      <p>
The <code>resolve</code> function returns the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-124">DID document</a> in its
abstract form (a <a href="https://infra.spec.whatwg.org/#maps">map</a>). The
<code>resolveRepresentation</code> function returns a byte stream of the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-125">DID
Document</a> formatted in the corresponding representation.
      </p>

      <figure id="resolve-resolverepresentation">
        <img style="margin: auto; display: block;" src="diagrams/diagram-resolve-resolverepresentation.png" alt="
Diagram illustrating how resolve() returns the DID document data model in
its abstract form and resolveRepresenation() returns it in one of the
conformant representations; conversion is possible using production and
consumption rules." height="857" width="1515">
        <figcaption>Figure <bdi class="figno">5</bdi> <span class="fig-title">
Functions resolve() and resolveRepresentation().
        </span></figcaption>
      </figure>

      <p>
The input variables
of the <code>resolve</code> and <code>resolveRepresentation</code> functions are
as follows:
      </p>

      <dl>
        <dt>
did
        </dt>
        <dd>
This is the <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-72">DID</a> to resolve. This input is <em class="rfc2119">REQUIRED</em> and the value <em class="rfc2119">MUST</em>
be a conformant <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-73">DID</a> as defined in <a href="#did-syntax" class="sec-ref">§&nbsp;<bdi class="secno">3.1 </bdi>DID Syntax</a>.
        </dd>
        <dt>
resolutionOptions
        </dt>
        <dd>
A <a href="#metadata-structure">metadata structure</a> containing properties
defined in <a href="#did-resolution-options" class="sec-ref">§&nbsp;<bdi class="secno">7.1.1 </bdi>DID Resolution Options</a>. This input is
<em class="rfc2119">REQUIRED</em>, but the structure <em class="rfc2119">MAY</em> be empty.
        </dd>
      </dl>

      <p>
These functions each return multiple values, and no limitations
are placed on how these values are returned together.
The return values of <code>resolve</code> are
<a href="#dfn-didresolutionmetadata" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-didresolutionmetadata-1">didResolutionMetadata</a>, <a href="#dfn-diddocument" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-diddocument-1">didDocument</a>, and
<a href="#dfn-diddocumentmetadata" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-diddocumentmetadata-1">didDocumentMetadata</a>. The return values of
<code>resolveRepresentation</code> are
<a href="#dfn-didresolutionmetadata" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-didresolutionmetadata-2">didResolutionMetadata</a>, <a href="#dfn-diddocumentstream" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-diddocumentstream-1">didDocumentStream</a>, and
<a href="#dfn-diddocumentmetadata" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-diddocumentmetadata-2">didDocumentMetadata</a>. These values are described below:
      </p>

      <dl>
        <dt>
<dfn id="dfn-didresolutionmetadata">didResolutionMetadata</dfn>
        </dt>
        <dd>
A <a href="#metadata-structure">metadata structure</a> consisting of values
relating to the results of the <a href="#dfn-did-resolution" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolution-10">DID resolution</a> process which typically
changes between invocations of the <code>resolve</code> and
<code>resolveRepresentation</code> functions, as it represents data about the
resolution process itself. This structure is <em class="rfc2119">REQUIRED</em>, and in the case of an
error in the resolution process, this <em class="rfc2119">MUST NOT</em> be empty.
This metadata is defined by <a href="#did-resolution-metadata" class="sec-ref">§&nbsp;<bdi class="secno">7.1.2 </bdi>DID Resolution Metadata</a>. If
<code>resolveRepresentation</code> was called, this structure <em class="rfc2119">MUST</em> contain a
<code>contentType</code> property containing the Media Type of the
representation found in the <code>didDocumentStream</code>. If the resolution is not successful, this structure
<em class="rfc2119">MUST</em> contain an <code>error</code> property describing the error.
        </dd>
        <dt>
<dfn id="dfn-diddocument">didDocument</dfn>
        </dt>
        <dd>
If the resolution is successful, and if the <code>resolve</code> function was
called, this <em class="rfc2119">MUST</em> be a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-126">DID document</a> abstract data model (a <a href="https://infra.spec.whatwg.org/#maps">map</a>) as described in <a href="#data-model" class="sec-ref">§&nbsp;<bdi class="secno">4. </bdi>Data Model</a> that
is capable of being transformed into a <a href="#dfn-conforming-did-document" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-conforming-did-document-3">conforming DID Document</a>
(representation), using the production rules specified by the representation.
The value of <code><a href="#dfn-id" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-id-7">id</a></code> in the resolved <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-127">DID document</a> <em class="rfc2119">MUST</em>
match the <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-74">DID</a> that was resolved. If the resolution is unsuccessful, this
value <em class="rfc2119">MUST</em> be empty.
        </dd>
        <dt>
<dfn id="dfn-diddocumentstream">didDocumentStream</dfn>
        </dt>
        <dd>
If the resolution is successful, and if the <code>resolveRepresentation</code>
function was called, this <em class="rfc2119">MUST</em> be a byte stream of the resolved <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-128">DID
document</a> in one of the conformant
<a href="#representations">representations</a>. The byte stream might then be
parsed by the caller of the <code>resolveRepresentation</code> function into a
<a href="#data-model">data model</a>, which can in turn be validated and
processed. If the resolution is unsuccessful, this value <em class="rfc2119">MUST</em> be an empty
stream.
        </dd>
        <dt>
<dfn id="dfn-diddocumentmetadata">didDocumentMetadata</dfn>
        </dt>
        <dd>
If the resolution is successful, this <em class="rfc2119">MUST</em> be a <a href="#metadata-structure">metadata structure</a>. This structure contains
metadata about the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-129">DID document</a> contained in the <code>didDocument</code>
property. This metadata typically does not change between invocations of the
<code>resolve</code> and <code>resolveRepresentation</code> functions unless the
<a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-130">DID document</a> changes, as it represents metadata about the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-131">DID
document</a>. If the resolution is unsuccessful, this output <em class="rfc2119">MUST</em> be an empty <a href="#metadata-structure">metadata structure</a>. Properties defined by this
specification are in <a href="#did-document-metadata" class="sec-ref">§&nbsp;<bdi class="secno">7.1.3 </bdi>DID Document Metadata</a>.
        </dd>
      </dl>

      <p>
Conforming <a href="#dfn-did-resolvers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolvers-9">DID resolver</a> implementations do not alter the signature of
these functions in any way. <a href="#dfn-did-resolvers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolvers-10">DID resolver</a> implementations might map the
<code>resolve</code> and <code>resolveRepresentation</code> functions to a
method-specific internal function to perform the actual <a href="#dfn-did-resolution" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolution-11">DID resolution</a>
process. <a href="#dfn-did-resolvers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolvers-11">DID resolver</a> implementations might implement and expose
additional functions with different signatures in addition to the
<code>resolve</code> and <code>resolveRepresentation</code> functions specified here.
      </p>

      <section id="did-resolution-options">
        <h4 id="x7-1-1-did-resolution-options"><bdi class="secno">7.1.1 </bdi>DID Resolution Options<a class="self-link" aria-label="§" href="#did-resolution-options"></a></h4>

        <p>
The possible properties within this structure and their possible values are
registered in the DID Specification Registries [<cite><a class="bibref" data-link-type="biblio" href="#bib-did-spec-registries" title="DID Specification Registries">DID-SPEC-REGISTRIES</a></cite>]. This
specification defines the following common properties.
        </p>

        <dl>
          <dt>
accept
          </dt>
          <dd>
The Media Type of the caller's preferred <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-70">representation</a> of the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-132">DID
document</a>. The Media Type <em class="rfc2119">MUST</em> be expressed as an  <a data-lt="ascii
string" data-type="dfn" href="https://infra.spec.whatwg.org/#ascii-string">ASCII string</a>. The <a href="#dfn-did-resolvers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolvers-12">DID resolver</a> implementation <em class="rfc2119">SHOULD</em> use this
value to determine the <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-71">representation</a> contained in the returned
<code>didDocumentStream</code> if such a <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-72">representation</a> is supported and
available. This property is <em class="rfc2119">OPTIONAL</em> for the <code>resolveRepresentation</code>
function and <em class="rfc2119">MUST NOT</em> be used with the <code>resolve</code> function.
          </dd>
        </dl>
      </section>

      <section id="did-resolution-metadata">
        <h4 id="x7-1-2-did-resolution-metadata"><bdi class="secno">7.1.2 </bdi>DID Resolution Metadata<a class="self-link" aria-label="§" href="#did-resolution-metadata"></a></h4>

        <p>
The possible properties within this structure and their possible values are
registered in the DID Specification Registries [<cite><a class="bibref" data-link-type="biblio" href="#bib-did-spec-registries" title="DID Specification Registries">DID-SPEC-REGISTRIES</a></cite>]. This
specification defines the following DID resolution metadata properties:
        </p>

        <dl>
          <dt>
contentType
          </dt>
          <dd>
The Media Type of the returned <code>didDocumentStream</code>. This property is
<em class="rfc2119">REQUIRED</em> if resolution is successful and if the
<code>resolveRepresentation</code> function was called.
This property <em class="rfc2119">MUST NOT</em>
be present if the <code>resolve</code> function was called. The value of this
property <em class="rfc2119">MUST</em> be an <a data-lt="ascii string" data-type="dfn" href="https://infra.spec.whatwg.org/#ascii-string">ASCII string</a> that is the Media
Type of the conformant <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-73">representations</a>. The
caller of the <code>resolveRepresentation</code> function <em class="rfc2119">MUST</em> use this value
when determining how to parse and process the <code>didDocumentStream</code>
returned by this function into the <a href="#data-model">data model</a>.
          </dd>
          <dt>
error
          </dt>
          <dd>
The error code from the resolution process. This property is <em class="rfc2119">REQUIRED</em> when there
is an error in the resolution process. The value of this property <em class="rfc2119">MUST</em> be a
single keyword <a data-lt="ascii string" data-type="dfn" href="https://infra.spec.whatwg.org/#ascii-string">ASCII string</a>. The possible property
values of this field <em class="rfc2119">SHOULD</em> be registered in the DID Specification Registries
[<cite><a class="bibref" data-link-type="biblio" href="#bib-did-spec-registries" title="DID Specification Registries">DID-SPEC-REGISTRIES</a></cite>]. This specification defines the following
common error values:
            <dl>
              <dt>
invalidDid
              </dt>
              <dd>
The <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-75">DID</a> supplied to the <a href="#dfn-did-resolution" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolution-12">DID resolution</a> function does not conform
to valid syntax. (See <a href="#did-syntax" class="sec-ref">§&nbsp;<bdi class="secno">3.1 </bdi>DID Syntax</a>.)
              </dd>
              <dt>
notFound
              </dt>
              <dd>
The <a href="#dfn-did-resolvers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolvers-13">DID resolver</a> was unable to find the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-133">DID document</a>
resulting from this resolution request.
              </dd>
              <dt>
representationNotSupported
              </dt>
              <dd>
This error code is returned if the <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-74">representation</a> requested via the
<code>accept</code> input metadata property is not supported by the <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-35">DID
method</a> and/or <a href="#dfn-did-resolvers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolvers-14">DID resolver</a> implementation.
              </dd>
            </dl>
          </dd>
        </dl>

      </section>

      <section id="did-document-metadata">
        <h4 id="x7-1-3-did-document-metadata"><bdi class="secno">7.1.3 </bdi>DID Document Metadata<a class="self-link" aria-label="§" href="#did-document-metadata"></a></h4>

        <p>
The possible properties within this structure and their possible values <em class="rfc2119">SHOULD</em>
be registered in the DID Specification Registries [<cite><a class="bibref" data-link-type="biblio" href="#bib-did-spec-registries" title="DID Specification Registries">DID-SPEC-REGISTRIES</a></cite>].
This specification defines the following common properties.
        </p>

        <dl>
          <dt><dfn id="dfn-created">created</dfn></dt>
          <dd>
<a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-134">DID document</a> metadata <em class="rfc2119">SHOULD</em> include a <code>created</code> property to
indicate the timestamp of the <a href="#method-operations">Create operation</a>.
The value of the property <em class="rfc2119">MUST</em> be a <a href="https://infra.spec.whatwg.org/#string">string</a>
formatted as an <a href="https://www.w3.org/TR/xmlschema11-2/#dateTime">XML Datetime</a>
normalized to UTC 00:00:00 and without sub-second decimal precision. For
example: <code>2020-12-20T19:17:47Z</code>.
          </dd>

          <dt><dfn id="dfn-updated">updated</dfn></dt>
          <dd>
<a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-135">DID document</a> metadata <em class="rfc2119">SHOULD</em> include an <code>updated</code> property to
indicate the timestamp of the last <a href="#method-operations">Update
operation</a> for the document version which was resolved. The value of the
property <em class="rfc2119">MUST</em> follow the same formatting rules as the <code>created</code>
property. The <code>updated</code> property is omitted if an Update operation
has never been performed on the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-136">DID document</a>. If an <code>updated</code>
property exists, it can be the same value as the <code>created</code> property
when the difference between the two timestamps is less than one second.
          </dd>

          <dt><dfn id="dfn-deactivated">deactivated</dfn></dt>
          <dd>
If a DID has been <a href="#method-operations">deactivated</a>,
<a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-137">DID document</a> metadata <em class="rfc2119">MUST</em> include this property with the boolean value
<code>true</code>. If a DID has not been deactivated, this property is <em class="rfc2119">OPTIONAL</em>,
but if included, <em class="rfc2119">MUST</em> have the boolean value <code>false</code>.
          </dd>

          <dt><dfn id="dfn-nextupdate">nextUpdate</dfn></dt>
          <dd>
            <div class="issue atrisk" id="issue-container-generatedID-15"><div role="heading" class="issue-title marker" id="h-issue-5" aria-level="5"><span>(Feature at Risk) Issue</span></div><p class="atrisk">
The DID Working Group is seeking implementer feedback on this feature. If there
is not enough implementation experience with this feature at the end of the
Candidate Recommendation period, it will be removed from the specification.
            </p></div>

<a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-138">DID document</a> metadata <em class="rfc2119">MAY</em> include a <code>nextUpdate</code> property if
the resolved document version is not the latest version of the document. It
indicates the timestamp of the next <a href="#method-operations">Update
operation</a>. The value of the property <em class="rfc2119">MUST</em> follow the same formatting rules
as the <code>created</code> property.
          </dd>

          <dt><dfn id="dfn-versionid">versionId</dfn></dt>
          <dd>
<a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-139">DID document</a> metadata <em class="rfc2119">SHOULD</em> include a <code>versionId</code> property to
indicate the version of the last <a href="#method-operations">Update
operation</a> for the document version which was resolved. The value of the
property <em class="rfc2119">MUST</em> be an <a data-lt="ascii string" data-type="dfn" href="https://infra.spec.whatwg.org/#ascii-string">ASCII string</a>.
          </dd>

          <dt><dfn id="dfn-nextversionid">nextVersionId</dfn></dt>
          <dd>
            <div class="issue atrisk" id="issue-container-generatedID-16"><div role="heading" class="issue-title marker" id="h-issue-6" aria-level="5"><span>(Feature at Risk) Issue</span></div><p class="atrisk">
The DID Working Group is seeking implementer feedback on this feature. If there
is not enough implementation experience with this feature at the end of the
Candidate Recommendation period, it will be removed from the specification.
            </p></div>

<a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-140">DID document</a> metadata <em class="rfc2119">MAY</em> include a <code>nextVersionId</code> property
if the resolved document version is not the latest version of the document. It
indicates the version of the next <a href="#method-operations">Update
operation</a>. The value of the property <em class="rfc2119">MUST</em> be an <a data-lt="ascii
string" data-type="dfn" href="https://infra.spec.whatwg.org/#ascii-string">ASCII string</a>.
          </dd>

          <dt><dfn id="dfn-equivalentid">equivalentId</dfn></dt>
          <dd>
            <div class="issue atrisk" id="issue-container-generatedID-17"><div role="heading" class="issue-title marker" id="h-issue-7" aria-level="5"><span>(Feature at Risk) Issue</span></div><p class="atrisk">
The DID Working Group is seeking implementer feedback on this feature. If there
is not enough implementation experience with this feature at the end of the
Candidate Recommendation period, it will be removed from the specification.
            </p></div>
            <p>
A <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-36">DID Method</a> can define different forms of a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-76">DID</a> that are
logically equivalent. An example is when a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-77">DID</a> takes one form prior to
registration in a <a href="#dfn-verifiable-data-registry" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verifiable-data-registry-3">verifiable data registry</a> and another form after such
registration. In this case, the <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-37">DID Method</a> specification might need to
express one or more <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-78">DIDs</a> that are logically equivalent to the resolved
<a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-79">DID</a> as a property of the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-141">DID document</a>. This is the purpose of the
<code><a href="#dfn-equivalentid" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-equivalentid-1">equivalentId</a></code>  property.
            </p>
            <p>
The value of <code>equivalentId</code> <em class="rfc2119">MUST</em> be a <a href="https://infra.spec.whatwg.org/#ordered-set">set</a> where each item is a
<a href="https://infra.spec.whatwg.org/#string">string</a> that conforms to the rules in Section <a href="#did-syntax" class="sec-ref">§&nbsp;<bdi class="secno">3.1 </bdi>DID Syntax</a>. The relationship is a statement that each
<code><a href="#dfn-equivalentid" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-equivalentid-2">equivalentId</a></code> value is logically equivalent to the
<code>id</code> property value and thus identifies the same <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-45">DID subject</a>.
Each <code><a href="#dfn-equivalentid" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-equivalentid-3">equivalentId</a></code> DID value <em class="rfc2119">MUST</em> be produced by, and a form
of, the same <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-38">DID Method</a> as the <code>id</code> property value. (e.g.,
<code>did:example:abc</code> == <code>did:example:ABC</code>)
            </p>
            <p>
A conforming <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-39">DID Method</a> specification <em class="rfc2119">MUST</em> guarantee that each
<code><a href="#dfn-equivalentid" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-equivalentid-4">equivalentId</a></code> value is logically equivalent to the
<code>id</code> property value.
            </p>
            <p>
A requesting party is expected to retain the values from the <code>id</code> and
<code><a href="#dfn-equivalentid" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-equivalentid-5">equivalentId</a></code> properties to ensure any subsequent
interactions with any of the values they contain are correctly handled as
logically equivalent (e.g., retain all variants in a database so an interaction
with any one maps to the same underlying account).
            </p>
            <div class="note" role="note" id="issue-container-generatedID-18"><div role="heading" class="note-title marker" id="h-note-9" aria-level="5"><span>Note</span><span class="issue-label">: Stronger equivalence</span></div><p class="">
<code><a href="#dfn-equivalentid" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-equivalentid-6">equivalentId</a></code> is a much stronger form of equivalence than
<code><a href="#dfn-alsoknownas" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-alsoknownas-6">alsoKnownAs</a></code> because the equivalence <em class="rfc2119">MUST</em> be guaranteed by
the governing <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-40">DID method</a>. <code><a href="#dfn-equivalentid" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-equivalentid-7">equivalentId</a></code> represents a
full graph merge because the same <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-142">DID document</a> describes both the
<code><a href="#dfn-equivalentid" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-equivalentid-8">equivalentId</a></code> <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-80">DID</a> and the <code>id</code> property
<a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-81">DID</a>.
            </p></div>
            <p>
If a requesting party does not retain the values from the <code>id</code> and
<code><a href="#dfn-equivalentid" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-equivalentid-9">equivalentId</a></code> properties and ensure any subsequent
interactions with any of the values they contain are correctly handled as
logically equivalent, there might be negative or unexpected issues that
arise. Implementers are strongly advised to observe the
directives related to this metadata property.
            </p>
          </dd>
          <dt><dfn id="dfn-canonicalid">canonicalId</dfn></dt>
          <dd>
            <div class="issue atrisk" id="issue-container-generatedID-19"><div role="heading" class="issue-title marker" id="h-issue-8" aria-level="5"><span>(Feature at Risk) Issue</span></div><p class="atrisk">
The DID Working Group is seeking implementer feedback on this feature. If there
is not enough implementation experience with this feature at the end of the
Candidate Recommendation period, it will be removed from the specification.
            </p></div>
            <p>
The <code><a href="#dfn-canonicalid" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-canonicalid-1">canonicalId</a></code> property is identical to the
<code><a href="#dfn-equivalentid" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-equivalentid-10">equivalentId</a></code> property except: a) it is associated with a
single value rather than a set, and b) the <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-82">DID</a> is defined to be
the canonical ID for the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-46">DID subject</a> within the scope of the containing
<a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-143">DID document</a>.
            </p>
            <p>
The value of <code><a href="#dfn-canonicalid" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-canonicalid-2">canonicalId</a></code> <em class="rfc2119">MUST</em> be a <a href="https://infra.spec.whatwg.org/#string">string</a> that conforms to the rules in Section <a href="#did-syntax" class="sec-ref">§&nbsp;<bdi class="secno">3.1 </bdi>DID Syntax</a>. The relationship is a statement that the
<code><a href="#dfn-canonicalid" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-canonicalid-3">canonicalId</a></code> value is logically equivalent to the
<code>id</code> property value and that the <code><a href="#dfn-canonicalid" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-canonicalid-4">canonicalId</a></code>
value is defined by the <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-41">DID Method</a> to be the canonical ID for the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-47">DID
subject</a> in the scope of the containing <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-144">DID document</a>. A
<code><a href="#dfn-canonicalid" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-canonicalid-5">canonicalId</a></code> value <em class="rfc2119">MUST</em> be produced by, and a form of, the
same <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-42">DID Method</a> as the <code>id</code> property value. (e.g.,
<code>did:example:abc</code> == <code>did:example:ABC</code>). A conforming
<a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-43">DID Method</a> specification <em class="rfc2119">MUST</em> guarantee that the
<code><a href="#dfn-canonicalid" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-canonicalid-6">canonicalId</a></code> value is logically equivalent to the
<code>id</code> property value.
            </p>
            <p>
A requesting party is expected to use the <code><a href="#dfn-canonicalid" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-canonicalid-7">canonicalId</a></code> value
as its primary ID value for the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-48">DID subject</a> and treat all other
equivalent values as secondary aliases (e.g., update corresponding primary
references in their systems to reflect the new canonical ID directive).
            </p>
            <div class="note" role="note" id="issue-container-generatedID-20"><div role="heading" class="note-title marker" id="h-note-10" aria-level="5"><span>Note</span><span class="issue-label">: Canonical equivalence</span></div><p class="">
<code><a href="#dfn-canonicalid" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-canonicalid-8">canonicalId</a></code> is the same statement of equivalence as
<code><a href="#dfn-equivalentid" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-equivalentid-11">equivalentId</a></code> except it is constrained to a single value that
is defined to be canonical for the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-49">DID subject</a> in the scope of the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-145">DID
document</a>. Like <code><a href="#dfn-equivalentid" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-equivalentid-12">equivalentId</a></code>,
<code><a href="#dfn-canonicalid" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-canonicalid-9">canonicalId</a></code> represents a full graph merge because the same
<a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-146">DID document</a> describes both the <code><a href="#dfn-canonicalid" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-canonicalid-10">canonicalId</a></code> DID and
the <code>id</code> property <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-83">DID</a>.
            </p></div>
            <p>
If a resolving party does not use the <code><a href="#dfn-canonicalid" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-canonicalid-11">canonicalId</a></code> value as
its primary ID value for the DID subject and treat all other equivalent values
as secondary aliases, there might be negative or unexpected issues that arise
related to user experience. Implementers are strongly advised to observe the
directives related to this metadata property.
            </p>
          </dd>
        </dl>
      </section>
    </section>

    <section id="did-url-dereferencing">
      <h3 id="x7-2-did-url-dereferencing"><bdi class="secno">7.2 </bdi>DID URL Dereferencing<a class="self-link" aria-label="§" href="#did-url-dereferencing"></a></h3>
      <p>
The <a href="#dfn-did-url-dereferencing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-url-dereferencing-6">DID URL dereferencing</a> function dereferences a <a href="#dfn-did-urls" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-urls-26">DID URL</a> into a
<a href="#dfn-resources" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-resources-14">resource</a> with contents depending on the <a href="#dfn-did-urls" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-urls-27">DID URL</a>'s components,
including the <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-44">DID method</a>, method-specific identifier, path, query, and
fragment. This process depends on <a href="#dfn-did-resolution" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolution-13">DID resolution</a> of the <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-84">DID</a>
contained in the <a href="#dfn-did-urls" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-urls-28">DID URL</a>. <a href="#dfn-did-url-dereferencing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-url-dereferencing-7">DID URL dereferencing</a> might involve
multiple steps (e.g., when the DID URL being dereferenced includes a fragment),
and the function is defined to return the final resource after all steps are
completed. The details of how this process is accomplished are outside the scope
of this specification. The following figure depicts the relationship described above.
      </p>

      <figure id="did-url-dereference-overview">
        <img style="margin: auto; display: block; width: 75%;" src="diagrams/did_url_dereference_overview.svg" alt="
DIDs resolve to DID documents; DID URLs contains a DID; DID URLs dereferenced to DID document fragments or
external resources.
        " height="504" width="1070">
        <figcaption>Figure <bdi class="figno">6</bdi> <span class="fig-title">
Overview of DID URL dereference
        </span></figcaption>
    </figure>

      <p>
All conforming <a href="#dfn-did-resolvers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolvers-15">DID resolvers</a> implement
the following function which has the following abstract form:
      </p>

      <pre title="Abstract functions for DID URL Dereferencing" aria-busy="false"><code class="hljs">dereference(didUrl, dereferenceOptions) →
   « dereferencingMetadata, contentStream, contentMetadata »</code></pre>

      <p>
The input variables of the <code>dereference</code> function are as follows:
      </p>

      <dl>
        <dt>
didUrl
        </dt>
        <dd>
A conformant <a href="#dfn-did-urls" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-urls-29">DID URL</a> as a single <a href="https://infra.spec.whatwg.org/#string">string</a>.
This is the <a href="#dfn-did-urls" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-urls-30">DID URL</a> to dereference. To dereference a <a href="#dfn-did-fragments" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-fragments-7">DID fragment</a>,
the complete <a href="#dfn-did-urls" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-urls-31">DID URL</a> including the <a href="#dfn-did-fragments" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-fragments-8">DID fragment</a> <em class="rfc2119">MUST</em> be used. This
input is <em class="rfc2119">REQUIRED</em>.
        </dd>
        <dt>
dereferencingOptions
        </dt>
        <dd>
A <a href="#metadata-structure">metadata structure</a> consisting of input
options to the <code>dereference</code> function in addition to the
<code>didUrl</code> itself. Properties defined by this specification are in <a href="#did-url-dereferencing-options" class="sec-ref">§&nbsp;<bdi class="secno">7.2.1 </bdi>DID URL Dereferencing Options</a>. This input is <em class="rfc2119">REQUIRED</em>, but the
structure <em class="rfc2119">MAY</em> be empty.
        </dd>
      </dl>

      <p>
This function returns multiple values, and no limitations
are placed on how these values are returned together.
The return values of the <code>dereference</code> include
<code>dereferencingMetadata</code>, <code>contentStream</code>,
and <code>contentMetadata</code>:
      </p>

      <dl>
        <dt>
dereferencingMetadata
        </dt>
        <dd>
A <a href="#metadata-structure">metadata structure</a> consisting of values
relating to the results of the <a href="#dfn-did-url-dereferencing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-url-dereferencing-8">DID URL dereferencing</a> process. This
structure is <em class="rfc2119">REQUIRED</em> and in the case of an error in the dereferencing process,
this <em class="rfc2119">MUST NOT</em> be empty. Properties defined by this specification are in <a href="#did-url-dereferencing-metadata" class="sec-ref">§&nbsp;<bdi class="secno">7.2.2 </bdi>DID URL Dereferencing Metadata</a>. If the dereferencing is not
successful, this structure <em class="rfc2119">MUST</em> contain an <code>error</code> property
describing the error.
        </dd>
        <dt>
contentStream
        </dt>
        <dd>
If the <code>dereferencing</code> function was called and successful, this <em class="rfc2119">MUST</em>
contain a <a href="#dfn-resources" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-resources-15">resource</a> corresponding to the <a href="#dfn-did-urls" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-urls-32">DID URL</a>. The
<code>contentStream</code> <em class="rfc2119">MAY</em> be a <a href="#dfn-resources" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-resources-16">resource</a> such as a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-147">DID
document</a> that is serializable in one of the conformant
<a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-75">representations</a>,  a <a href="#verification-methods">Verification Method</a>,  a <a href="#services">service</a>, or any other resource format that can be identified via a Media Type
and obtained through the resolution process. If the
dereferencing is unsuccessful, this value <em class="rfc2119">MUST</em> be empty.
        </dd>
        <dt>
contentMetadata
        </dt>
        <dd>
If the dereferencing is successful, this <em class="rfc2119">MUST</em> be a <a href="#metadata-structure">
metadata structure</a>, but the structure <em class="rfc2119">MAY</em> be empty. This structure contains
metadata about the <code>contentStream</code>. If the <code>contentStream</code>
is a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-148">DID document</a>, this <em class="rfc2119">MUST</em> be a <a href="#dfn-diddocumentmetadata" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-diddocumentmetadata-3">didDocumentMetadata</a> structure as
described in <a href="#dfn-did-resolution" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolution-14">DID Resolution</a>. If the dereferencing is unsuccessful, this
output <em class="rfc2119">MUST</em> be an empty <a href="#metadata-structure">metadata structure</a>.
        </dd>
      </dl>

      <p>
Conforming <a href="#dfn-did-url-dereferencing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-url-dereferencing-9">DID URL dereferencing</a> implementations do not alter the
signature of these functions in any way. <a href="#dfn-did-url-dereferencing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-url-dereferencing-10">DID URL dereferencing</a>
implementations might map the <code>dereference</code> function to a
method-specific internal function to perform the actual <a href="#dfn-did-url-dereferencing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-url-dereferencing-11">DID URL
dereferencing</a> process. <a href="#dfn-did-url-dereferencing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-url-dereferencing-12">DID URL dereferencing</a> implementations might
implement and expose additional functions with different signatures in addition
to the <code>dereference</code> function specified here.
      </p>

      <section id="did-url-dereferencing-options">
        <h4 id="x7-2-1-did-url-dereferencing-options"><bdi class="secno">7.2.1 </bdi>DID URL Dereferencing Options<a class="self-link" aria-label="§" href="#did-url-dereferencing-options"></a></h4>

        <p>
The possible properties within this structure and their possible values <em class="rfc2119">SHOULD</em>
be registered in the DID Specification Registries [<cite><a class="bibref" data-link-type="biblio" href="#bib-did-spec-registries" title="DID Specification Registries">DID-SPEC-REGISTRIES</a></cite>].
This specification defines the following common properties for
dereferencing options:
        </p>

        <dl>
          <dt>
accept
          </dt>
          <dd>
The Media Type that the caller prefers for <code>contentStream</code>. The Media
Type <em class="rfc2119">MUST</em> be expressed as an <a data-lt="ascii string" data-type="dfn" href="https://infra.spec.whatwg.org/#ascii-string">ASCII string</a>.
The <a href="#dfn-did-url-dereferencing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-url-dereferencing-13">DID URL dereferencing</a> implementation <em class="rfc2119">SHOULD</em> use this value to
determine the <code>contentType</code> of the <a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-76">representation</a> contained in the returned value if such a
<a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-77">representation</a> is supported and available.
          </dd>
        </dl>
      </section>

      <section id="did-url-dereferencing-metadata">
        <h4 id="x7-2-2-did-url-dereferencing-metadata"><bdi class="secno">7.2.2 </bdi>DID URL Dereferencing Metadata<a class="self-link" aria-label="§" href="#did-url-dereferencing-metadata"></a></h4>

        <p>
The possible properties within this structure and their possible values are
registered in the DID Specification Registries [<cite><a class="bibref" data-link-type="biblio" href="#bib-did-spec-registries" title="DID Specification Registries">DID-SPEC-REGISTRIES</a></cite>]. This
specification defines the following common properties.
        </p>

        <dl>
          <dt>
contentType
          </dt>
          <dd>
The Media Type of the returned <code>contentStream</code> <em class="rfc2119">SHOULD</em> be expressed
using this property if dereferencing is successful. The Media
Type value <em class="rfc2119">MUST</em> be expressed as an <a data-lt="ascii string" data-type="dfn" href="https://infra.spec.whatwg.org/#ascii-string">ASCII string</a>.
          </dd>
          <dt>
error
          </dt>
          <dd>
The error code from the dereferencing process. This property is <em class="rfc2119">REQUIRED</em> when
there is an error in the dereferencing process. The value of this property
<em class="rfc2119">MUST</em> be a single keyword expressed as an <a data-lt="ascii string" data-type="dfn" href="https://infra.spec.whatwg.org/#ascii-string">ASCII
string</a>. The possible property values of this field <em class="rfc2119">SHOULD</em> be registered in
the DID Specification Registries [<cite><a class="bibref" data-link-type="biblio" href="#bib-did-spec-registries" title="DID Specification Registries">DID-SPEC-REGISTRIES</a></cite>]. This specification
defines the following common error values:
            <dl>
              <dt>
invalidDidUrl
              </dt>
              <dd>
The <a href="#dfn-did-urls" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-urls-33">DID URL</a> supplied to the <a href="#dfn-did-url-dereferencing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-url-dereferencing-14">DID URL dereferencing</a> function does
not conform to valid syntax. (See <a href="#did-url-syntax" class="sec-ref">§&nbsp;<bdi class="secno">3.2 </bdi>DID URL Syntax</a>.)
              </dd>
              <dt>
notFound
              </dt>
              <dd>
The <a href="#dfn-did-url-dereferencers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-url-dereferencers-3">DID URL dereferencer</a> was unable to find the
<code>contentStream</code> resulting from this dereferencing request.
              </dd>
            </dl>
          </dd>
        </dl>

      </section>
    </section>

    <section id="metadata-structure">
      <h3 id="x7-3-metadata-structure"><bdi class="secno">7.3 </bdi>Metadata Structure<a class="self-link" aria-label="§" href="#metadata-structure"></a></h3>

      <p>
Input and output metadata is often involved during the <a href="#dfn-did-resolution" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolution-15">DID Resolution</a>,
<a href="#dfn-did-url-dereferencing" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-url-dereferencing-15">DID URL dereferencing</a>, and other DID-related processes. The structure
used to communicate this metadata <em class="rfc2119">MUST</em> be a <a href="https://infra.spec.whatwg.org/#maps">map</a>
of properties. Each property name <em class="rfc2119">MUST</em> be a <a href="https://infra.spec.whatwg.org/#string">string</a>. Each property value <em class="rfc2119">MUST</em> be a <a href="https://infra.spec.whatwg.org/#string">string</a>, <a href="https://infra.spec.whatwg.org/#maps">map</a>, <a href="https://infra.spec.whatwg.org/#list">list</a>, <a href="https://infra.spec.whatwg.org/#ordered-set">set</a>,
<a href="https://infra.spec.whatwg.org/#boolean">boolean</a>, or
<a href="https://infra.spec.whatwg.org/#nulls">null</a>. The values within any complex data
structures such as maps and lists <em class="rfc2119">MUST</em> be one of these data types as well.
All metadata property definitions registered in the DID Specification
Registries [<cite><a class="bibref" data-link-type="biblio" href="#bib-did-spec-registries" title="DID Specification Registries">DID-SPEC-REGISTRIES</a></cite>] <em class="rfc2119">MUST</em> define the value type, including any
additional formats or restrictions to that value (for example, a string
formatted as a date or as a decimal integer). It is <em class="rfc2119">RECOMMENDED</em> that property
definitions use strings for values. The entire metadata structure <em class="rfc2119">MUST</em> be
serializable according to the <a href="https://infra.spec.whatwg.org/#serialize-an-infra-value-to-json-bytes">JSON
serialization rules</a> in the [<cite><a class="bibref" data-link-type="biblio" href="#bib-infra" title="Infra Standard">INFRA</a></cite>] specification. Implementations <em class="rfc2119">MAY</em>
serialize the metadata structure to other data formats.
      </p>

      <p>
All implementations of functions that use metadata structures as either input or
output are able to fully represent all data types described here in a
deterministic fashion. As inputs and outputs using metadata structures are
defined in terms of data types and not their serialization, the method for
<a href="#dfn-representations" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-representations-78">representation</a> is internal to the implementation of the function and is
out of scope of this specification.
      </p>

      <p>
The following example demonstrates a JSON-encoded metadata structure that
might be used as <a href="#did-resolution-options">DID
resolution input metadata</a>.
      </p>

      <div class="example" id="example-26-json-encoded-did-resolution-input-metadata-example">
        <div class="marker">
    <a class="self-link" href="#example-26-json-encoded-did-resolution-input-metadata-example">Example<bdi> 26</bdi></a><span class="example-title">: JSON-encoded DID resolution input metadata example</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
  <span class="hljs-attr">"accept"</span>: <span class="hljs-string">"application/did+ld+json"</span>
}</code></pre>
      </div>

      <p>
This example corresponds to a metadata structure of the following format:
      </p>

      <div class="example" id="example-27-did-resolution-input-metadata-example">
        <div class="marker">
    <a class="self-link" href="#example-27-did-resolution-input-metadata-example">Example<bdi> 27</bdi></a><span class="example-title">: DID resolution input metadata example</span>
  </div> <pre aria-busy="false"><code class="hljs abnf">«[
  <span class="hljs-string">"accept"</span> → <span class="hljs-string">"application/did+ld+json"</span>
]»</code></pre>
      </div>

      <p>
The next example demonstrates a JSON-encoded metadata structure that might be
used as <a href="#did-resolution-options">DID resolution
metadata</a> if a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-85">DID</a> was not found.
      </p>

      <div class="example" id="example-28-json-encoded-did-resolution-metadata-example">
        <div class="marker">
    <a class="self-link" href="#example-28-json-encoded-did-resolution-metadata-example">Example<bdi> 28</bdi></a><span class="example-title">: JSON-encoded DID resolution metadata example</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
  <span class="hljs-attr">"error"</span>: <span class="hljs-string">"notFound"</span>
}</code></pre>
      </div>

      <p>
This example corresponds to a metadata structure of the following format:
      </p>

      <div class="example" id="example-29-did-resolution-metadata-example">
        <div class="marker">
    <a class="self-link" href="#example-29-did-resolution-metadata-example">Example<bdi> 29</bdi></a><span class="example-title">: DID resolution metadata example</span>
  </div> <pre aria-busy="false"><code class="hljs abnf">«[
  <span class="hljs-string">"error"</span> → <span class="hljs-string">"notFound"</span>
]»</code></pre>
      </div>

      <p>
The next example demonstrates a JSON-encoded metadata structure that might be
used as <a href="#did-document-metadata">DID document metadata</a>
to describe timestamps associated with the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-149">DID document</a>.
      </p>

      <div class="example" id="example-30-json-encoded-did-document-metadata-example">
        <div class="marker">
    <a class="self-link" href="#example-30-json-encoded-did-document-metadata-example">Example<bdi> 30</bdi></a><span class="example-title">: JSON-encoded DID document metadata example</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
  <span class="hljs-attr">"created"</span>: <span class="hljs-string">"2019-03-23T06:35:22Z"</span>,
  <span class="hljs-attr">"updated"</span>: <span class="hljs-string">"2023-08-10T13:40:06Z"</span>
}</code></pre>
      </div>

      <p>
This example corresponds to a metadata structure of the following format:
      </p>

      <div class="example" id="example-31-did-document-metadata-example">
        <div class="marker">
    <a class="self-link" href="#example-31-did-document-metadata-example">Example<bdi> 31</bdi></a><span class="example-title">: DID document metadata example</span>
  </div> <pre aria-busy="false"><code class="hljs javascript">«[
  <span class="hljs-string">"created"</span> → <span class="hljs-string">"2019-03-23T06:35:22Z"</span>,
  <span class="hljs-string">"updated"</span> → <span class="hljs-string">"2023-08-10T13:40:06Z"</span>
]»</code></pre>
      </div>

    </section>

  </section>

  <section id="methods">
    <h2 id="x8-methods"><bdi class="secno">8. </bdi>Methods<a class="self-link" aria-label="§" href="#methods"></a></h2>

    <p>
A <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-45">DID method</a> defines how implementers can realize the features
described by this specification. <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-46">DID methods</a> are often associated with a
particular <a href="#dfn-verifiable-data-registry" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verifiable-data-registry-4">verifiable data registry</a>. New <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-47">DID methods</a> are defined
in their own specifications to enable interoperability between different
implementations of the same <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-48">DID method</a>.
    </p>

    <p>
Conceptually, the relationship between this specification and a <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-49">DID
method</a> specification is similar to the relationship between the IETF generic
<a href="#dfn-uri" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-uri-20">URI</a> specification [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>] and a specific <a href="#dfn-uri" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-uri-21">URI</a> scheme
[<cite><a class="bibref" data-link-type="biblio" href="#bib-iana-uri-schemes" title="Uniform Resource Identifier (URI) Schemes">IANA-URI-SCHEMES</a></cite>], such as the <code>http</code> scheme [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc7230" title="Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing">RFC7230</a></cite>]. In
addition to defining a specific <a href="#dfn-did-schemes" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-schemes-4">DID scheme</a>, a <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-50">DID method</a>
specification also defines the mechanisms for creating, resolving, updating, and
deactivating <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-86">DIDs</a> and <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-150">DID documents</a> using a specific type of
<a href="#dfn-verifiable-data-registry" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verifiable-data-registry-5">verifiable data registry</a>. It also documents all implementation
considerations related to <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-87">DIDs</a> as well as Security and Privacy
Considerations.
    </p>

    <p>
This section specifies the requirements for authoring <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-51">DID method</a>
specifications.
    </p>

    <section class="normative" id="method-syntax">
      <h3 id="x8-1-method-syntax"><bdi class="secno">8.1 </bdi>Method Syntax<a class="self-link" aria-label="§" href="#method-syntax"></a></h3>

      <p>
The requirements for all <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-52">DID method</a> specifications when defining the
method-specific DID Syntax are as follows:
      </p>

      <ol>
        <li>
A <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-53">DID method</a> specification <em class="rfc2119">MUST</em> define exactly one method-specific <a href="#dfn-did-schemes" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-schemes-5">DID
scheme</a> that is identified by exactly one method name as specified by the
<code>method-name</code> rule in <a href="#did-syntax" class="sec-ref">§&nbsp;<bdi class="secno">3.1 </bdi>DID Syntax</a>.
        </li>
        <li>
The <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-54">DID method</a> specification <em class="rfc2119">MUST</em> specify how to generate the
<code>method-specific-id</code> component of a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-88">DID</a>.
        </li>
        <li>
The <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-55">DID method</a> specification <em class="rfc2119">MUST</em> define sensitivity and normalization of
the value of the <code>method-specific-id</code>.
        </li>
        <li>
The <code>method-specific-id</code> value <em class="rfc2119">MUST</em> be unique within a <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-56">DID
method</a>. The <code>method-specific-id</code> value itself might be globally
unique.
        </li>
        <li>
Any <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-89">DID</a> generated by a <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-57">DID method</a> <em class="rfc2119">MUST</em> be globally unique.
        </li>
        <li>
To reduce the chances of <code>method-name</code> conflicts, a <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-58">DID method</a>
specification <em class="rfc2119">SHOULD</em> be registered in the DID Specification Registries
[<cite><a class="bibref" data-link-type="biblio" href="#bib-did-spec-registries" title="DID Specification Registries">DID-SPEC-REGISTRIES</a></cite>].
        </li>
        <li>
A <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-59">DID method</a> <em class="rfc2119">MAY</em> define multiple <code>method-specific-id</code> formats.
        </li>
        <li>
The <code>method-specific-id</code> format <em class="rfc2119">MAY</em> include colons. The use of
colons <em class="rfc2119">MUST</em> comply syntactically with the <code>method-specific-id</code> ABNF
rule.
        </li>
        <li>
A <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-60">DID method</a> specification <em class="rfc2119">MAY</em> specify ABNF rules for <a href="#dfn-did-paths" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-paths-3">DID paths</a>
that are more restrictive than the generic rules in <a href="#path" class="sec-ref">§&nbsp;Path</a>.
        </li>
        <li>
A <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-61">DID method</a> specification <em class="rfc2119">MAY</em> specify ABNF rules for <a href="#dfn-did-queries" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-queries-3">DID queries</a>
that are more restrictive than the generic rules in this section.
        </li>
        <li>
A <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-62">DID method</a> specification <em class="rfc2119">MAY</em> specify ABNF rules for <a href="#dfn-did-fragments" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-fragments-9">DID
fragments</a> that are more restrictive than the generic rules in this section.
        </li>
      </ol>

      <div class="note" role="note" id="issue-container-generatedID-21"><div role="heading" class="note-title marker" id="h-note-11" aria-level="4"><span>Note</span><span class="issue-label">: Colons in method-specific-id</span></div><p class="">
The meaning of colons in the <code>method-specific-id</code> is entirely
method-specific. Colons might be used by <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-63">DID methods</a> for establishing
hierarchically partitioned namespaces, for identifying specific instances or
parts of the <a href="#dfn-verifiable-data-registry" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verifiable-data-registry-6">verifiable data registry</a>, or for other purposes.
Implementers are advised to avoid assuming any meanings or
behaviors associated with a colon that are generically applicable to all
<a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-64">DID methods</a>.
      </p></div>

    </section>

    <section id="method-operations">
      <h3 id="x8-2-method-operations"><bdi class="secno">8.2 </bdi>Method Operations<a class="self-link" aria-label="§" href="#method-operations"></a></h3>

      <p>
The requirements for all <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-65">DID method</a> specifications when defining the
method operations are as follows:
      </p>

      <ol>
        <li>
A <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-66">DID method</a> specification <em class="rfc2119">MUST</em> define how authorization is performed to
execute all operations, including any necessary cryptographic processes.
        </li>
        <li>
A <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-67">DID method</a> specification <em class="rfc2119">MUST</em> specify how a <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-17">DID controller</a>
creates a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-90">DID</a> and its associated <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-151">DID document</a>.
        </li>
        <li>
A <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-68">DID method</a> specification <em class="rfc2119">MUST</em> specify how a <a href="#dfn-did-resolvers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolvers-16">DID resolver</a> uses a
<a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-91">DID</a> to resolve a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-152">DID document</a>, including how the <a href="#dfn-did-resolvers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolvers-17">DID
resolver</a> can verify the authenticity of the response.
        </li>
        <li>
A <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-69">DID method</a> specification <em class="rfc2119">MUST</em> specify what constitutes an update to a
<a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-153">DID document</a> and how a <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-18">DID controller</a> can update a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-154">DID
document</a> <em>or</em> state that updates are not possible.
        </li>
        <li>
The <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-70">DID method</a> specification <em class="rfc2119">MUST</em> specify how a <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-19">DID controller</a> can
deactivate a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-92">DID</a> <em>or</em> state that deactivation is not possible.
        </li>
      </ol>

      <p>
The authority of a party that is performing authorization to carry out the
operations is specific to a <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-71">DID method</a>. For example, a <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-72">DID method</a>
might —
      </p>

      <ul>
        <li>
make use of the <code><a href="#dfn-controller" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-controller-6">controller</a></code> property.
        </li>
        <li>
use the <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-63">verification methods</a> listed under
<code><a href="#dfn-authentication" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-authentication-6">authentication</a></code>.
        </li>
        <li>
use other constructs in the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-155">DID Document</a> such as the <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-64">verification
method</a> specified via the <code><a href="#dfn-capabilityinvocation" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-capabilityinvocation-3">capabilityInvocation</a></code>
<a href="#dfn-verification-relationship" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-relationship-20">verification relationship</a>.
        </li>
        <li>
not use the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-156">DID document</a> for this decision at all, and depend on an
out-of-band mechanism, instead.
        </li>
      </ul>

    </section>

    <section id="security-requirements">
      <h3 id="x8-3-security-requirements"><bdi class="secno">8.3 </bdi>Security Requirements<a class="self-link" aria-label="§" href="#security-requirements"></a></h3>

      <p>
The requirements for all <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-73">DID method</a> specifications when authoring the
<em>Security Considerations</em> section are as follows:
      </p>

      <ol>
        <li>
A <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-74">DID method</a> specifications <em class="rfc2119">MUST</em> follow all guidelines and normative
language provided in <a href="https://tools.ietf.org/html/rfc3552#section-5">RFC3552: Writing Security
Considerations Sections</a> for the <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-93">DID</a> operations defined in the <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-75">DID
method</a> specification.
        </li>
        <li>
The Security Considerations section <em class="rfc2119">MUST</em> document the following forms of attack
for the <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-94">DID</a> operations defined in the <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-76">DID method</a> specification:
eavesdropping, replay, message insertion, deletion, modification, denial of
service, storage or network amplification, and man-in-the-middle. Other known
forms of attack <em class="rfc2119">SHOULD</em> also be documented.
        </li>
        <li>
The Security Considerations section <em class="rfc2119">MUST</em> discuss residual risks, such as the
risks from compromise in a related protocol, incorrect implementation, or cipher
after threat mitigation was deployed.
        </li>
        <li>
The Security Considerations section <em class="rfc2119">MUST</em> provide integrity protection and update
authentication for all operations required by Section <a href="#method-operations" class="sec-ref">§&nbsp;<bdi class="secno">8.2 </bdi>Method Operations</a>.
        </li>
        <li>
If authentication is involved, particularly user-host authentication, the
security characteristics of the authentication method <em class="rfc2119">MUST</em> be clearly
documented.
        </li>
        <li>
The Security Considerations section <em class="rfc2119">MUST</em> discuss the policy mechanism by which
<a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-95">DIDs</a> are proven to be uniquely assigned.
        </li>
        <li>
Method-specific endpoint authentication <em class="rfc2119">MUST</em> be discussed. Where <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-77">DID
methods</a> make use of <a href="#dfn-distributed-ledger-technology" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-distributed-ledger-technology-3">DLTs</a> with varying network topology, sometimes
offered as <em>light node</em> or <em>
<a href="https://en.bitcoin.it/wiki/Thin_Client_Security">thin client</a></em>
implementations to reduce required computing resources, the security assumptions
of the topology available to implementations of the <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-78">DID method</a> <em class="rfc2119">MUST</em> be
discussed.
        </li>
        <li>
If a protocol incorporates cryptographic protection mechanisms, the <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-79">DID
method</a> specification <em class="rfc2119">MUST</em> clearly indicate which portions of the data are
protected and by what protections, and it <em class="rfc2119">SHOULD</em> give an indication of the
sorts of attacks to which the cryptographic protection is susceptible. Some
examples are integrity only, confidentiality, and endpoint authentication.
        </li>
        <li>
Data which is to be held secret (keying material, random seeds, and so on)
<em class="rfc2119">SHOULD</em> be clearly labeled.
        </li>
        <li>
<a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-80">DID method</a> specifications <em class="rfc2119">SHOULD</em> explain and specify the implementation
of signatures on <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-157">DID documents</a>, if applicable.
        </li>
        <li>
Where <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-81">DID methods</a> use peer-to-peer computing resources, such as with all
known <a href="#dfn-distributed-ledger-technology" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-distributed-ledger-technology-4">DLTs</a>, the expected burdens of those resources <em class="rfc2119">SHOULD</em> be discussed
in relation to denial of service.
        </li>
        <li>
<a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-82">DID methods</a> that introduce new authentication <a href="#dfn-service" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-20">service</a>
types, as described in <a href="#services" class="sec-ref">§&nbsp;<bdi class="secno">5.4 </bdi>Services</a>, <em class="rfc2119">SHOULD</em> consider the
security requirements of the supported authentication protocol.
        </li>
      </ol>
    </section>

    <section class="normative" id="privacy-requirements">
      <h3 id="x8-4-privacy-requirements"><bdi class="secno">8.4 </bdi>Privacy Requirements<a class="self-link" aria-label="§" href="#privacy-requirements"></a></h3>

      <p>
The requirements for all <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-83">DID method</a> specifications when authoring the
<em>Privacy Considerations</em> section are:
      </p>

      <ol>
        <li>
The <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-84">DID method</a> specification's Privacy Considerations section <em class="rfc2119">MUST</em>
discuss any subsection of Section 5 of [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc6973" title="Privacy Considerations for Internet Protocols">RFC6973</a></cite>] that could apply in a
method-specific manner. The subsections to consider are: surveillance, stored
data compromise, unsolicited traffic, misattribution, correlation,
identification, secondary use, disclosure, and exclusion.
        </li>
      </ol>

    </section>
  </section>

  <section class="informative" id="security-considerations">
    <h2 id="x9-security-considerations"><bdi class="secno">9. </bdi>Security Considerations<a class="self-link" aria-label="§" href="#security-considerations"></a></h2><p><em>This section is non-normative.</em></p>

    <div class="note" role="note" id="issue-container-generatedID-22"><div role="heading" class="note-title marker" id="h-note-12" aria-level="3"><span>Note</span><span class="issue-label">: Note to implementers</span></div><p class="">
During the Working Draft stage, this section focuses on security topics that
should be important in early implementations. The editors are seeking feedback
on threats and threat mitigations that should be reflected in this section or
elsewhere in the spec. <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-96">DIDs</a> are designed to operate under the general
Internet threat model used by many IETF standards. We assume uncompromised
endpoints, but anticipate that messages could be read or corrupted on the
network.
    </p></div>

    <section id="choosing-did-resolvers">
      <h3 id="x9-1-choosing-did-resolvers"><bdi class="secno">9.1 </bdi>Choosing DID Resolvers<a class="self-link" aria-label="§" href="#choosing-did-resolvers"></a></h3>

      <p>
The DID Method Registry (see [<cite><a class="bibref" data-link-type="biblio" href="#bib-did-spec-registries" title="DID Specification Registries">DID-SPEC-REGISTRIES</a></cite>]) contains an informative
list of <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-85">DID method</a> names and their corresponding <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-86">DID method</a>
specifications. Implementers need to bear in mind that there is no central
authority to mandate which <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-87">DID method</a> specification is to be used with
any specific <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-88">DID method</a> name, but can use the DID Method Registry to make
an informed decision when choosing which <a href="#dfn-did-resolvers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolvers-18">DID resolver</a> implementations to
use.
      </p>
    </section>

    <section id="binding-of-identity">
      <h3 id="x9-2-binding-of-identity"><bdi class="secno">9.2 </bdi>Binding of Identity<a class="self-link" aria-label="§" href="#binding-of-identity"></a></h3>

      <p>
The following sections describe binding identities to <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-97">DIDs</a> and
<a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-158">DID documents</a>.
      </p>

      <section id="proving-control-of-a-did-and-did-document">
        <h4 id="x9-2-1-proving-control-of-a-did-and-did-document"><bdi class="secno">9.2.1 </bdi>Proving Control of a DID and DID Document<a class="self-link" aria-label="§" href="#proving-control-of-a-did-and-did-document"></a></h4>

        <div class="issue" id="issue-container-number-583"><div role="heading" class="issue-title marker" id="h-issue-9" aria-level="5"><a href="https://github.com/w3c/did-core/issues/583"><span class="issue-number">Issue 583</span></a><span class="issue-label" aria-label="This issue is labelled as editorial and ready for PR.">: Proving Control sections are wrong <a class="respec-gh-label" href="https://github.com/w3c/did-core/issues/?q=is%3Aissue+is%3Aopen+label%3A%22editorial%22" style="background-color: rgb(126, 181, 32); color: rgb(255, 255, 255);">editorial</a><a class="respec-gh-label" href="https://github.com/w3c/did-core/issues/?q=is%3Aissue+is%3Aopen+label%3A%22ready+for+PR%22" style="background-color: rgb(83, 25, 231); color: rgb(255, 255, 255);">ready for PR</a></span></div><p class="">
This section is inaccurate and needs revision.
        </p></div>

        <p>
Signatures and <a href="#dfn-verifiable-timestamp" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verifiable-timestamp-1">verifiable timestamps</a> allow <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-159">DID documents</a> to be
cryptographically verifiable.
        </p>

        <p>
By itself, a verified signature on a self-signed <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-160">DID document</a> does not
prove control of a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-98">DID</a>. It only proves that the:
        </p>

        <ul>
          <li>
<a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-161">DID document</a> was not tampered with since it was timestamped.
          </li>

          <li>
<a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-20">DID controller(s)</a> controlled the private key used for the signature at
the time the timestamp was created.
          </li>
        </ul>

        <p>
Proving control of a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-99">DID</a>, that is, the <a href="#dfn-binding" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-binding-1">binding</a> between the <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-100">DID</a>
and the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-162">DID document</a> that describes it, requires a two step process:
        </p>

        <ol start="1">
          <li>
Resolving the <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-101">DID</a> to a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-163">DID document</a> according to its
<a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-89">DID method</a> specification.
          </li>

          <li>
Verifying that the <code><a href="#dfn-id" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-id-8">id</a></code> property of the resulting <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-164">DID
document</a> matches the <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-102">DID</a> that was resolved.
          </li>
        </ol>

        <p>
It should be noted that this process proves control of a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-103">DID</a> and
<a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-165">DID document</a> regardless of whether the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-166">DID document</a> is signed.
        </p>

        <p>
Signatures on <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-167">DID documents</a> are optional. <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-90">DID method</a>
specifications are expected to explain and specify their implementation if
applicable.
        </p>
      </section>

      <section id="proving-control-of-a-public-key">
        <h4 id="x9-2-2-proving-control-of-a-public-key"><bdi class="secno">9.2.2 </bdi>Proving Control of a Public Key<a class="self-link" aria-label="§" href="#proving-control-of-a-public-key"></a></h4>

        <div class="issue" id="issue-container-number-583-0"><div role="heading" class="issue-title marker" id="h-issue-10" aria-level="5"><a href="https://github.com/w3c/did-core/issues/583"><span class="issue-number">Issue 583</span></a><span class="issue-label" aria-label="This issue is labelled as editorial and ready for PR.">: Proving Control sections are wrong <a class="respec-gh-label" href="https://github.com/w3c/did-core/issues/?q=is%3Aissue+is%3Aopen+label%3A%22editorial%22" style="background-color: rgb(126, 181, 32); color: rgb(255, 255, 255);">editorial</a><a class="respec-gh-label" href="https://github.com/w3c/did-core/issues/?q=is%3Aissue+is%3Aopen+label%3A%22ready+for+PR%22" style="background-color: rgb(83, 25, 231); color: rgb(255, 255, 255);">ready for PR</a></span></div><p class="">
This section is inaccurate and needs revision.
        </p></div>

        <p>
There are two methods for proving control of the private key corresponding to a
<a href="#dfn-public-key-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-public-key-description-2">public key description</a> in the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-168">DID document</a>: static and dynamic.
        </p>

        <p>
The static method is to sign the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-169">DID document</a> with the private key. This
proves control of the private key at a time no later than the
<a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-170">DID document</a> was registered. If the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-171">DID document</a> is not signed,
control of a public key described in the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-172">DID document</a> can still be proven
dynamically as follows:
        </p>

        <ol start="1">
          <li>
Send a challenge message containing a <a href="#dfn-public-key-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-public-key-description-3">public key description</a> from the
<a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-173">DID document</a> and a nonce to an appropriate <a href="#dfn-service-endpoints" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-endpoints-4">service endpoint</a>
described in the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-174">DID document</a>.
          </li>

          <li>
Verify the signature of the response message against the
<a href="#dfn-public-key-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-public-key-description-4">public key description</a>.
          </li>
        </ol>
      </section>

      <section id="real-world-identity">
        <h4 id="x9-2-3-real-world-identity"><bdi class="secno">9.2.3 </bdi>Real-World Identity<a class="self-link" aria-label="§" href="#real-world-identity"></a></h4>

        <p>
A <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-104">DID</a> and <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-175">DID document</a> do not inherently carry any
<a href="https://en.wikipedia.org/wiki/Personal_data">
personal data</a>.
        </p>

        <p>
It can be useful to express a binding of <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-105">DID</a> to a person's or company's
real world identity, in a way that is provably asserted by a trusted authority
such as a government. This can enable interactions that can be considered
legally valid under one or more jurisdictions; establishing such bindings has to
be carefully balanced against privacy considerations (see <a href="#privacy-considerations" class="sec-ref">§&nbsp;<bdi class="secno">10. </bdi>Privacy Considerations</a>).
        </p>

        <p>
The process of binding a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-106">DID</a> to something in the real world, such as a
person or a company, for example using <a href="#dfn-verifiable-credentials" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verifiable-credentials-4">verifiable credentials</a> with the
same subject as that <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-107">DID</a>, is out of scope for this specification. For
more information, see the Verifiable Credentials Data Model [<cite><a class="bibref" data-link-type="biblio" href="#bib-vc-data-model" title="Verifiable Credentials Data Model 1.0">VC-DATA-MODEL</a></cite>].
        </p>
      </section>
    </section>

    <section id="authentication-service-endpoints">
      <h3 id="x9-3-authentication-service-endpoints"><bdi class="secno">9.3 </bdi>Authentication Service Endpoints<a class="self-link" aria-label="§" href="#authentication-service-endpoints"></a></h3>

      <p>
If a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-176">DID document</a> publishes a <a href="#dfn-service" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-21">service</a> intended for
authentication or authorization of the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-50">DID subject</a> (see Section <a href="#services" class="sec-ref">§&nbsp;<bdi class="secno">5.4 </bdi>Services</a>), it is the responsibility of the <a href="#dfn-service-endpoints" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-endpoints-5">service
endpoint</a> provider, subject, or requesting party to comply with the
requirements of the authentication protocols supported at that <a href="#dfn-service-endpoints" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-endpoints-6">service
endpoint</a>.
      </p>
    </section>

    <section id="non-repudiation">
      <h3 id="x9-4-non-repudiation"><bdi class="secno">9.4 </bdi>Non-Repudiation<a class="self-link" aria-label="§" href="#non-repudiation"></a></h3>

      <p>
Non-repudiation of <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-108">DIDs</a> and <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-177">DID document</a> updates is supported
under the assumption that the subject:
      </p>

      <ul>
        <li>
Is monitoring for unauthorized updates (see Section
<a href="#notification-of-did-document-changes" class="sec-ref">§&nbsp;<bdi class="secno">9.5 </bdi>Notification of DID Document Changes</a>).
        </li>
        <li>
Has had adequate opportunity to revert malicious updates according to the
access control mechanism for the <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-91">DID method</a> (see Section
<a href="#authentication" class="sec-ref">§&nbsp;<bdi class="secno">5.3.1 </bdi>Authentication</a>).
        </li>
      </ul>

      <p>
Non-repudiation is further supported if timestamps are included (see Section
<a href="#did-document-metadata" class="sec-ref">§&nbsp;<bdi class="secno">7.1.3 </bdi>DID Document Metadata</a>) and the target <a href="#dfn-distributed-ledger-technology" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-distributed-ledger-technology-5">DLT</a>
system supports timestamps.
      </p>
    </section>

    <section id="notification-of-did-document-changes">
      <h3 id="x9-5-notification-of-did-document-changes"><bdi class="secno">9.5 </bdi>Notification of DID Document Changes<a class="self-link" aria-label="§" href="#notification-of-did-document-changes"></a></h3>

      <p>
One mitigation against unauthorized changes to a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-178">DID document</a> is
monitoring and actively notifying the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-51">DID subject</a> when there are changes.
This is analogous to helping prevent account takeover on conventional
username/password accounts by sending password reset notifications to the email
addresses on file.
      </p>
      <p>
In the case of a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-109">DID</a>, there is no intermediary registrar or account
provider to generate such notifications. However, if the <a href="#dfn-verifiable-data-registry" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verifiable-data-registry-7">verifiable data
registry</a> on which the <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-110">DID</a> is registered directly supports change
notifications, a subscription service can be offered to <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-21">DID controllers</a>.
Notifications could be sent directly to the relevant <a href="#dfn-service-endpoints" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-endpoints-7">service endpoints</a>
listed in an existing <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-111">DID</a>.
      </p>
      <p>
If a <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-22">DID controller</a> chooses to rely on a third-party monitoring service
(other than the <a href="#dfn-verifiable-data-registry" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verifiable-data-registry-8">verifiable data registry</a> itself), this introduces another
vector of attack.
      </p>
    </section>

    <section id="key-and-signature-expiration">
      <h3 id="x9-6-key-and-signature-expiration"><bdi class="secno">9.6 </bdi>Key and Signature Expiration<a class="self-link" aria-label="§" href="#key-and-signature-expiration"></a></h3>

      <p>
In a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-112">decentralized identifier</a> architecture, there are no centralized
authorities to enforce key or signature expiration policies. Therefore
<a href="#dfn-did-resolvers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolvers-19">DID resolvers</a> and requesting parties need to validate that keys
were not expired at the time they were used. Because some use cases have
legitimate reasons why already-expired keys can be extended, make sure key
expiration does not prevent any further use of the key. Implementations
of a resolver ought to be compatible with such extension behavior.
      </p>
    </section>

    <section id="verification-method-rotation">

      <h3 id="x9-7-verification-method-rotation"><bdi class="secno">9.7 </bdi>Verification Method Rotation<a class="self-link" aria-label="§" href="#verification-method-rotation"></a></h3>

      <p>Verification method rotation is a proactive security measure.</p>

      <p>
        Verification method rotation applies only to the current or latest
        version of a DID Document.
      </p>

      <p>
        When a verification method has been active for a long time, or used
        for many operations, a controller might wish to perform a rotation.
      </p>

      <p class="advisement">
        It is considered a best practice to perform verification method
        rotation on a regular basis.
      </p>


      <p class="advisement">
        Proofs or signatures that rely on verification methods that are not
        present in the latest version of a DID Document are not impacted by
        rotation, and might require additional information to mitigate compromise.
      </p>

      <p>
        Section <a href="#method-operations" class="sec-ref">§&nbsp;<bdi class="secno">8.2 </bdi>Method Operations</a> specifies the
        <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-113">DID</a> operations to be supported by a
        <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-92">DID method</a> specification, including
        <a href="#method-operations">update</a>
        which is expected to be used to perform a verification method rotation.
      </p>

      <p>
        A controller performs a rotation when they add a new verification
        method that is meant to replace an existing verification method after
        some time.
      </p>

      <p>Not all DID Methods support verification method rotation.</p>

      <p>
        Rotation is a key management process that enables the private cryptographic
        material associated with an existing verification method to be deactivated
        or destroyed once a new verification method has been added to the DID
        Document. Going forward, any new proofs that a controller would have generated
        using the old cryptographic material can now instead be generated using the new
        material and can be verified using the new verification method.
      </p>

      <p>
        Rotation is a useful mechanism for protecting against verification
        method compromise, since frequent rotation of a verification method by
        the controller reduces the value of a single compromised verification method
        to an attacker. Performing revocation immediately after rotation is
        useful for verification methods that a controller designates for
        short-lived verifications, such as those involved in encrypting messages
        and authentication.
      </p>

      <div class="note" role="note" id="issue-container-generatedID-23"><div role="heading" class="note-title marker" id="h-note-13" aria-level="4"><span>Note</span></div><p class="">
        Higher security environments tend to employ more frequent verification
        method rotation.
      </p></div>

      <div class="note" role="note" id="issue-container-generatedID-24"><div role="heading" class="note-title marker" id="h-note-14" aria-level="4"><span>Note</span></div><p class="">
        Frequent rotation of a verification method might be frustrating for
        parties that are forced to continuously renew or refresh associated
        credentials.
      </p></div>
    </section>

    <section id="verification-method-revocation">

      <h3 id="x9-8-verification-method-revocation"><bdi class="secno">9.8 </bdi>Verification Method Revocation<a class="self-link" aria-label="§" href="#verification-method-revocation"></a></h3>

      <p>
Verification method revocation is a reactive security measure.
      </p>

      <p>
Verification method revocation applies only to the current or latest
version of a DID Document.
      </p>

      <p>
        If a verification method is no longer exclusively accessible to the
        controller or parties trusted to act on behalf of the controller, it
        is expected to be revoked immediately to reduce the risk of masquerading, theft,
        and fraud.
      </p>

      <p class="advisement">
It is considered a best practice to support key revocation.
      </p>

      <p class="advisement">
A controller is expected to immediately revoke any verification method that is believed to
be compromised.
      </p>

      <p class="advisement">
Revocation is expected to be understood as a controller expressing
that proofs or signatures associated with a revoked verification method
might have been created by an attacker. Verifiers, however, might
still choose to accept or reject such proofs or signatures at their
own discretion.
      </p>

      <div class="note" role="note" id="issue-container-generatedID-25"><div role="heading" class="note-title marker" id="h-note-15" aria-level="4"><span>Note</span></div><p class="">
As described in <a href="#verification-material" class="sec-ref">§&nbsp;<bdi class="secno">5.2.1 </bdi>Verification Material</a>,
absence of a verification method is the only form of revocation that
applies to all DID Methods.
      </p></div>

      <p>
<a href="#method-operations" class="sec-ref">§&nbsp;<bdi class="secno">8.2 </bdi>Method Operations</a> specifies the <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-114">DID</a> operations to be
supported by a <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-93">DID method</a> specification, including <a href="#method-operations">update</a> and <a href="#method-operations">
deactivate</a> which might be used to remove verification method from a DID
Document.
      </p>

      <p>
Not all DID Methods support verification method revocation.
      </p>

      <p>
Even if a verification method is present in a DID Document, additional
information, such as a public key revocation certificate, or an external
allow or deny list, might be used to determine whether a verification
method has been revoked.
      </p>

      <div class="note" role="note" id="issue-container-generatedID-26"><div role="heading" class="note-title marker" id="h-note-16" aria-level="4"><span>Note</span></div><p class="">
Compromise of the secrets associated with a verification method
allows the attacker to use them according to the verification
relationship expressed by controller in the DID Document, for
example, for authentication. The attacker's use of the secrets might
be indistinguishable from the legitimate controller's use starting
from the time the verification method was registered, to the time it
was revoked.
      </p></div>

      <div class="note" role="note" id="issue-container-generatedID-27"><div role="heading" class="note-title marker" id="h-note-17" aria-level="4"><span>Note</span></div><p class="">
The day-to-day operation of any software relying on a compromised verification
method, such as an individual's operating system, antivirus, or endpoint protection
software, might be impacted when the verification method is publicly revoked.
      </p></div>

      <div class="note" role="note" id="issue-container-generatedID-28"><div role="heading" class="note-title marker" id="h-note-18" aria-level="4"><span>Note</span></div><p class="">
Although verifiers might choose not to accept proofs or signatures from a revoked verification method,
knowing whether a verification was made with a revoked verification method is trickier than it might seem.
Some DID methods provide the ability to look back at the state of a DID at a point in time,
or at a particular version of the DID document. When such a feature is
combined with a reliable way to determine the time or DID version that existed
when a cryptographically verifiable statement was made, then revocation
does not undo that statement. This can be the basis for using DIDs to make
binding commitments (e.g., to sign a mortgage).
<br><br>
If these conditions are met, revocation is not retroactive; it only nullifies future use of the method.
<br><br>
However, in order for such semantics to be safe, the second condition —
an ability to know what the state of the DID document was at the time the
assertion was made — is expected to apply. Without that guarantee, someone
could discover a revoked key and use it to make cryptographically
verifiable statements with a simulated date in the past.
<br><br>
Some DID methods only allow the retrieval of the current state of a DID.
When this is true, or when the state of a DID at the time of
cryptographically verifiable statement cannot be reliably determined,
then the only safe interpretation of revocation is to make it
apply both forward and backward in time. DID ecosystems that
take this approach essentially provide cryptographically verifiable
statements as ephemeral tokens that can be invalidated at any time by
the DID controller.
      </p></div>
    </section>


    <div class="note" role="note" id="issue-container-generatedID-29"><div role="heading" class="note-title marker" id="h-note-19" aria-level="3"><span>Note</span></div><div class="">
      <p>
Trustless systems are those where all trust is derived from cryptographically
provable assertions, and more specifically, where no metadata outside of the
cryptographic system is factored into the determination of trust in the system.
To verify a signature of proof for a verification method which has been revoked
in a trustless system, a DID method needs to support either or both of the
<code>versionId</code> or <code>versionTime</code>, as well as both the <code>updated</code> and <code>nextUpdate</code>,
DID document metadata properties. A verifier can validate a signature or proof
of a revoked key if and only if all of the following are true:
      </p>
      <ul>
        <li>
The proof or signature includes the <code>versionId</code> or <code>versionTime</code> of the DID
document that was used at the point the signature or proof was created.
        </li>
        <li>
The verifier can determine the point in time at which the signature or proof
was made, e.g., it was anchored on a blockchain.
        </li>
        <li>
For the resolved DID document metadata, the <code>updated</code> timestamp is before, and
the <code>nextUpdate</code> timestamp is after, the point in time at which the signature or
proof was made.
        </li>
      </ul>
    </div></div>

    <section id="did-recovery">
      <h3 id="x9-9-did-recovery"><bdi class="secno">9.9 </bdi>DID Recovery<a class="self-link" aria-label="§" href="#did-recovery"></a></h3>

      <p>
        Recovery is a reactive security measure, whereby a controller is able
        to regain the ability to perform DID operations.
      </p>

      <p class="advisement">
        Recovery is advised when a controller or services trusted to act on
        their behalf no longer have the exclusive ability to perform DID
        operations as described in <a href="#method-operations" class="sec-ref">§&nbsp;<bdi class="secno">8.2 </bdi>Method Operations</a>.
      </p>

      <p class="advisement">
        It is considered a best practice to never reuse a verification method
        or key material associated with recovery for any other purposes.
      </p>

      <p>
        Recovery is commonly performed in conjunction with
        <a href="#verification-method-rotation">verification method rotation</a>
        and <a href="#verification-method-revocation">verification method revocation</a>.
      </p>

      <p>
        There are no common recovery mechanisms that apply to all DID Methods.
      </p>

      <p>
        <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-94">DID method</a> specifications might choose to enable support for a
        quorum of trusted parties to facilitate recovery. Some of the
        facilities to do so are suggested in Section
        <a href="#did-controller" class="sec-ref">§&nbsp;<bdi class="secno">5.1.2 </bdi>DID Controller</a>.
      </p>

      <p>
        Not all <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-95">DID method</a> specifications will recognize control from
        <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-115">DIDs</a> registered using other <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-96">DID methods</a> and they might
        restrict third-party control to <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-116">DIDs</a> that use the same method.
      </p>

      <p>
        Access control and recovery in a <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-97">DID method</a>
        specification can also include a time lock feature to protect against
        key compromise by maintaining a second track of control for recovery.
      </p>

      <div class="note" role="note" id="issue-container-generatedID-30"><div role="heading" class="note-title marker" id="h-note-20" aria-level="4"><span>Note</span></div><p class="">
        Performing recovery proactively on an infrequent but regular basis,
        can help to ensure that control has not been lost.
      </p></div>
    </section>

    <section id="the-role-of-human-friendly-identifiers">
      <h3 id="x9-10-the-role-of-human-friendly-identifiers"><bdi class="secno">9.10 </bdi>The Role of Human-Friendly Identifiers<a class="self-link" aria-label="§" href="#the-role-of-human-friendly-identifiers"></a></h3>

      <p>
<a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-117">DIDs</a> achieve global uniqueness without the need for a central
registration authority. This comes at the cost of human memorability.
The algorithms capable of generating globally unique identifiers
produce random strings of characters that have no human meaning (see also
<a href="https://en.wikipedia.org/wiki/Zooko%27s_triangle">Zooko's
Triangle</a>).
      </p>

      <p>
There are use cases where it is desirable to discover a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-118">DID</a> when
starting from a human-friendly identifier. For example, a natural language
name, a domain name, or a conventional address for a <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-23">DID controller</a>,
such as a mobile telephone number, email address, social media username, or
blog URL. However, the problem of mapping human-friendly identifiers to
<a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-119">DIDs</a> (and doing so in a way that can be verified and trusted) is
outside the scope of this specification.
      </p>

      <p>
Solutions to this problem should be defined in separate specifications that
reference this specification. It is strongly recommended that such
specifications carefully consider the:
      </p>

      <ul>
        <li>
Numerous security attacks based on deceiving users about the true human-friendly
identifier for a target entity.
        </li>
        <li>
Privacy consequences of using human-friendly identifiers that are inherently
correlatable, especially if they are globally unique.
        </li>
      </ul>

      <div class="note" role="note" id="issue-container-generatedID-31"><div role="heading" class="note-title marker" id="h-note-21" aria-level="4"><span>Note</span></div><p class="">
A draft specification for discovering a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-120">DID</a> from domain names and email
addresses using DNS lookups is available at [<cite><a class="bibref" data-link-type="biblio" href="#bib-dns-did" title="The Decentralized Identifier (DID) in the DNS">DNS-DID</a></cite>].
      </p></div>
    </section>

    <section id="dids-as-enhanced-urns">
      <h3 id="x9-11-dids-as-enhanced-urns"><bdi class="secno">9.11 </bdi>DIDs as Enhanced URNs<a class="self-link" aria-label="§" href="#dids-as-enhanced-urns"></a></h3>

      <p>
If desired by a <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-24">DID controller</a>, a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-121">DID</a> is capable of acting
as an enhanced Uniform Resource Name (URN) as defined by [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8141" title="Uniform Resource Names (URNs)">RFC8141</a></cite>], i.e.,
"a persistent, location-independent resource identifier". <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-122">DIDs</a> used in
this way provide a cryptographically secure, location-independent identifier for
a digital resource, while also providing metadata that enables retrieval.
Because of the indirection between the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-179">DID document</a> and the <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-123">DID</a>
itself, the <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-25">DID controller</a> can adjust the actual location of the resource
— or even provide the resource directly — without adjusting the
<a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-124">DID</a>. <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-125">DIDs</a> of this type can definitively verify that the resource
retrieved is, in fact, the resource identified.
      </p>
      <p>
A <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-26">DID controller</a> who intends to use a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-126">DID</a> for this purpose is
advised to follow the security considerations in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8141" title="Uniform Resource Names (URNs)">RFC8141</a></cite>]. In particular:
      </p>
      <ul>
        <li>
The <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-27">DID controller</a> is expected to choose a <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-98">DID method</a> that
supports the controller's requirements for persistence. The Decentralized
Characteristics Rubric [<cite><a class="bibref" data-link-type="biblio" href="#bib-did-rubric" title="Decentralized Characteristics Rubric v1.0">DID-RUBRIC</a></cite>] is one tool available to help
implementers decide upon the most suitable <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-99">DID method</a>.
        </li>
        <li>
The <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-28">DID controller</a> is expected to publish its operational policies so
relying parties can determine the degree to which they can rely on the
persistence of a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-127">DID</a> controlled by that <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-29">DID controller</a>. In the
absence of such policies, relying parties are not expected to make any
assumption about whether a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-128">DID</a> is a persistent identifier for the same
<a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-52">DID subject</a>.
        </li>
      </ul>
    </section>

    <section id="immutability">
      <h3 id="x9-12-immutability"><bdi class="secno">9.12 </bdi>Immutability<a class="self-link" aria-label="§" href="#immutability"></a></h3>

      <p>
Many cybersecurity abuses hinge on exploiting gaps between reality and the
assumptions of rational, good-faith actors. Immutability of <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-180">DID documents</a> can
provide some security benefits. Individual <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-100">DID methods</a> ought to
consider constraints that would eliminate behaviors or semantics they do not
need. The more <em>locked down</em> a <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-101">DID method</a> is, while providing
the same set of features, the less it can be manipulated by malicious actors.
      </p>
      <p>
As an example, consider that a single edit to a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-181">DID document</a> can change
anything except the root <code><a href="#dfn-id" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-id-9">id</a></code> property of the document. But
is it actually desirable for a <a href="#dfn-service" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-22">service</a> to change its
<code>type</code> after it is defined? Or for a key to change its value? Or
would it be better to require a new <code><a href="#dfn-id" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-id-10">id</a></code> when certain
fundamental properties of an object change? Malicious takeovers of a website
often aim for an outcome where the site keeps its identifier (the host name),
but is subtly changed underneath. If certain properties of the site were
required by the specification to be immutable (for example, the <a target="_blank" href="https://en.wikipedia.org/wiki/Autonomous_system_(Internet)">ASN</a>
associated with its IP address), such attacks might be much harder and more
expensive to carry out, and anomaly detection would be easier.
      </p>
      <p>
For <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-102">DID methods</a> tied to a global source of truth, a direct,
just-in-time lookup of the latest version of a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-182">DID document</a> is always
possible. However, it seems likely that layers of cache might eventually sit
between a <a href="#dfn-did-resolvers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolvers-20">DID resolver</a> and that source of truth. If they do, believing
the attributes of an object in the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-183">DID document</a> to have a given state
when they are actually subtly different might invite exploits. This is
particularly true if some lookups are of a full <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-184">DID document</a>, and
others are of partial data where the larger context is assumed.
      </p>
    </section>

    <section id="encrypted-data-in-did-documents">
      <h3 id="x9-13-encrypted-data-in-did-documents"><bdi class="secno">9.13 </bdi>Encrypted Data in DID Documents<a class="self-link" aria-label="§" href="#encrypted-data-in-did-documents"></a></h3>
      <p>
Encryption algorithms have been known to fail due to advances in cryptography
and computing power. Implementers are advised to assume that any encrypted
data placed in a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-185">DID document</a> might eventually be made available in
clear text to the same audience to which the encrypted data is available.
This is particularly pertinent if the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-186">DID document</a> is public.
      </p>
      <p>
Encrypting all or parts of <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-187">DID documents</a> is <em>not</em> an appropriate means
to protect data in the long term. Similarly, placing encrypted data in <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-188">DID
documents</a> is not an appropriate means to include personal data.
      </p>
      <p>
Given the caveats above, if encrypted data is included in a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-189">DID document</a>,
implementers are advised to not encrypt with the public keys of entities that
do not wish to be correlated with the <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-129">DID</a>.
      </p>

    </section>

    <section id="equivalence-properties">
      <h3 id="x9-14-equivalence-properties"><bdi class="secno">9.14 </bdi>Equivalence Properties<a class="self-link" aria-label="§" href="#equivalence-properties"></a></h3>
      <p>
The three equivalence properties—<code><a href="#dfn-alsoknownas" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-alsoknownas-7">alsoKnownAs</a></code>, <code><a href="#dfn-equivalentid" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-equivalentid-13">equivalentId</a></code>, and
<code><a href="#dfn-canonicalid" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-canonicalid-12">canonicalId</a></code>—are subject to special security considerations
related to attacks against <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-130">DIDs</a> that are asserted to be equivalent.
      </p>
      <p>
The <code><a href="#dfn-equivalentid" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-equivalentid-14">equivalentId</a></code> and <code><a href="#dfn-canonicalid" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-canonicalid-13">canonicalId</a></code>
properties that constrain equivalence assertions to variants of a single <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-131">DID</a>
produced by the same <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-103">DID method</a> (e.g., <code>did:foo:123</code> ≡
<code>did:foo:hash(123)</code>) can be trusted to the extent the requesting party
trusts the <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-104">DID method</a> (and a conforming producer) itself.
      </p>
      <p>
The <code><a href="#dfn-alsoknownas" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-alsoknownas-8">alsoKnownAs</a></code> property that permits an equivalence
assertion to <a href="#dfn-uri" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-uri-22">URIs</a> that are not governed by the same <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-105">DID method</a> (or may
not be <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-132">DIDs</a> at all) cannot be trusted without performing verification steps
outside of the governing <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-106">DID method</a>. See additional guidance in
<a href="#also-known-as" class="sec-ref">§&nbsp;<bdi class="secno">5.1.3 </bdi>Also Known As</a>.
      </p>
      <p>
As with any other sensitive properties in the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-190">DID document</a> (e.g., public key
references), parties relying on any equivalence statement in a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-191">DID document</a>
should guard against the values of these properties being substituted by an
attacker after the proper verification has been performed. Any write access to a
<a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-192">DID document</a> stored in memory or disk after verification has been performed is
an attack vector that will circumvent verification unless the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-193">DID document</a> is
re-verified.
      </p>

    </section>

    <section id="content-integrity-protection">
      <h3 id="x9-15-content-integrity-protection"><bdi class="secno">9.15 </bdi>Content Integrity Protection<a class="self-link" aria-label="§" href="#content-integrity-protection"></a></h3>
      <p>
<a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-194">DID documents</a> which include external JSON-LD contexts (see
<a href="#json-ld" class="sec-ref">§&nbsp;<bdi class="secno">6.3 </bdi>JSON-LD</a>) or any other links to external machine-readable
content are vulnerable to tampering.
      </p>
      <p>
<a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-195">DID document</a> consumers can cache local static copies of JSON-LD contexts
and/or verify the integrity of external contexts against the cryptographic
hash for the context as registered in the DID Specification Registries
(see the registration process for more detail) [<cite><a class="bibref" data-link-type="biblio" href="#bib-did-spec-registries" title="DID Specification Registries">DID-SPEC-REGISTRIES</a></cite>].
      </p>
    </section>
    <section id="persistence">
      <h3 id="x9-16-persistence"><bdi class="secno">9.16 </bdi>Persistence<a class="self-link" aria-label="§" href="#persistence"></a></h3>
      <p>
DIDs are designed to be persistent such that a controller need not rely
upon a single trusted third party or administrator to maintain their
identifiers. No administrator can take control away from the controller,
nor can an administrator prevent their identifiers' use for any particular
purpose such as authentication, authorization, and attestation. No
third party can act on behalf of a controller to remove or render
inoperable an individual's (or an organization's) identifier without the
controller's consent.
      </p>
      <p>
However, it is important to note that in all DID Methods that enable
cryptographic proof-of-control, the means of proving control can always be
transferred to another party by transferring the cryptographic secrets.
Therefore, it is vital that systems relying on the persistence of an
identifier over time regularly check to ensure that the identifier is, in
fact, still under the control of the intended party.
      </p>
      <p>
Unfortunately, it is impossible to determine from the cryptography alone
whether or not the private key material associated with a given proof
mechanism has been compromised. It might well be that the expected controller
still has access to the private keys — and as such can execute a
proof-of-control as part of a verification process — while at the same time,
a bad actor also has access to (or a copy of) those same keys.
      </p>
      <p>
As such, cryptographic proof-of-control is expected to only be used as one
factor in evaluating the level of identity assurance for a given
service. DID-based authentication provides much greater assurance than a
username and password, thanks to the ability to determine control over
a secret without transmitting that secret between systems. However, it is
not infallible. Services that perform sensitive, high value, or
life-critical operations should use additional factors as appropriate.
      </p>
      <p>
In addition to potential ambiguity from use by different controllers,
it is impossible to guarantee, in general, that a given DID is being used
in reference to the same subject at any given point in time. It is
technically possible for the controller to reuse a DID for different
subjects and, more subtly, for the precise definition of the Subject
to either change over time or be misunderstood.
      </p>
      <p>
For example, consider a DID used for a sole proprietorship, receiving
various credentials used for financial transactions. To the controller,
that identifier referred to the business. As the business grows, it
eventually gets incorporated as an LLC. The controller continues using
that same DID, because to <strong>them</strong> the DID refers to the
business. However, to the state, the tax authority, and the local
municipality, the DID no longer refers to the same entity. Whether or
not the subtle shift in meaning matters to a credit provider or supplier
is necessarily up to them to decide. In many cases, as long as the bills
get paid and collections can be enforced, the shift is immaterial.
      </p>
      <p>
Because of these potential ambiguities, DIDs should be considered valid
<em>contextually</em> rather than absolutely. Their persistence does not
imply that they refer to the exact same Subject, nor that they are under the
control of the same controller. Instead, one needs to understand the context
in which the DID was created, how it is used, and consider the likely
shifts in their meaning, and adopt procedures and policies to address both
potential and inevitable semantic drift.
      </p>
    </section>

    <section id="level-of-assurance">
      <h3 id="x9-17-level-of-assurance"><bdi class="secno">9.17 </bdi>Level of Assurance<a class="self-link" aria-label="§" href="#level-of-assurance"></a></h3>

      <p>
Additional information about the security context of authentication events
is often required for compliance reasons, especially in regulated areas
such as the financial and public sectors. Examples include but are not
limited to protection of secret keys, the identity proofing process, and the
form-factor of the authenticator. For example, <a target="_blank" href="https://ec.europa.eu/info/law/payment-services-psd-2-directive-eu-2015-2366_en">
Payment services (PSD 2)</a> and <a target="_blank" href="https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=uriserv:OJ.L_.2014.257.01.0073.01.ENG">
eIDAS</a> introduce such requirements to the security context. Level of
Assurance (LoA) frameworks are classified and defined by, for example,
<a target="_blank" href="https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=uriserv:OJ.L_.2014.257.01.0073.01.ENG">
eIDAS</a>,
<a target="_blank" href="https://pages.nist.gov/800-63-3/sp800-63-3.html">
NIST 800-63-3</a> and <a target="_blank" href="https://www.iso.org/standard/45138.html">
ISO/IEC 29115:2013</a>, including their requirements for the security
context, and making recommendations on how to achieve them. This might
include strong user authentication and <a target="_blank" href="https://fidoalliance.org/fido2">FIDO2</a>/<a target="_blank" href="https://www.w3.org/TR/webauthn-2/">WebAuthn</a> can be potential
implementations. A LoA represents the level of confidence that an entity is in
fact that entity. Some regulated use cases require the implementation of a
certain LoA. Since <a href="#dfn-verification-relationship" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-relationship-21">verification relationships</a> such as <code>
<a href="#dfn-assertionmethod" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-assertionmethod-3">assertionMethod</a></code> and <code><a href="#dfn-authentication" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-authentication-7">authentication</a></code> might be
used in some of these use cases, information about the applied security context
might need to be expressed and provided to a <em>verifier</em>.
Whether and how to encode this information in the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-196">DID document</a> data model
is out of scope for this specification, but it should be noted that the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-197">DID
document</a> data model can be extended if necessary (see <a href="#extensibility">Extensibility</a> section). Section <a href="#privacy-considerations">Privacy Considerations</a> remains applicable for
such extensions.
      </p>
    </section>
  </section>

  <section class="informative" id="privacy-considerations">
    <h2 id="x10-privacy-considerations"><bdi class="secno">10. </bdi>Privacy Considerations<a class="self-link" aria-label="§" href="#privacy-considerations"></a></h2><p><em>This section is non-normative.</em></p>

    <p>
It is critically important to apply the principles of Privacy by Design
[<cite><a class="bibref" data-link-type="biblio" href="#bib-privacy-by-design" title="Privacy by Design">PRIVACY-BY-DESIGN</a></cite>] to all aspects of the <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-133">decentralized identifier</a>
architecture, because <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-134">DIDs</a> and <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-198">DID documents</a> are, by design,
administered directly by the <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-30">DID controller(s)</a>. There is no registrar,
hosting company, or other intermediate service provider to recommend or apply
additional privacy safeguards. The authors of this specification have applied
all seven Privacy by Design principles throughout its development.
Privacy in this specification is preventative not remedial, and privacy is an
embedded default.
    </p>

    <section id="keep-personal-data-private">
      <h3 id="x10-1-keep-personal-data-private"><bdi class="secno">10.1 </bdi>Keep Personal Data Private<a class="self-link" aria-label="§" href="#keep-personal-data-private"></a></h3>

      <p>
If a <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-107">DID method</a> specification is written for a public <a href="#dfn-verifiable-data-registry" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verifiable-data-registry-9">verifiable
data registry</a> where all <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-135">DIDs</a> and <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-199">DID documents</a> are publicly
available, it is <em>critical</em> that <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-200">DID documents</a> contain no
personal data.
      </p>
      <p>
Personal data can instead be placed behind <a href="#dfn-service-endpoints" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-endpoints-8">service
endpoints</a> under control of the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-53">DID subject</a> or <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-31">DID controller</a>.
Due diligence should be taken around the use of URLs in <a href="#dfn-service-endpoints" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-endpoints-9">service endpoints</a>
to prevent leakage of personal data or correlation within a URL
of a <a href="#dfn-service-endpoints" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-endpoints-10">service endpoint</a>. For example, a URL that contains a username is
dangerous to include in a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-201">DID Document</a> because the username is likely
to be human-meaningful in a way that can reveal information
that the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-54">DID subject</a> did not consent to sharing. With this privacy
architecture, personal data can be exchanged on a private, peer-to-peer basis
using communications channels identified and secured by <a href="#dfn-public-key-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-public-key-description-5">public key
descriptions</a> in <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-202">DID documents</a>. This also enables <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-55">DID
subjects</a> and requesting parties to implement the <a href="https://en.wikipedia.org/wiki/General_Data_Protection_Regulation">GDPR</a>
<a href="https://en.wikipedia.org/wiki/Right_to_be_forgotten">right to be
forgotten</a>, because no personal data is written to an immutable
<a href="#dfn-distributed-ledger-technology" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-distributed-ledger-technology-6">distributed ledger</a>.
      </p>
    </section>

    <section id="did-correlation-risks-and-pseudonymous-dids">
      <h3 id="x10-2-did-correlation-risks-and-pseudonymous-dids"><bdi class="secno">10.2 </bdi>DID Correlation Risks and Pseudonymous DIDs<a class="self-link" aria-label="§" href="#did-correlation-risks-and-pseudonymous-dids"></a></h3>

      <p>
Like any type of globally unique identifier, <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-136">DIDs</a> might be used for
correlation. <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-32">DID controllers</a> can mitigate this privacy risk by using
pairwise unique <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-137">DIDs</a>, that is, sharing a different private <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-138">DID</a> for
every relationship. In effect, each <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-139">DID</a> acts as a pseudonym. A
pseudonymous <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-140">DID</a> need only be shared with more than one party when
the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-56">DID subject</a> explicitly authorizes correlation between those parties.
If pseudonymous <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-141">DIDs</a> are the default, then the only need for a public
<a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-142">DID</a> (a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-143">DID</a> published openly or shared with a large number of
parties) is when the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-57">DID subject</a> explicitly desires public
identification.
      </p>
    </section>

    <section id="did-document-correlation-risks">
      <h3 id="x10-3-did-document-correlation-risks"><bdi class="secno">10.3 </bdi>DID Document Correlation Risks<a class="self-link" aria-label="§" href="#did-document-correlation-risks"></a></h3>

      <p>
The anti-correlation protections of pseudonymous <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-144">DIDs</a> are easily defeated
if the data in the corresponding <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-203">DID documents</a> can be correlated. For
example, using same <a href="#dfn-public-key-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-public-key-description-6">public key descriptions</a> or bespoke
<a href="#dfn-service-endpoints" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-endpoints-11">service endpoints</a> in multiple <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-204">DID documents</a> can provide as much
correlation information as using the same <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-145">DID</a>. Therefore the
<a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-205">DID document</a> for a pseudonymous <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-146">DID</a> also needs to use pairwise
unique public keys.

It might seem natural to also use pairwise unique <a href="#dfn-service-endpoints" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-endpoints-12">service endpoints</a> in
the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-206">DID document</a> for a pseudonymous <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-147">DID</a>. However, unique endpoints
allow all traffic between two <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-148">DIDs</a> to be isolated perfectly into unique
buckets, where timing correlation and similar analysis is easy. Therefore, a
better strategy for endpoint privacy might be to share an endpoint among
thousands or millions of <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-149">DIDs</a> controlled by many different subjects.
See also <a href="#herd-privacy" class="sec-ref">§&nbsp;<bdi class="secno">10.5 </bdi>Herd Privacy</a>.
      </p>
    </section>

    <section id="assigning-a-type-to-the-did-subject">
      <h3 id="x10-4-assigning-a-type-to-the-did-subject"><bdi class="secno">10.4 </bdi>Assigning a type to the DID subject<a class="self-link" aria-label="§" href="#assigning-a-type-to-the-did-subject"></a></h3>
      <p>
It is dangerous to add properties to the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-207">DID document</a> that can be used
to indicate, explicitly or through inference, what <em>type</em> or nature of
thing the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-58">DID subject</a> is, particularly if the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-59">DID subject</a> is a
person.
      </p>
      <p>
Not only do such properties potentially result in personal data (see
<a href="#keep-personal-data-private" class="sec-ref">§&nbsp;<bdi class="secno">10.1 </bdi>Keep Personal Data Private</a>) or
correlatable data (see <a href="#did-correlation-risks-and-pseudonymous-dids" class="sec-ref">§&nbsp;
<bdi class="secno">10.2 </bdi>DID Correlation Risks and Pseudonymous DIDs</a> and <a href="#did-document-correlation-risks" class="sec-ref">§&nbsp;<bdi class="secno">10.3 </bdi>DID Document Correlation Risks</a>) being present in the
<a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-208">DID document</a>, but they can be used for grouping particular <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-150">DIDs</a>
in such a way that they are included in or excluded from certain operations or
functionalities.
      </p>
      <p>
Including <em>type</em> information in a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-209">DID Document</a> can
result in personal privacy harms even for <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-60">DID Subjects</a> that are
non-person entities, such as IoT devices. The aggregation of such
information around a <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-33">DID Controller</a> could serve as a form of
digital fingerprint and this is best avoided.
      </p>
      <p>
To minimize these risks, all properties in a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-210">DID document</a> ought to be
for expressing cryptographic material, endpoints, or <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-65">verification methods</a>
related to using the <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-151">DID</a>.
      </p>

    </section>

    <section id="herd-privacy">
      <h3 id="x10-5-herd-privacy"><bdi class="secno">10.5 </bdi>Herd Privacy<a class="self-link" aria-label="§" href="#herd-privacy"></a></h3>

      <p>
When a <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-61">DID subject</a> is indistinguishable from others in the herd,
privacy is available. When the act of engaging privately with another party is
by itself a recognizable flag, privacy is greatly diminished.
      </p>
      <p>
<a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-152">DIDs</a> and <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-108">DID
methods</a> need to work to improve herd privacy, particularly for those who
legitimately need it most. Choose technologies and human interfaces that
default to preserving anonymity and pseudonymity. To reduce <a href="https://en.wikipedia.org/wiki/Device_fingerprint">digital
fingerprints</a>, share common settings across requesting party
implementations, keep negotiated options to a minimum on wire protocols, use
encrypted transport layers, and pad messages to standard lengths.
      </p>
    </section>

    <section id="service-privacy">
      <h3 id="x10-6-service-privacy"><bdi class="secno">10.6 </bdi>Service Privacy<a class="self-link" aria-label="§" href="#service-privacy"></a></h3>
      <p>
The ability for a controller to optionally state at least one <a href="#dfn-service-endpoints" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-endpoints-13">service endpoint</a>
in the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-211">DID document</a> increases their control and agency. Each additional
endpoint in the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-212">DID document</a> adds privacy risk either due to correlation
(e.g., across endpoint descriptions) or because the <a href="#dfn-service" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-23">services</a> are not
protected by an authorization mechanism, or both.
      </p>
      <p>
<a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-213">DID documents</a> are often public and will be stored and indexed efficiently by
their very standards-based nature. This risk is worse if <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-214">DID documents</a> are
published to immutable Verifiable Data Registries. Access to a history of the
<a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-215">DID documents</a> referenced by a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-153">DID</a> represents a form of traffic analysis made
more efficient through the use of standards.
      </p>
      <p>
The degree of additional privacy risk caused by using multiple <a href="#dfn-service-endpoints" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-endpoints-14">service
endpoints</a> in one <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-216">DID document</a> can be difficult to estimate. Privacy
harms are typically unintended consequences. <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-154">DIDs</a> can identify documents,
<a href="#dfn-service" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-24">services</a>, schemas, and other things that may be associated
with individual people, households, clubs, and employers — and
correlation of their <a href="#dfn-service-endpoints" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-endpoints-15">service endpoints</a> could become a powerful
surveillance and inference tool. An example of this is that including multiple common country-level top level domain such as <code>https://example.co.uk</code> could be used to infer the approximate location of the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-62">DID Subject</a> with a greater degree of probability.
      </p>
      <p>
The variety of possible endpoints makes it particularly challenging to maintain
herd privacy, in which no information about the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-63">DID subject</a> is leaked.
      </p>
      <p>
First, because service endpoints may be specified as <a href="#dfn-uri" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-uri-23">URIs</a>, they could
unintentionally leak personal information because of the architecture of the service.
For example, a service endpoint of <code>https://example.com/MyFirstName</code> is leaking the term
<code>MyFirstName</code> to everyone who can access the DID Document. When linking to legacy systems,
this is an unavoidable risk and care should be taken in such cases. We encourage new,
DID-aware endpoints to use nothing more than the DID itself for any identification necessary,
e.g., <code>https://example.com/did%3Aexample%3Aabc123</code>. Since that <code>did:example:abc123</code> is already
exposed in the DID Document, it leaks no additional information.
      </p>

      <p>
Second, because a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-217">DID document</a> can list multiple service endpoints, it is possible to
irreversibly associate services that are not associated in any other context. This
correlation on its own may lead to de-anonymization, revealing information about the
<a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-64">DID subject</a> even if the <a href="#dfn-uri" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-uri-24">URIs</a> used did not.
      </p>
      <p>
Third, because some types of <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-65">DID subjects</a> may be more or less likely to list specific
endpoints, e.g., a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-155">DID</a> for an automobile may include a pointer to a public title
record at the Department of Motor Vehicles, while a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-156">DID</a> for an individual would not.
As such, the listing of a given service could, by itself, leak information that can
be used to infer something about the subject.
      </p>
      <p>
It is the goal of herd privacy to ensure that the nature of specific subjects is
obscured by the population of the whole. To maximize herd privacy, implementers
need to rely on one — and only one — service endpoint, with that endpoint providing
a proxy or mediator service that the controller is willing to depend on to protect
such associations and that blinds requests to the ultimate service.
      </p>
      <p>
Toward this end, consider any of the following:
      </p>
      <ul>
        <li>
<strong>Negotiator Endpoint</strong> — Service for negotiating mutually
agreeable communications channels, preferably using private set intersection. The
output of negotiation is a communication channel and whatever credentials may be
needed to access it.
        </li>
        <li>
<strong>Tor Endpoint</strong> (<a href="https://www.torproject.org/about/history/">Tor Onion Router</a>) —
Provide a privacy-respecting address for reaching service endpoints. Any service that
can be provided online can be provided through TOR for additional privacy.</li>
<li><strong>Mediator Endpoint</strong> —
<a href="https://github.com/hyperledger/aries-rfcs/blob/720bdab50e2d0437fda03028c1b17c69781bdd69/concepts/0046-mediators-and-relays/README.md">Mediators</a>
provide a generic endpoint, for multiple parties, receive encrypted messages on
behalf of those parties, and forward
them to the intended recipient. This avoids the need to have a specific endpoint per subject, which could create a
correlation risk. Also called a proxy.
        </li>
        <li>
<strong>Confidential Storage</strong> — Proprietary or confidential personal
information may need to be kept off-registry to provide additional privacy and/or
security guarantees, especially for those methods where <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-218">DID documents</a> are published
on a public ledger. Pointing to external resource services provides a means for
authorization checks and deletion.
        </li>
        <li>
<strong>Polymorphic Proxy</strong> — A proxy endpoint that can act as any
number of services, depending on how it is called. For example, the same URL could
be used for both negotiator and mediator functions, depending on a mechanism for re-routing.
        </li>
      </ul>
      <p>
These service endpoint types continue to be an area of innovation.
      </p>

    </section>
  </section>

  <section class="informative" id="examples">
    <h2 id="x11-examples"><bdi class="secno">11. </bdi>Examples<a class="self-link" aria-label="§" href="#examples"></a></h2><p><em>This section is non-normative.</em></p>
    <section class="informative" id="did-documents">
      <h3 id="x11-1-did-documents"><bdi class="secno">11.1 </bdi>DID Documents<a class="self-link" aria-label="§" href="#did-documents"></a></h3><p><em>This section is non-normative.</em></p>

      <p>
See <a href="https://www.w3.org/TR/did-spec-registries/#verification-method-types">
Verification Method Types</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-did-spec-registries" title="DID Specification Registries">DID-SPEC-REGISTRIES</a></cite>] for optional extensions
and other verification method types.
      </p>

      <div class="note" role="note" id="issue-container-generatedID-32"><div role="heading" class="note-title marker" id="h-note-22" aria-level="4"><span>Note</span></div><p class="">
These examples are for information purposes only, it is considered a best
practice to avoid using the same <a href="#dfn-verification-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verification-method-66">verification method</a> for multiple purposes.
      </p></div>

      <div class="example" id="example-32-did-document-with-1-verification-method-type">
        <div class="marker">
    <a class="self-link" href="#example-32-did-document-with-1-verification-method-type">Example<bdi> 32</bdi></a><span class="example-title">: DID Document with 1 verification method type</span>
  </div> <pre aria-busy="false"><code class="hljs json">  {
    <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/ns/did/v1"</span>,
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"did:example:123"</span>,
    <span class="hljs-attr">"authentication"</span>: [
      {
        <span class="hljs-attr">"id"</span>: <span class="hljs-string">"did:example:123#z6MkecaLyHuYWkayBDLw5ihndj3T1m6zKTGqau3A51G7RBf3"</span>,
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Ed25519VerificationKey2018"</span>, <span class="hljs-comment">// external (property value)</span>
        <span class="hljs-attr">"controller"</span>: <span class="hljs-string">"did:example:123"</span>,
        <span class="hljs-attr">"publicKeyBase58"</span>: <span class="hljs-string">"AKJP3f7BD6W4iWEQ9jwndVTCBq8ua2Utt8EEjJ6Vxsf"</span>
      }
    ],
    <span class="hljs-attr">"capabilityInvocation"</span>: [
      {
        <span class="hljs-attr">"id"</span>: <span class="hljs-string">"did:example:123#z6MkhdmzFu659ZJ4XKj31vtEDmjvsi5yDZG5L7Caz63oP39k"</span>,
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Ed25519VerificationKey2018"</span>, <span class="hljs-comment">// external (property value)</span>
        <span class="hljs-attr">"controller"</span>: <span class="hljs-string">"did:example:123"</span>,
        <span class="hljs-attr">"publicKeyBase58"</span>: <span class="hljs-string">"4BWwfeqdp1obQptLLMvPNgBw48p7og1ie6Hf9p5nTpNN"</span>
      }
    ],
    <span class="hljs-attr">"capabilityDelegation"</span>: [
      {
        <span class="hljs-attr">"id"</span>: <span class="hljs-string">"did:example:123#z6Mkw94ByR26zMSkNdCUi6FNRsWnc2DFEeDXyBGJ5KTzSWyi"</span>,
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Ed25519VerificationKey2018"</span>, <span class="hljs-comment">// external (property value)</span>
        <span class="hljs-attr">"controller"</span>: <span class="hljs-string">"did:example:123"</span>,
        <span class="hljs-attr">"publicKeyBase58"</span>: <span class="hljs-string">"Hgo9PAmfeoxHG8Mn2XHXamxnnSwPpkyBHAMNF3VyXJCL"</span>
      }
    ],
    <span class="hljs-attr">"assertionMethod"</span>: [
      {
        <span class="hljs-attr">"id"</span>: <span class="hljs-string">"did:example:123#z6MkiukuAuQAE8ozxvmahnQGzApvtW7KT5XXKfojjwbdEomY"</span>,
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Ed25519VerificationKey2018"</span>, <span class="hljs-comment">// external (property value)</span>
        <span class="hljs-attr">"controller"</span>: <span class="hljs-string">"did:example:123"</span>,
        <span class="hljs-attr">"publicKeyBase58"</span>: <span class="hljs-string">"5TVraf9itbKXrRvt2DSS95Gw4vqU3CHAdetoufdcKazA"</span>
      }
    ]
}</code></pre>
      </div>

      <div class="example" id="example-33-did-document-with-many-different-verification-methods">
        <div class="marker">
    <a class="self-link" href="#example-33-did-document-with-many-different-verification-methods">Example<bdi> 33</bdi></a><span class="example-title">: DID Document with many different verification methods</span>
  </div> <pre aria-busy="false"><code class="hljs json">{
  <span class="hljs-attr">"@context"</span>: <span class="hljs-string">"https://www.w3.org/ns/did/v1"</span>,
  <span class="hljs-attr">"id"</span>: <span class="hljs-string">"did:example:123"</span>,
  <span class="hljs-attr">"verificationMethod"</span>: [
    {
      <span class="hljs-attr">"id"</span>: <span class="hljs-string">"did:example:123#ZC2jXTO6t4R501bfCXv3RxarZyUbdP2w_psLwMuY6ec"</span>,
      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Ed25519VerificationKey2018"</span>, <span class="hljs-comment">// external (property value)</span>
      <span class="hljs-attr">"controller"</span>: <span class="hljs-string">"did:example:123"</span>,
      <span class="hljs-attr">"publicKeyBase58"</span>: <span class="hljs-string">"H3C2AVvLMv6gmMNam3uVAjZpfkcJCwDwnZn6z3wXmqPV"</span>
    },
    {
      <span class="hljs-attr">"id"</span>: <span class="hljs-string">"did:example:123#zQ3shP2mWsZYWgvgM11nenXRTx9L1yiJKmkf9dfX7NaMKb1pX"</span>,
      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"EcdsaSecp256k1VerificationKey2019"</span>, <span class="hljs-comment">// external (property value)</span>
      <span class="hljs-attr">"controller"</span>: <span class="hljs-string">"did:example:123"</span>,
      <span class="hljs-attr">"publicKeyBase58"</span>: <span class="hljs-string">"d5cW2R53NHTTkv7EQSYR8YxaKx7MVCcchjmK5EgCNXxo"</span>,
    },
    {
      <span class="hljs-attr">"id"</span>: <span class="hljs-string">"did:example:123#_Qq0UL2Fq651Q0Fjd6TvnYE-faHiOpRlPVQcY_-tA4A"</span>,
      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"JsonWebKey2020"</span>, <span class="hljs-comment">// external (property value)</span>
      <span class="hljs-attr">"controller"</span>: <span class="hljs-string">"did:example:123"</span>,
      <span class="hljs-attr">"publicKeyJwk"</span>: {
        <span class="hljs-attr">"kty"</span>: <span class="hljs-string">"OKP"</span>, <span class="hljs-comment">// external (property name)</span>
        <span class="hljs-attr">"crv"</span>: <span class="hljs-string">"Ed25519"</span>, <span class="hljs-comment">// external (property name)</span>
        <span class="hljs-attr">"x"</span>: <span class="hljs-string">"VCpo2LMLhn6iWku8MKvSLg2ZAoC-nlOyPVQaO3FxVeQ"</span> <span class="hljs-comment">// external (property name)</span>
      }
    },
    {
      <span class="hljs-attr">"id"</span>: <span class="hljs-string">"did:example:123#z6LSnjagzhe8Df6gZmroW3wjDd7XQLwAuYfwa4ZeTBCGFoYc"</span>,
      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"JsonWebKey2020"</span>, <span class="hljs-comment">// external (property value)</span>
      <span class="hljs-attr">"controller"</span>: <span class="hljs-string">"did:example:123"</span>,
      <span class="hljs-attr">"publicKeyJwk"</span>: {
        <span class="hljs-attr">"kty"</span>: <span class="hljs-string">"OKP"</span>, <span class="hljs-comment">// external (property name)</span>
        <span class="hljs-attr">"crv"</span>: <span class="hljs-string">"X25519"</span>, <span class="hljs-comment">// external (property name)</span>
        <span class="hljs-attr">"x"</span>: <span class="hljs-string">"pE_mG098rdQjY3MKK2D5SUQ6ZOEW3a6Z6T7Z4SgnzCE"</span> <span class="hljs-comment">// external (property name)</span>
      },
    }
    {
      <span class="hljs-attr">"id"</span>: <span class="hljs-string">"did:example:123#4SZ-StXrp5Yd4_4rxHVTCYTHyt4zyPfN1fIuYsm6k3A"</span>,
      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"JsonWebKey2020"</span>, <span class="hljs-comment">// external (property value)</span>
      <span class="hljs-attr">"controller"</span>: <span class="hljs-string">"did:example:123"</span>,
      <span class="hljs-attr">"publicKeyJwk"</span>: {
        <span class="hljs-attr">"kty"</span>: <span class="hljs-string">"EC"</span>, <span class="hljs-comment">// external (property name)</span>
        <span class="hljs-attr">"crv"</span>: <span class="hljs-string">"secp256k1"</span>, <span class="hljs-comment">// external (property name)</span>
        <span class="hljs-attr">"x"</span>: <span class="hljs-string">"Z4Y3NNOxv0J6tCgqOBFnHnaZhJF6LdulT7z8A-2D5_8"</span>, <span class="hljs-comment">// external (property name)</span>
        <span class="hljs-attr">"y"</span>: <span class="hljs-string">"i5a2NtJoUKXkLm6q8nOEu9WOkso1Ag6FTUT6k_LMnGk"</span> <span class="hljs-comment">// external (property name)</span>
      }
    },
    {
      <span class="hljs-attr">"id"</span>: <span class="hljs-string">"did:example:123#n4cQ-I_WkHMcwXBJa7IHkYu8CMfdNcZKnKsOrnHLpFs"</span>,
      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"JsonWebKey2020"</span>, <span class="hljs-comment">// external (property value)</span>
      <span class="hljs-attr">"controller"</span>: <span class="hljs-string">"did:example:123"</span>,
      <span class="hljs-attr">"publicKeyJwk"</span>: {
        <span class="hljs-attr">"kty"</span>: <span class="hljs-string">"RSA"</span>, <span class="hljs-comment">// external (property name)</span>
        <span class="hljs-attr">"e"</span>: <span class="hljs-string">"AQAB"</span>, <span class="hljs-comment">// external (property name)</span>
        <span class="hljs-attr">"n"</span>: <span class="hljs-string">"omwsC1AqEk6whvxyOltCFWheSQvv1MExu5RLCMT4jVk9khJKv8JeMXWe3bWHatjPskdf2dlaGkW5QjtOnUKL742mvr4tCldKS3ULIaT1hJInMHHxj2gcubO6eEegACQ4QSu9LO0H-LM_L3DsRABB7Qja8HecpyuspW1Tu_DbqxcSnwendamwL52V17eKhlO4uXwv2HFlxufFHM0KmCJujIKyAxjD_m3q__IiHUVHD1tDIEvLPhG9Azsn3j95d-saIgZzPLhQFiKluGvsjrSkYU5pXVWIsV-B2jtLeeLC14XcYxWDUJ0qVopxkBvdlERcNtgF4dvW4X00EHj4vCljFw"</span> <span class="hljs-comment">// external (property name)</span>
      }
    },
    {
      <span class="hljs-attr">"id"</span>: <span class="hljs-string">"did:example:123#_TKzHv2jFIyvdTGF1Dsgwngfdg3SH6TpDv0Ta1aOEkw"</span>,
      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"JsonWebKey2020"</span>, <span class="hljs-comment">// external (property value)</span>
      <span class="hljs-attr">"controller"</span>: <span class="hljs-string">"did:example:123"</span>,
      <span class="hljs-attr">"publicKeyJwk"</span>: {
        <span class="hljs-attr">"kty"</span>: <span class="hljs-string">"EC"</span>, <span class="hljs-comment">// external (property name)</span>
        <span class="hljs-attr">"crv"</span>: <span class="hljs-string">"P-256"</span>, <span class="hljs-comment">// external (property name)</span>
        <span class="hljs-attr">"x"</span>: <span class="hljs-string">"38M1FDts7Oea7urmseiugGW7tWc3mLpJh6rKe7xINZ8"</span>, <span class="hljs-comment">// external (property name)</span>
        <span class="hljs-attr">"y"</span>: <span class="hljs-string">"nDQW6XZ7b_u2Sy9slofYLlG03sOEoug3I0aAPQ0exs4"</span> <span class="hljs-comment">// external (property name)</span>
      }
    },
    {
      <span class="hljs-attr">"id"</span>: <span class="hljs-string">"did:example:123#8wgRfY3sWmzoeAL-78-oALNvNj67ZlQxd1ss_NX1hZY"</span>,
      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"JsonWebKey2020"</span>, <span class="hljs-comment">// external (property value)</span>
      <span class="hljs-attr">"controller"</span>: <span class="hljs-string">"did:example:123"</span>,
      <span class="hljs-attr">"publicKeyJwk"</span>: {
        <span class="hljs-attr">"kty"</span>: <span class="hljs-string">"EC"</span>, <span class="hljs-comment">// external (property name)</span>
        <span class="hljs-attr">"crv"</span>: <span class="hljs-string">"P-384"</span>, <span class="hljs-comment">// external (property name)</span>
        <span class="hljs-attr">"x"</span>: <span class="hljs-string">"GnLl6mDti7a2VUIZP5w6pcRX8q5nvEIgB3Q_5RI2p9F_QVsaAlDN7IG68Jn0dS_F"</span>, <span class="hljs-comment">// external (property name)</span>
        <span class="hljs-attr">"y"</span>: <span class="hljs-string">"jq4QoAHKiIzezDp88s_cxSPXtuXYFliuCGndgU4Qp8l91xzD1spCmFIzQgVjqvcP"</span> <span class="hljs-comment">// external (property name)</span>
      }
    },
    {
      <span class="hljs-attr">"id"</span>: <span class="hljs-string">"did:example:123#NjQ6Y_ZMj6IUK_XkgCDwtKHlNTUTVjEYOWZtxhp1n-E"</span>,
      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"JsonWebKey2020"</span>, <span class="hljs-comment">// external (property value)</span>
      <span class="hljs-attr">"controller"</span>: <span class="hljs-string">"did:example:123"</span>,
      <span class="hljs-attr">"publicKeyJwk"</span>: {
        <span class="hljs-attr">"kty"</span>: <span class="hljs-string">"EC"</span>, <span class="hljs-comment">// external (property name)</span>
        <span class="hljs-attr">"crv"</span>: <span class="hljs-string">"P-521"</span>, <span class="hljs-comment">// external (property name)</span>
        <span class="hljs-attr">"x"</span>: <span class="hljs-string">"AVlZG23LyXYwlbjbGPMxZbHmJpDSu-IvpuKigEN2pzgWtSo--Rwd-n78nrWnZzeDc187Ln3qHlw5LRGrX4qgLQ-y"</span>, <span class="hljs-comment">// external (property name)</span>
        <span class="hljs-attr">"y"</span>: <span class="hljs-string">"ANIbFeRdPHf1WYMCUjcPz-ZhecZFybOqLIJjVOlLETH7uPlyG0gEoMWnIZXhQVypPy_HtUiUzdnSEPAylYhHBTX2"</span> <span class="hljs-comment">// external (property name)</span>
      }
    }
  ]
}</code></pre>
      </div>

    </section>

    <section class="informative" id="proving">
      <h3 id="x11-2-proving"><bdi class="secno">11.2 </bdi>Proving<a class="self-link" aria-label="§" href="#proving"></a></h3><p><em>This section is non-normative.</em></p>

      <div class="note" role="note" id="issue-container-generatedID-33"><div role="heading" class="note-title marker" id="h-note-23" aria-level="4"><span>Note</span></div><p class="">
These examples are for information purposes only. See
<a href="https://www.w3.org/TR/vc-data-model/"><abbr title="World Wide Web Consortium">W3C</abbr> Verifiable Credentials Data
Model</a> for additional examples.
      </p></div>

      <div class="example" id="example-34-verifiable-credential-linked-to-a-verification-method-of-type-ed25519verificationkey2018">
        <div class="marker">
    <a class="self-link" href="#example-34-verifiable-credential-linked-to-a-verification-method-of-type-ed25519verificationkey2018">Example<bdi> 34</bdi></a><span class="example-title">: Verifiable Credential linked to a verification method of type Ed25519VerificationKey2018</span>
  </div> <pre aria-busy="false"><code class="hljs json">{  <span class="hljs-comment">// external (all terms in this example)</span>
  <span class="hljs-attr">"@context"</span>: [
    <span class="hljs-string">"https://www.w3.org/2018/credentials/v1"</span>,
    <span class="hljs-string">"https://w3id.org/citizenship/v1"</span>
  ],
  <span class="hljs-attr">"type"</span>: [
    <span class="hljs-string">"VerifiableCredential"</span>,
    <span class="hljs-string">"PermanentResidentCard"</span>
  ],
  <span class="hljs-attr">"credentialSubject"</span>: {
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"did:example:123"</span>,
    <span class="hljs-attr">"type"</span>: [
      <span class="hljs-string">"PermanentResident"</span>,
      <span class="hljs-string">"Person"</span>
    ],
    <span class="hljs-attr">"givenName"</span>: <span class="hljs-string">"JOHN"</span>,
    <span class="hljs-attr">"familyName"</span>: <span class="hljs-string">"SMITH"</span>,
    <span class="hljs-attr">"gender"</span>: <span class="hljs-string">"Male"</span>,
    <span class="hljs-attr">"image"</span>: <span class="hljs-string">"data:image/png;base64,iVBORw0KGgo...kJggg=="</span>,
    <span class="hljs-attr">"residentSince"</span>: <span class="hljs-string">"2015-01-01"</span>,
    <span class="hljs-attr">"lprCategory"</span>: <span class="hljs-string">"C09"</span>,
    <span class="hljs-attr">"lprNumber"</span>: <span class="hljs-string">"000-000-204"</span>,
    <span class="hljs-attr">"commuterClassification"</span>: <span class="hljs-string">"C1"</span>,
    <span class="hljs-attr">"birthCountry"</span>: <span class="hljs-string">"Bahamas"</span>,
    <span class="hljs-attr">"birthDate"</span>: <span class="hljs-string">"1958-08-17"</span>
  },
  <span class="hljs-attr">"issuer"</span>: <span class="hljs-string">"did:example:456"</span>,
  <span class="hljs-attr">"issuanceDate"</span>: <span class="hljs-string">"2020-04-22T10:37:22Z"</span>,
  <span class="hljs-attr">"identifier"</span>: <span class="hljs-string">"83627465"</span>,
  <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Permanent Resident Card"</span>,
  <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Government of Example Permanent Resident Card."</span>,
  <span class="hljs-attr">"proof"</span>: {
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"Ed25519Signature2018"</span>,
    <span class="hljs-attr">"created"</span>: <span class="hljs-string">"2020-04-22T10:37:22Z"</span>,
    <span class="hljs-attr">"proofPurpose"</span>: <span class="hljs-string">"assertionMethod"</span>,
    <span class="hljs-attr">"verificationMethod"</span>: <span class="hljs-string">"did:example:456#key-1"</span>,
    <span class="hljs-attr">"jws"</span>: <span class="hljs-string">"eyJjcml0IjpbImI2NCJdLCJiNjQiOmZhbHNlLCJhbGciOiJFZERTQSJ9..BhWew0x-txcroGjgdtK-yBCqoetg9DD9SgV4245TmXJi-PmqFzux6Cwaph0r-mbqzlE17yLebjfqbRT275U1AA"</span>
  }
}</code></pre>
      </div>

      <div class="example" id="example-35-verifiable-credential-linked-to-a-verification-method-of-type-jsonwebkey2020">
        <div class="marker">
    <a class="self-link" href="#example-35-verifiable-credential-linked-to-a-verification-method-of-type-jsonwebkey2020">Example<bdi> 35</bdi></a><span class="example-title">: Verifiable Credential linked to a verification method of type JsonWebKey2020</span>
  </div> <pre aria-busy="false"><code class="hljs json">{  <span class="hljs-comment">// external (all terms in this example)</span>
  <span class="hljs-attr">"@context"</span>: [
    <span class="hljs-string">"https://www.w3.org/2018/credentials/v1"</span>,
    <span class="hljs-string">"https://www.w3.org/2018/credentials/examples/v1"</span>
  ],
  <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://example.gov/credentials/3732"</span>,
  <span class="hljs-attr">"type"</span>: [<span class="hljs-string">"VerifiableCredential"</span>, <span class="hljs-string">"UniversityDegreeCredential"</span>],
  <span class="hljs-attr">"issuer"</span>: { <span class="hljs-attr">"id"</span>: <span class="hljs-string">"did:example:123"</span> },
  <span class="hljs-attr">"issuanceDate"</span>: <span class="hljs-string">"2020-03-10T04:24:12.164Z"</span>,
  <span class="hljs-attr">"credentialSubject"</span>: {
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"did:example:456"</span>,
    <span class="hljs-attr">"degree"</span>: {
      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"BachelorDegree"</span>,
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Bachelor of Science and Arts"</span>
    }
  },
  <span class="hljs-attr">"proof"</span>: {
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"JsonWebSignature2020"</span>,
    <span class="hljs-attr">"created"</span>: <span class="hljs-string">"2020-02-15T17:13:18Z"</span>,
    <span class="hljs-attr">"verificationMethod"</span>: <span class="hljs-string">"did:example:123#_Qq0UL2Fq651Q0Fjd6TvnYE-faHiOpRlPVQcY_-tA4A"</span>,
    <span class="hljs-attr">"proofPurpose"</span>: <span class="hljs-string">"assertionMethod"</span>,
    <span class="hljs-attr">"jws"</span>: <span class="hljs-string">"eyJiNjQiOmZhbHNlLCJjcml0IjpbImI2NCJdLCJhbGciOiJFZERTQSJ9..Y0KqovWCPAeeFhkJxfQ22pbVl43Z7UI-X-1JX32CA9MkFHkmNprcNj9Da4Q4QOl0cY3obF8cdDRdnKr0IwNrAw"</span>
  }
}</code></pre>
      </div>

      <div class="example" id="example-36-verifiable-credential-linked-to-a-bls12381-verification-method">
        <div class="marker">
    <a class="self-link" href="#example-36-verifiable-credential-linked-to-a-bls12381-verification-method">Example<bdi> 36</bdi></a><span class="example-title">: Verifiable Credential linked to a bls12381 verification method</span>
  </div> <pre aria-busy="false"><code class="hljs json">{  <span class="hljs-comment">// external (all terms in this example)</span>
  <span class="hljs-attr">"@context"</span>: [
    <span class="hljs-string">"https://www.w3.org/2018/credentials/v1"</span>,
    <span class="hljs-string">"https://w3id.org/security/bbs/v1"</span>,
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"https://schema.org/name"</span>,
      <span class="hljs-attr">"birthDate"</span>: <span class="hljs-string">"https://schema.org/birthDate"</span>
    }
  ],
  <span class="hljs-attr">"id"</span>: <span class="hljs-string">"urn:uuid:c499e122-3ba9-4e95-8d4d-c0ebfcf8c51a"</span>,
  <span class="hljs-attr">"type"</span>: [<span class="hljs-string">"VerifiableCredential"</span>],
  <span class="hljs-attr">"issuanceDate"</span>: <span class="hljs-string">"2021-02-07T16:02:08.571Z"</span>,
  <span class="hljs-attr">"issuer"</span>: {
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"did:example:123"</span>
  },
  <span class="hljs-attr">"credentialSubject"</span>: {
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"did:example:456"</span>,
    <span class="hljs-attr">"name"</span>: <span class="hljs-string">"John Smith"</span>,
    <span class="hljs-attr">"birthDate"</span>: <span class="hljs-string">"2021-02-07"</span>
  },
  <span class="hljs-attr">"proof"</span>: {
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"BbsBlsSignature2020"</span>,
    <span class="hljs-attr">"created"</span>: <span class="hljs-string">"2021-02-07T16:02:10Z"</span>,
    <span class="hljs-attr">"proofPurpose"</span>: <span class="hljs-string">"assertionMethod"</span>,
    <span class="hljs-attr">"proofValue"</span>: <span class="hljs-string">"o7zD2eNTp657YzkJLub+IO4Zqy/R3Lv/AWmtSA/kUlEAOa73BNyP1vOeoow35jkABolx4kYMKkp/ZsFDweuKwe/p9vxv9wrMJ9GpiOZjHcpjelDRRJLBiccg9Yv7608mHgH0N1Qrj14PZ2saUlfhpQ=="</span>,
    <span class="hljs-attr">"verificationMethod"</span>: <span class="hljs-string">"did:example:123#bls12381-g2-key"</span>
  }
}</code></pre>
      </div>

      <div class="example" id="example-37-verifiable-credential-selective-disclosure-zero-knowledge-proof-linked-to-a-bls12381-verification-method">
        <div class="marker">
    <a class="self-link" href="#example-37-verifiable-credential-selective-disclosure-zero-knowledge-proof-linked-to-a-bls12381-verification-method">Example<bdi> 37</bdi></a><span class="example-title">: Verifiable Credential selective disclosure zero knowledge proof linked to a bls12381 verification method</span>
  </div> <pre aria-busy="false"><code class="hljs json">{  <span class="hljs-comment">// external (all terms in this example)</span>
  <span class="hljs-attr">"@context"</span>: [
    <span class="hljs-string">"https://www.w3.org/2018/credentials/v1"</span>,
    <span class="hljs-string">"https://w3id.org/security/bbs/v1"</span>,
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"https://schema.org/name"</span>,
      <span class="hljs-attr">"birthDate"</span>: <span class="hljs-string">"https://schema.org/birthDate"</span>
    }
  ],
  <span class="hljs-attr">"id"</span>: <span class="hljs-string">"urn:uuid:c499e122-3ba9-4e95-8d4d-c0ebfcf8c51a"</span>,
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"VerifiableCredential"</span>,
  <span class="hljs-attr">"issuanceDate"</span>: <span class="hljs-string">"2021-02-07T16:02:08.571Z"</span>,
  <span class="hljs-attr">"issuer"</span>: {
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"did:example:123"</span>
  },
  <span class="hljs-attr">"credentialSubject"</span>: {
    <span class="hljs-attr">"id"</span>: <span class="hljs-string">"did:example:456"</span>,
    <span class="hljs-attr">"birthDate"</span>: <span class="hljs-string">"2021-02-07"</span>
  },
  <span class="hljs-attr">"proof"</span>: {
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"BbsBlsSignatureProof2020"</span>,
    <span class="hljs-attr">"created"</span>: <span class="hljs-string">"2021-02-07T16:02:10Z"</span>,
    <span class="hljs-attr">"nonce"</span>: <span class="hljs-string">"OqZHsV/aunS34BhLaSoxiHWK+SUaG4iozM3V+1jO06zRRNcDWID+I0uwtPJJ767Yo8Q="</span>,
    <span class="hljs-attr">"proofPurpose"</span>: <span class="hljs-string">"assertionMethod"</span>,
    <span class="hljs-attr">"proofValue"</span>: <span class="hljs-string">"AAsH34lcKsqaqPaLQWcnLMe3mDM+K7fZM0t4Iesfj7BhD//HBtuWCmZE946BqW7OHYU106MP8mLntutqB8FyGwS7AOyK+5/7iW6JwLNVCvh4Nt3IaF3AN47fqVs2VikD9DiCsaFAUU6ISj5pbad8O+6jiT9Yw6ug8t8vJn3XHvMUhCPnDZJeBEdKD1qo4Z0LOq3L8QAAAHSEgtC9BoZL2MLjz4QuPxpwbhTTRC08MIUjdJnP4JUtz6163Lsl3rpadGu2d3Te7loAAAACZBD4YWOgV0xpPoYZ5vywNA5/NTeDHDbX36gvoV5RDJtY1SLU2LN/IDPZGrfhEiASbD1/QXqj8dod6FbjBs9m/LchBcy7z4yDBv/8DnBzDJ9dEaM4bDjpwmqtgJqha2kwtlyNog67xG9tNjnp5rrbIgAAAANMVanwWmlkg5I/f1M2QJ5GRvQiBL4lyL5sttxwIOalbTZP8VqWtFJI54xMNjTiK71aFWWN8SlNEwfVIX34HO5zBIb6fvc+Or21ubYllT9eXv1epl2o2CojuieCZyxE8/Q="</span>,
    <span class="hljs-attr">"verificationMethod"</span>: <span class="hljs-string">"did:example:123#bls12381-g2-key"</span>
  }
}</code></pre>
      </div>

      <div class="example" id="example-38-verifiable-credential-as-decoded-jwt">
        <div class="marker">
    <a class="self-link" href="#example-38-verifiable-credential-as-decoded-jwt">Example<bdi> 38</bdi></a><span class="example-title">: Verifiable Credential as Decoded JWT</span>
  </div> <pre aria-busy="false"><code class="hljs json">{ <span class="hljs-comment">// external (all terms in this example)</span>
  <span class="hljs-attr">"protected"</span>: {
    <span class="hljs-attr">"kid"</span>: <span class="hljs-string">"did:example:123#_Qq0UL2Fq651Q0Fjd6TvnYE-faHiOpRlPVQcY_-tA4A"</span>,
    <span class="hljs-attr">"alg"</span>: <span class="hljs-string">"EdDSA"</span>
  },
  <span class="hljs-attr">"payload"</span>: {
    <span class="hljs-attr">"iss"</span>: <span class="hljs-string">"did:example:123"</span>,
    <span class="hljs-attr">"sub"</span>: <span class="hljs-string">"did:example:456"</span>,
    <span class="hljs-attr">"vc"</span>: {
      <span class="hljs-attr">"@context"</span>: [
        <span class="hljs-string">"https://www.w3.org/2018/credentials/v1"</span>,
        <span class="hljs-string">"https://www.w3.org/2018/credentials/examples/v1"</span>
      ],
      <span class="hljs-attr">"id"</span>: <span class="hljs-string">"https://example.gov/credentials/3732"</span>,
      <span class="hljs-attr">"type"</span>: [
        <span class="hljs-string">"VerifiableCredential"</span>,
        <span class="hljs-string">"UniversityDegreeCredential"</span>
      ],
      <span class="hljs-attr">"issuer"</span>: {
        <span class="hljs-attr">"id"</span>: <span class="hljs-string">"did:example:123"</span>
      },
      <span class="hljs-attr">"issuanceDate"</span>: <span class="hljs-string">"2020-03-10T04:24:12.164Z"</span>,
      <span class="hljs-attr">"credentialSubject"</span>: {
        <span class="hljs-attr">"id"</span>: <span class="hljs-string">"did:example:456"</span>,
        <span class="hljs-attr">"degree"</span>: {
          <span class="hljs-attr">"type"</span>: <span class="hljs-string">"BachelorDegree"</span>,
          <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Bachelor of Science and Arts"</span>
        }
      }
    },
    <span class="hljs-attr">"jti"</span>: <span class="hljs-string">"https://example.gov/credentials/3732"</span>,
    <span class="hljs-attr">"nbf"</span>: <span class="hljs-number">1583814252</span>
  },
  <span class="hljs-attr">"signature"</span>: <span class="hljs-string">"qSv6dpZJGFybtcifLwGf4ujzlEu-fam_M7HPxinCbVhz9iIJCg70UMeQbPa1ex6BmQ2tnSS7F11FHnMB2bJRAw"</span>
}</code></pre>
      </div>
    </section>

    <section class="informative" id="encrypting">
      <h3 id="x11-3-encrypting"><bdi class="secno">11.3 </bdi>Encrypting<a class="self-link" aria-label="§" href="#encrypting"></a></h3><p><em>This section is non-normative.</em></p>

      <div class="note" role="note" id="issue-container-generatedID-34"><div role="heading" class="note-title marker" id="h-note-24" aria-level="4"><span>Note</span></div><p class="">
These examples are for information purposes only, it is considered a best
practice to avoid dislosing unnecessary information in JWE headers.
      </p></div>

      <div class="example" id="example-39-jwe-linked-to-a-verification-method-via-kid">
        <div class="marker">
    <a class="self-link" href="#example-39-jwe-linked-to-a-verification-method-via-kid">Example<bdi> 39</bdi></a><span class="example-title">: JWE linked to a verification method via kid</span>
  </div> <pre aria-busy="false"><code class="hljs json">{ <span class="hljs-comment">// external (all terms in this example)</span>
  <span class="hljs-attr">"ciphertext"</span>: <span class="hljs-string">"3SHQQJajNH6q0fyAHmw..."</span>,
  <span class="hljs-attr">"iv"</span>: <span class="hljs-string">"QldSPLVnFf2-VXcNLza6mbylYwphW57Q"</span>,
  <span class="hljs-attr">"protected"</span>: <span class="hljs-string">"eyJlbmMiOiJYQzIwUCJ9"</span>,
  <span class="hljs-attr">"recipients"</span>: [
    {
      <span class="hljs-attr">"encrypted_key"</span>: <span class="hljs-string">"BMJ19zK12YHftJ4sr6Pz1rX1HtYni_L9DZvO1cEZfRWDN2vXeOYlwA"</span>,
      <span class="hljs-attr">"header"</span>: {
        <span class="hljs-attr">"alg"</span>: <span class="hljs-string">"ECDH-ES+A256KW"</span>,
        <span class="hljs-attr">"apu"</span>: <span class="hljs-string">"Tx9qG69ZfodhRos-8qfhTPc6ZFnNUcgNDVdHqX1UR3s"</span>,
        <span class="hljs-attr">"apv"</span>: <span class="hljs-string">"ZGlkOmVsZW06cm9wc3RlbjpFa..."</span>,
        <span class="hljs-attr">"epk"</span>: {
          <span class="hljs-attr">"crv"</span>: <span class="hljs-string">"X25519"</span>,
          <span class="hljs-attr">"kty"</span>: <span class="hljs-string">"OKP"</span>,
          <span class="hljs-attr">"x"</span>: <span class="hljs-string">"Tx9qG69ZfodhRos-8qfhTPc6ZFnNUcgNDVdHqX1UR3s"</span>
        },
        <span class="hljs-attr">"kid"</span>: <span class="hljs-string">"did:example:123#zC1Rnuvw9rVa6E5TKF4uQVRuQuaCpVgB81Um2u17Fu7UK"</span>
      }
    }
  ],
  <span class="hljs-attr">"tag"</span>: <span class="hljs-string">"xbfwwDkzOAJfSVem0jr1bA"</span>
}</code></pre>
      </div>
    </section>
  </section>

  <section class="appendix" id="detailed-architecture-overview-diagram">
    <h2 id="a-detailed-architecture-overview-diagram"><bdi class="secno">A. </bdi>Detailed Architecture Overview Diagram<a class="self-link" aria-label="§" href="#detailed-architecture-overview-diagram"></a></h2>
    <p>
Following is a diagram showing the relationships among
<a href="#data-model" class="sec-ref">§&nbsp;<bdi class="secno">4. </bdi>Data Model</a>, <a href="#core-properties" class="sec-ref">§&nbsp;<bdi class="secno">5. </bdi>Core Properties</a>, and
<a href="#methods" class="sec-ref">§&nbsp;<bdi class="secno">8. </bdi>Methods</a>, and <a href="#resolution" class="sec-ref">§&nbsp;<bdi class="secno">7. </bdi>Resolution</a>.
    </p>

    <figure id="detailed-architecture-overview">
      <img style="margin: auto; display: block; width: 90%;" src="diagrams/did_detailed_architecture_overview.svg" alt="
DIDs and DID documents are recorded on a Verifiable Data Registry;
DIDs resolve to DID documents; DIDs identify DID subjects; a DID controller controls
a DID document; DID URLs contains a DID; DID URLs dereferenced to DID document fragments or
external resources;
DID resolver implements resolve function; DID URL dereferencer implements dereferencing function;
DID method operates a Verfiable Data Registry; DID resolver and DID URL dereferencer instruct a DID method.
      " height="778" width="1121">
      <figcaption>Figure <bdi class="figno">7</bdi> <span class="fig-title">
Detailed overview of DID architecture and the relationship of the basic components.
      </span></figcaption>
    </figure>

  </section>

  <section class="appendix" id="iana-considerations">
    <h2 id="b-iana-considerations"><bdi class="secno">B. </bdi>IANA Considerations<a class="self-link" aria-label="§" href="#iana-considerations"></a></h2>

    <p>
This section will be submitted to the Internet Engineering Steering Group
(IESG) for review, approval, and registration with IANA when this specification
becomes a <abbr title="World Wide Web Consortium">W3C</abbr> Proposed Recommendation.
    </p>

    <section id="application-did-json">
      <h3 id="b-1-application-did-json"><bdi class="secno">B.1 </bdi>application/did+json<a class="self-link" aria-label="§" href="#application-did-json"></a></h3>
      <dl>
        <dt>Type name:</dt>
        <dd>application</dd>
        <dt>Subtype name:</dt>
        <dd>did+json</dd>
        <dt>Required parameters:</dt>
        <dd>None</dd>
        <dt>Optional parameters:</dt>
        <dd>None</dd>
        <dt>Encoding considerations:</dt>
        <dd>
See <a href="https://tools.ietf.org/html/rfc8259#section-11">RFC&nbsp;8259, section 11</a>.
        </dd>
        <dt>Security considerations:</dt>
        <dd>
See <a href="https://tools.ietf.org/html/rfc8259#section-12">RFC&nbsp;8259, section 12</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8259" title="The JavaScript Object Notation (JSON) Data Interchange Format">RFC8259</a></cite>].
        </dd>
        <dt>Interoperability considerations:</dt>
        <dd>Not Applicable</dd>
        <dt>Published specification:</dt>
        <dd>https://www.w3.org/TR/did-core/</dd>
        <dt>Applications that use this media type:</dt>
        <dd>
Any application that requires an identifier that is decentralized, persistent,
cryptographically verifiable, and resolvable. Applications typically consist of
cryptographic identity systems, decentralized networks of devices, and
websites that issue or verify <abbr title="World Wide Web Consortium">W3C</abbr> Verifiable Credentials.
        </dd>
        <dt>Additional information:</dt>
        <dd>
          <dl>
            <dt>Magic number(s):</dt>
            <dd>Not Applicable</dd>
            <dt>File extension(s):</dt>
            <dd>.didjson</dd>
            <dt>Macintosh file type code(s):</dt>
            <dd>TEXT</dd>
          </dl>
        </dd>
        <dt>Person &amp; email address to contact for further information:</dt>
        <dd>Ivan Herman &lt;ivan@w3.org&gt;</dd>
        <dt>Intended usage:</dt>
        <dd>Common</dd>
        <dt>Restrictions on usage:</dt>
        <dd>None</dd>
        <dt>Author(s):</dt>
        <dd>
Drummond Reed, Manu Sporny, Markus Sabadello, Dave Longley, Christopher Allen
        </dd>
        <dt>Change controller:</dt>
        <dd><abbr title="World Wide Web Consortium">W3C</abbr></dd>
      </dl>

      <p>
Fragment identifiers used with <a href="#application-did-json">application/did+json</a> are treated according to
the rules defined in <a href="#fragment" class="sec-ref">§&nbsp;Fragment</a>.
      </p>
    </section>

    <section id="application-did-ld-json">
      <h3 id="b-2-application-did-ld-json"><bdi class="secno">B.2 </bdi>application/did+ld+json<a class="self-link" aria-label="§" href="#application-did-ld-json"></a></h3>

      <div class="issue atrisk" id="issue-container-generatedID-35"><div role="heading" class="issue-title marker" id="h-issue-11" aria-level="4"><span>(Feature at Risk) Issue</span><span class="issue-label">: IETF Structured Media Types</span></div><p class="atrisk">
Use of the media type <code>application/did+ld+json</code> is pending
clarification over the registration of
<a href="https://datatracker.ietf.org/doc/html/draft-w3cdidwg-media-types-with-multiple-suffixes">
media types with multiple suffixes</a>. The alternative will be to use
<code>application/ld+json</code> with an expected profile parameter of
<code>https://www.w3.org/ns/did/json-ld-profile</code> if multiple suffixes
cannot be registered by the time the rest of DID Core is ready for <abbr title="World Wide Web Consortium">W3C</abbr>
Proposed Recommendation. Discussion is happening in the
<a href="https://mailarchive.ietf.org/arch/msg/media-types/Sv8oT38p1nWHPYZQmnL_9GPjeic/">
IETF media-types mailing list</a>.
      </p></div>

      <dl>
        <dt>Type name:</dt>
        <dd>application</dd>
        <dt>Subtype name:</dt>
        <dd>did+ld+json</dd>
        <dt>Required parameters:</dt>
        <dd>None</dd>
        <dt>Optional parameters:</dt>
        <dd>None</dd>
        <dt>Encoding considerations:</dt>
        <dd>
See <a href="https://tools.ietf.org/html/rfc8259#section-11">RFC&nbsp;8259, section 11</a>.
        </dd>
        <dt>Security considerations:</dt>
        <dd>
See <a href="https://www.w3.org/TR/json-ld11/#security">JSON-LD 1.1, Security Considerations</a>
[<cite><a class="bibref" data-link-type="biblio" href="#bib-json-ld11" title="JSON-LD 1.1">JSON-LD11</a></cite>].
        </dd>
        <dt>Interoperability considerations:</dt>
        <dd>Not Applicable</dd>
        <dt>Published specification:</dt>
        <dd>https://www.w3.org/TR/did-core/</dd>
        <dt>Applications that use this media type:</dt>
        <dd>
Any application that requires an identifier that is decentralized, persistent,
cryptographically verifiable, and resolvable. Applications typically consist of
cryptographic identity systems, decentralized networks of devices, and
websites that issue or verify <abbr title="World Wide Web Consortium">W3C</abbr> Verifiable Credentials.
        </dd>
        <dt>Additional information:</dt>
        <dd>
          <dl>
            <dt>Magic number(s):</dt>
            <dd>Not Applicable</dd>
            <dt>File extension(s):</dt>
            <dd>.didjsonld</dd>
            <dt>Macintosh file type code(s):</dt>
            <dd>TEXT</dd>
          </dl>
        </dd>
        <dt>Person &amp; email address to contact for further information:</dt>
        <dd>Ivan Herman &lt;ivan@w3.org&gt;</dd>
        <dt>Intended usage:</dt>
        <dd>Common</dd>
        <dt>Restrictions on usage:</dt>
        <dd>None</dd>
        <dt>Author(s):</dt>
        <dd>
Drummond Reed, Manu Sporny, Markus Sabadello, Dave Longley, Christopher Allen
        </dd>
        <dt>Change controller:</dt>
        <dd><abbr title="World Wide Web Consortium">W3C</abbr></dd>
      </dl>

      <p>
Fragment identifiers used with
<a href="#application-did-ld-json">application/did+ld+json</a> are treated
according to the rules associated with the
<a href="https://www.w3.org/TR/json-ld11/#iana-considerations">JSON-LD 1.1: application/ld+json
media type</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-json-ld11" title="JSON-LD 1.1">JSON-LD11</a></cite>].
      </p>
    </section>

    <section id="application-did-cbor">
      <h3 id="b-3-application-did-cbor"><bdi class="secno">B.3 </bdi>application/did+cbor<a class="self-link" aria-label="§" href="#application-did-cbor"></a></h3>
      <dl>
        <dt>Type name:</dt>
        <dd>application</dd>
        <dt>Subtype name:</dt>
        <dd>did+cbor</dd>
        <dt>Required parameters:</dt>
        <dd>None</dd>
        <dt>Optional parameters:</dt>
        <dd>None</dd>
        <dt>Encoding considerations:</dt>
        <dd>
See <a href="https://tools.ietf.org/html/rfc8949#section-4.2.1">RFC&nbsp;8949, section 4.2.1</a>.
        </dd>
        <dt>Security considerations:</dt>
        <dd>
See <a href="https://tools.ietf.org/html/rfc8949#section-10">RFC&nbsp;8949, section 10</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8949" title="Concise Binary Object Representation (CBOR)">RFC8949</a></cite>].
        </dd>
        <dt>Interoperability considerations:</dt>
        <dd>Not Applicable</dd>
        <dt>Published specification:</dt>
        <dd>https://www.w3.org/TR/did-core/</dd>
        <dt>Applications that use this media type:</dt>
        <dd>
Any application that requires an identifier that is decentralized, persistent,
cryptographically verifiable, and resolvable. Applications typically consist of
cryptographic identity systems, decentralized networks of devices, and
websites that issue or verify <abbr title="World Wide Web Consortium">W3C</abbr> Verifiable Credentials.
        </dd>
        <dt>Additional information:</dt>
        <dd>
          <dl>
            <dt>Magic number(s):</dt>
            <dd>Not Applicable</dd>
            <dt>File extension(s):</dt>
            <dd>.didcbor</dd>
            <dt>Macintosh file type code(s):</dt>
            <dd>TEXT</dd>
          </dl>
        </dd>
        <dt>Person &amp; email address to contact for further information:</dt>
        <dd>Ivan Herman &lt;ivan@w3.org&gt;</dd>
        <dt>Intended usage:</dt>
        <dd>Common</dd>
        <dt>Restrictions on usage:</dt>
        <dd>None</dd>
        <dt>Author(s):</dt>
        <dd>Drummond Reed, Manu Sporny, Markus Sabadello, Dave Longley, Christopher Allen</dd>
        <dt>Change controller:</dt>
        <dd><abbr title="World Wide Web Consortium">W3C</abbr></dd>
      </dl>

       <p>
Fragment identifiers used with
<a href="#application-did-cbor">application/did+cbor</a> are treated
according to the rules defined in <a href="#fragment" class="sec-ref">§&nbsp;Fragment</a>.
      </p>
    </section>

  </section>

  <section class="appendix" id="frequently-asked-questions-about-did-identification">
    <h2 id="c-frequently-asked-questions-about-did-identification"><bdi class="secno">C. </bdi>Frequently Asked Questions about DID Identification<a class="self-link" aria-label="§" href="#frequently-asked-questions-about-did-identification"></a></h2>
    <section id="what-types-of-resources-can-a-did-identify">
      <h3 id="c-1-what-types-of-resources-can-a-did-identify"><bdi class="secno">C.1 </bdi>What types of resources can a DID identify?<a class="self-link" aria-label="§" href="#what-types-of-resources-can-a-did-identify"></a></h3>
      <p>
Since a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-157">DID</a> is a specific type of URI (Uniform Resource Identifier),
the answer to this question is provided by section 1.1 of the URI
specification [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>]:
      </p>
      <blockquote>
This specification does not limit the scope of what might be a resource;
rather, the term "resource" is used in a general sense for whatever might be
identified by a URI. Familiar examples include an electronic document, an
image, a source of information with a consistent purpose (e.g., "today's
weather report for Los Angeles"), a service (e.g., an HTTP-to-SMS gateway),
and a collection of other resources.  A resource is not necessarily
accessible via the Internet; e.g., human beings, corporations, and bound
books in a library can also be resources.  Likewise, abstract concepts can
be resources, such as the operators and operands of a mathematical equation,
the types of a relationship (e.g., "parent" or "employee"), or numeric
values (e.g., zero, one, and infinity).
      </blockquote>
      <p>
In other words, it does not matter whether a resource is "on" or "off" the
Internet—if it can be identified, it can be assigned a URI, and therefore it
can be assigned a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-158">DID</a>.
      </p>
    </section>
    <section id="how-do-you-know-what-a-did-identifies">
      <h3 id="c-2-how-do-you-know-what-a-did-identifies"><bdi class="secno">C.2 </bdi>How do you know what a DID identifies?<a class="self-link" aria-label="§" href="#how-do-you-know-what-a-did-identifies"></a></h3>
      <p>
For any <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-159">DID</a>, the <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-34">DID controller</a> determines the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-66">DID subject</a>.
It is not expected to be possible to determine the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-67">DID subject</a>
from looking at the <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-160">DID</a> itself. The reason is that, in order to satisfy
several core properties of a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-161">DID</a> as an identifier—especially
decentralization and cryptographic verifiability—<a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-162">DIDs</a> are generally
only meaningful to machines, not humans. To illustrate, compare the following
two URIs:
      </p>
      <p>
        <code>https://www.w3.org/2019/did-wg/WorkMode/getting-started</code>
      </p>
      <p>
        <code>did:example:8uQhQMGzWxR8vw5P3UWH1j</code>
      </p>
      <p>
The first is the URL of the Getting Started page of the <abbr title="World Wide Web Consortium">W3C</abbr> DID Working
Group. This is a human-meaningful identifier (at least to someone who
understands the English language). In this sense, the reader can be said to
"know" what the URL identifies without having to dereference it (provided
the reader trusts the publisher of the URL).
      </p>
      <p>
The second URI—the example <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-163">DID</a>—is meaningless to humans no matter what
language you speak. What it identifies is anyone’s guess in the absence of
further information describing the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-68">DID subject</a>. So further information
about the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-69">DID subject</a> is only discoverable by resolving the <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-164">DID</a>
to the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-219">DID document</a>, obtaining a verifiable credential about the
<a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-165">DID</a>, or via some other description of the <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-166">DID</a>.
      </p>
    </section>
    <section id="does-the-did-identify-the-did-document">
      <h3 id="c-3-does-the-did-identify-the-did-document"><bdi class="secno">C.3 </bdi>Does the DID identify the DID document?<a class="self-link" aria-label="§" href="#does-the-did-identify-the-did-document"></a></h3>
      <p>
No. To be very precise, the <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-167">DID</a> identifies the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-70">DID subject</a> and
<em>resolves to</em> the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-220">DID document</a> (by following the protocol
specified by the <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-109">DID method</a>). The <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-221">DID document</a> is not a
separate resource from the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-71">DID subject</a> and does not have a URI
separate from the <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-168">DID</a>. Rather the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-222">DID document</a> is an artifact
of <a href="#dfn-did-resolution" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolution-16">DID resolution</a> controlled by the <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-35">DID controller</a> for the
purpose of describing the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-72">DID subject</a>.
      </p>
      <p>
This distinction is illustrated by the graph model shown below.
      </p>
      <figure id="did-and-did-document-graph">
        <img style="margin: auto; display: block; width: 75%;" src="diagrams/figure-a.1-did-and-did-document-graph.png" alt="
Diagram showing a graph model for how DID controllers assign DIDs to identify
DID subjects and resolve to DID documents that describe the DID subjects.
        " height="575" width="763">
        <figcaption>Figure <bdi class="figno">8</bdi> <span class="fig-title">
A <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-169">DID</a> is an identifier assigned by a <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-36">DID controller</a> to identify
a <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-73">DID subject</a> and resolve to a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-223">DID document</a> that describes the
<a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-74">DID subject</a>. The <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-224">DID document</a> is an artifact of <a href="#dfn-did-resolution" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-resolution-17">DID
resolution</a> and not a separate resource distinct from the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-75">DID subject</a>.
        </span></figcaption>
      </figure>
    </section>
    <section id="what-does-the-did-document-say-about-the-did-subject">
      <h3 id="c-4-what-does-the-did-document-say-about-the-did-subject"><bdi class="secno">C.4 </bdi>What does the DID document say about the DID subject?<a class="self-link" aria-label="§" href="#what-does-the-did-document-say-about-the-did-subject"></a></h3>
      <p>
Each property in a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-225">DID document</a> is a statement by the
<a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-37">DID controller</a> that refers to:
      </p>
      <ul>
        <li>
The string of characters defining identifiers for the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-76">DID subject</a>
(e.g., the <code><a href="#dfn-id" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-id-11">id</a></code> and <code><a href="#dfn-alsoknownas" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-alsoknownas-9">alsoKnownAs</a></code>
properties)
        </li>
        <li>
How to interact with the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-77">DID subject</a> (e.g., the
<code><a href="#dfn-verificationmethod" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verificationmethod-2">verificationMethod</a></code> and <code><a href="#dfn-service" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-25">service</a></code>
properties).
        </li>
        <li>
How to interpret the specific representation of the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-226">DID document</a>
(e.g., the <code>@context</code> property for a JSON-LD representation).
        </li>
      </ul>
      <p>
There is only one required property in a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-227">DID document</a>—the <code><a href="#dfn-id" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-id-12">id</a></code>
property—so that is the only statement guaranteed to be in a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-228">DID document</a>.
That statement is illustrated by the solid red arrow in figure 2 asserting
that the <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-170">DID</a> identifies the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-78">DID subject</a>.
      </p>
    </section>
    <section id="how-can-you-discover-more-information-about-the-did-subject">
      <h3 id="c-5-how-can-you-discover-more-information-about-the-did-subject"><bdi class="secno">C.5 </bdi>How can you discover more information about the DID subject?<a class="self-link" aria-label="§" href="#how-can-you-discover-more-information-about-the-did-subject"></a></h3>
      <p>
There are two basic options for discovery of more information about the
<a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-79">DID subject</a>. The first option is to request more information from a
<a href="#dfn-service-endpoints" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-endpoints-16">service endpoint</a> if one or more are present in the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-229">DID document</a>.
An example would be to query a <a href="#dfn-service-endpoints" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-service-endpoints-17">service endpoint</a> that supports
verifiable credentials for one or more claims (attributes) describing the
<a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-80">DID subject</a>.
      </p>
      <p>
A second option is to use the <code><a href="#dfn-alsoknownas" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-alsoknownas-10">alsoKnownAs</a></code> property if it
is present in the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-230">DID document</a>. The <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-38">DID controller</a> can use it
to provide a list of other URIs (including other <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-171">DIDs</a>) that identify
the same <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-81">DID subject</a>. Resolving or dereferencing these URIs might yield
other descriptions or representations of the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-82">DID subject</a> as
illustrated in the figure below.
      </p>
      <figure id="alsoKnownAs-graph">
        <img style="margin: auto; display: block; width: 75%;" src="diagrams/figure-a.2-also-known-as-graph.png" alt="
          Diagram showing a graph model that adds to figure 2 by showing an
          alsoKnownAs property with an arc to another node representing a
          different resource that dereferences to another description of the
          DID subject.
        " height="686" width="846">
        <figcaption>Figure <bdi class="figno">9</bdi> <span class="fig-title">
A <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-231">DID document</a> can use the alsoKnownAs property to assert another URI
(including another <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-172">DID</a>) that identifies the same <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-83">DID subject</a>
        </span></figcaption>
      </figure>
      <p>
This mechanism is how DID identification can fulfill guidance from the <abbr title="World Wide Web Consortium">W3C</abbr>
in <a href="https://www.w3.org/TR/cooluris/">Cool URIs for the Semantic Web</a>:
      </p>
      <blockquote>
Given only a URI, machines and people should be able to retrieve a
description about the resource identified by the URI from the Web. Such
a look-up mechanism is important to establish shared understanding of
what a URI identifies. Machines should get RDF data and humans should
get a readable representation, such as HTML.
      </blockquote>
      <p>
Note that it is not required that a <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-232">DID document</a> use an
RDF-based representation; see <a href="#representations" class="sec-ref">§&nbsp;<bdi class="secno">6. </bdi>Representations</a>.
      </p>
    </section>
    <section id="can-the-did-document-serve-as-a-representation-of-the-did-subject">
      <h3 id="c-6-can-the-did-document-serve-as-a-representation-of-the-did-subject"><bdi class="secno">C.6 </bdi>Can the DID document serve as a representation of the DID subject?<a class="self-link" aria-label="§" href="#can-the-did-document-serve-as-a-representation-of-the-did-subject"></a></h3>
      <p>
If the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-84">DID subject</a> is a digital resource that can be retrieved
from the Internet, then yes, the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-233">DID document</a> can serve as a
representation of the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-85">DID subject</a>. For example, a data schema that
needs a persistent, cryptographically verifiable identifier could be
assigned a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-173">DID</a>, and its <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-234">DID document</a> could be used as a
standard way to retrieve a representation of that schema.
      </p>
      <p>
Alternately, a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-174">DID</a> can be used to identify a digital resource
that can be returned directly from a <a href="#dfn-verifiable-data-registry" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-verifiable-data-registry-10">verifiable data registry</a> if
that functionality is supported by the applicable <a href="#dfn-did-methods" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-methods-110">DID method</a>.
      </p>
    </section>
    <section id="can-existing-web-resources-also-be-assigned-dids">
      <h3 id="c-7-can-existing-web-resources-also-be-assigned-dids"><bdi class="secno">C.7 </bdi>Can existing web resources also be assigned DIDs?<a class="self-link" aria-label="§" href="#can-existing-web-resources-also-be-assigned-dids"></a></h3>
      <p>
Yes, if the controller of a web page or any other web resource wants to
assign it a persistent, cryptographically verifiable identifier, the
controller can give it a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-175">DID</a>. For example, the author of a blog
hosted by a blog hosting company (under that hosting company’s own URL)
could create a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-176">DID</a> for the blog. In the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-235">DID document</a>, the
author can include an alsoKnownAs property pointing to the current URL of
the blog:
      </p>
      <code>
        "alsoKnownAs": ["https://myblog.blogging-host.example/home"]
      </code>
      <p>
If the author subsequently moves the blog to a different hosting company
(or to the author’s own domain), the author can update the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-236">DID document</a>
to point to the new URL for the blog:
      </p>
      <code>
        "alsoKnownAs": ["https://myblog.example/"]
      </code>
      <p>
The <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-177">DID</a> effectively adds a layer of indirection for the blog URL.
This layer of indirection is under the control of the author instead of
under the control of an external administrative authority such as the blog
hosting company. This is how a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-178">DID</a> can effectively function as an
enhanced <a href="https://tools.ietf.org/html/rfc8141">URN (Uniform Resource
Name)</a>—a persistent identifier for an information resource whose network
location might change over time.
      </p>
    </section>

    <section id="what-is-the-relationship-between-did-controllers-and-did-subjects">
      <h3 id="c-8-what-is-the-relationship-between-did-controllers-and-did-subjects"><bdi class="secno">C.8 </bdi>What is the relationship between DID controllers and DID subjects?<a class="self-link" aria-label="§" href="#what-is-the-relationship-between-did-controllers-and-did-subjects"></a></h3>
      <p>
To avoid confusion, it is helpful to classify
<a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-86">DID subject</a>s into two disjoint sets based on their relationship to
the <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-39">DID controller</a>.
      </p>
      <section id="set-1-the-did-subject-is-the-did-controller">
        <h4 id="c-8-1-set-1-the-did-subject-is-the-did-controller"><bdi class="secno">C.8.1 </bdi>Set #1: The DID subject <em>is</em> the DID controller<a class="self-link" aria-label="§" href="#set-1-the-did-subject-is-the-did-controller"></a></h4>
        <p>
The first case, shown in figure 4, is the common scenario where the
<a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-87">DID subject</a> is also the <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-40">DID controller</a>. This is the case when
an individual or organization creates a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-179">DID</a> to self-identify.
        </p>
        <figure id="controller-subject-equivalence">
          <img style="margin: auto; display: block; width: 75%;" src="diagrams/figure-b.1-controller-and-subject-equivalence.png" alt="
            Diagram showing the same graph model as figure 2 except with an
            equivalence arc from the DID subject to the DID controller.
          " height="485" width="620">
          <figcaption>Figure <bdi class="figno">10</bdi> <span class="fig-title">
The <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-88">DID subject</a> is the same entity as the <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-41">DID controller</a>
          </span></figcaption>
        </figure>
        <p>
From a graph model perspective, even though the nodes identified as the
<a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-42">DID controller</a> and <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-89">DID subject</a> in figure 4 are distinct,
there is a logical arc connecting them to express a semantic equivalence
relationship. (In RDF/OWL, this is expressed using the <a href="https://www.w3.org/TR/owl-ref/#sameAs-def">
<code>owl:sameAs</code> predicate</a>.)
        </p>
      </section>
      <section id="set-2-the-did-subject-is-not-the-did-controller">
        <h4 id="c-8-2-set-2-the-did-subject-is-not-the-did-controller"><bdi class="secno">C.8.2 </bdi>Set #2: The DID subject is <em>not</em> the DID controller<a class="self-link" aria-label="§" href="#set-2-the-did-subject-is-not-the-did-controller"></a></h4>
        <p>
The second case is when the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-90">DID subject</a> is a separate entity from the
<a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-43">DID controller</a>. This is the case when, for example, a parent creates
and maintains control of a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-180">DID</a> for a child; a corporation creates and
maintains control of a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-181">DID</a> for a subsidiary; or a manufacturer
creates and maintains control of a <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-182">DID</a> for a product, an IoT device,
or a digital file.
        </p>
        <p>
From a graph model perspective, the only difference from Set 1 that there is
no equivalence arc relationship between the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-91">DID subject</a> and
<a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-44">DID controller</a> nodes.
        </p>
      </section>
    </section>

    <section id="can-a-did-document-have-multiple-did-controllers">
      <h3 id="c-9-can-a-did-document-have-multiple-did-controllers"><bdi class="secno">C.9 </bdi>Can a DID document have multiple DID Controllers?<a class="self-link" aria-label="§" href="#can-a-did-document-have-multiple-did-controllers"></a></h3>
      <p>
Yes. A <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-237">DID document</a> might have more than one <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-45">DID controller</a>. In
this situation there are two basic options available for how control can be
shared.
      </p>
      <section id="option-1-independent-control">
        <h4 id="c-9-1-option-1-independent-control"><bdi class="secno">C.9.1 </bdi>Option #1: Independent Control<a class="self-link" aria-label="§" href="#option-1-independent-control"></a></h4>
        <p>
In the first option, shown in the figure below, each of the <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-46">DID controllers</a>
might act on its own, i.e., each one has full power to update the
<a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-238">DID document</a> independently. From a graph model perspective, in this
configuration:
        </p>
        <ul>
          <li>
Each additional <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-47">DID controller</a> is another distinct graph node
(which might be identified by its own <a href="#dfn-decentralized-identifiers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-decentralized-identifiers-183">DID</a>).
          </li>
          <li>
The same arcs ("controls" and "controller") exist between each
<a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-48">DID controller</a> and the <a href="#dfn-did-documents" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-documents-239">DID document</a>.
          </li>
        </ul>
        <figure id="independent-did-controllers">
          <img style="margin: auto; display: block; width: 75%;" src="diagrams/figure-c.1-independent-did-controllers.png" alt="
            Diagram showing three DID controllers each with an independent
            control relationship with the DID document
          " height="607" width="972">
          <figcaption>Figure <bdi class="figno">11</bdi> <span class="fig-title">
              Multiple independent <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-49">DID controllers</a> that can each act
              independently
          </span></figcaption>
        </figure>
      </section>
      <section id="option-2-group-control">
        <h4 id="c-9-2-option-2-group-control"><bdi class="secno">C.9.2 </bdi>Option #2: Group Control<a class="self-link" aria-label="§" href="#option-2-group-control"></a></h4>
        <p>
In the second option, the <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-50">DID controllers</a> are expected to act together
in some fashion, such as when using a cryptographic algorithm that requires
multiple digital signatures ("multi-sig") or a threshold number of digital
signatures ("m-of-n"). From a functional standpoint, this option is similar
to a single <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-51">DID controller</a> because, although each of the
<a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-52">DID controllers</a> in the <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-53">DID controller</a> group has its own graph
node, the actual control collapses into a single logical graph node
representing the <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-54">DID controller</a> group as shown in this figure:
        </p>
        <figure id="group-did-controllers">
          <img style="margin: auto; display: block; width: 75%;" src="diagrams/figure-c.2-group-did-controllers.png" alt="
            Diagram showing how three DID controllers act together as a single
            DID controller group to control a DID document
          " height="365" width="1035">
          <figcaption>Figure <bdi class="figno">12</bdi> <span class="fig-title">
Multiple <a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-55">DID controllers</a> who are expected to act together as a
<a href="#dfn-did-controllers" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-controllers-56">DID controller</a> group
          </span></figcaption>
        </figure>
        <p>
This configuration will often apply when the <a href="#dfn-did-subjects" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-did-subjects-92">DID subject</a> is an
organization, corporation, government agency, community, or other group
that is not controlled by a single individual.
        </p>
      </section>
    </section>

  </section>

  <section class="appendix" id="changes">
    <h2 id="d-changes"><bdi class="secno">D. </bdi>Changes<a class="self-link" aria-label="§" href="#changes"></a></h2>
    <p>
Changes since the <a href="https://www.w3.org/TR/2019/WD-did-core-20191107/">First Public Working
Draft</a> include:
    </p>

    <ul>
      <li>
The introduction of an abstract data model that can be serialized to multiple
representations including JSON, JSON-LD, and CBOR.
      </li>
      <li>
The introduction of a DID Specifications Registry for the purposes of
registering extension properties, representations, DID Resolution input
metadata and output metadata, DID Document metadata, DID parameters, and  DID
Methods.
      </li>
      <li>
Separation of DID Document metadata, such as created and updated values,
from DID Document properties.
      </li>
      <li>
The removal of embedded proofs in the DID Document.
      </li>
      <li>
The addition of verification relationships for the purposes of authentication,
assertion, key agreement, capability invocation and capability delegation.
      </li>
      <li>
The ability to support relating multiple identifiers with the DID Document,
such as the DID controller, also known as, equivalent IDs, and canonical IDs.
      </li>
      <li>
Enhancing privacy by reducing information that could contain personally
identifiable information in the DID Document.
      </li>
      <li>
The addition of a large section on security considerations and privacy
considerations.
      </li>
      <li>
A Representations section that details how the abstract data model can be
produced and consumed in a variety of different formats along with general
rules for all representations, producers, and consumers.
      </li>
      <li>
A section detailing the DID Resolution and DID URL Dereferencing interface
definition that all DID resolvers are expected to expose as well as inputs
and outputs to those processes.
      </li>
      <li>
DID Document examples in an appendix that provide more complex examples of
DID Document serializations.
      </li>
      <li>
IANA Considerations for multiple representations specified in DID Core.
      </li>
      <li>
Removal of the Future Work section as much of the work has now been
accomplished.
      </li>
      <li>
An acknowledgements section.
      </li>
    </ul>
  </section>

  <section class="appendix" id="acknowledgements">
    <h2 id="e-acknowledgements"><bdi class="secno">E. </bdi>Acknowledgements<a class="self-link" aria-label="§" href="#acknowledgements"></a></h2>
    <p>
The Working Group thanks the following individuals for their contributions
to this specification: <span class="issue">The final list of acknowledgements
will be compiled at the end of the Candidate Recommendation phase.</span>
    </p>
    <p>
Portions of the work on this specification have been funded by the United States
Department of Homeland Security's (US DHS) Science and Technology Directorate
under contracts HSHQDC-16-R00012-H-SB2016-1-002, and HSHQDC-17-C-00019, as well
as the US DHS Silicon Valley Innovation Program under contracts
70RSAT20T00000010, 70RSAT20T00000029, 70RSAT20T00000030, 70RSAT20T00000045,
70RSAT20T00000003, and 70RSAT20T00000033. The content of this specification does not
necessarily reflect the position or the policy of the U.S. Government and no
official endorsement should be inferred.
    </p>

    <p>
Portions of the work on this specification have also been funded by the European
Union's StandICT.eu program under sub-grantee contract number CALL05/19. The
content of this specification does not necessarily reflect the position or the
policy of the European Union and no official endorsement should be inferred.
    </p>

    <p>
Work on this specification has also been supported by the  <a href="https://www.weboftrust.info/">Rebooting the Web of Trust</a> community
facilitated by Christopher Allen, Shannon Appelcline, Kiara Robles, Brian
Weller, Betty Dhamers, Kaliya Young, Kim Hamilton Duffy, Manu Sporny, Drummond
Reed, Joe Andrieu, and Heather Vescent. Development of this specification has
also been supported by the <a href="https://w3c-ccg.github.io/"><abbr title="World Wide Web Consortium">W3C</abbr> Credentials
Community Group</a>, which has been Chaired by Kim Hamilton Duffy, Joe Andrieu,
Christopher Allen, Heather Vescent, and Wayne Chang.
    </p>

  </section>



<section id="references" class="appendix"><h2 id="f-references"><bdi class="secno">F. </bdi>References<a class="self-link" aria-label="§" href="#references"></a></h2><section id="normative-references">
    <h3 id="f-1-normative-references"><bdi class="secno">F.1 </bdi>Normative references<a class="self-link" aria-label="§" href="#normative-references"></a></h3>
    <dl class="bibliography"><dt id="bib-infra">[INFRA]</dt><dd><a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Anne van Kesteren; Domenic Denicola.  WHATWG. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a></dd><dt id="bib-json-ld11">[JSON-LD11]</dt><dd><a href="https://www.w3.org/TR/json-ld11/"><cite>JSON-LD 1.1</cite></a>. Gregg Kellogg; Pierre-Antoine Champin; Dave Longley.  W3C. 2020-07-16. W3C Recommendation. URL: <a href="https://www.w3.org/TR/json-ld11/">https://www.w3.org/TR/json-ld11/</a></dd><dt id="bib-rfc2119">[RFC2119]</dt><dd><a href="https://tools.ietf.org/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. S. Bradner.  IETF. March 1997. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a></dd><dt id="bib-rfc3552">[RFC3552]</dt><dd><a href="https://tools.ietf.org/html/rfc3552"><cite>Guidelines for Writing RFC Text on Security Considerations</cite></a>. E. Rescorla; B. Korver.  IETF. July 2003. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc3552">https://tools.ietf.org/html/rfc3552</a></dd><dt id="bib-rfc3986">[RFC3986]</dt><dd><a href="https://tools.ietf.org/html/rfc3986"><cite>Uniform Resource Identifier (URI): Generic Syntax</cite></a>. T. Berners-Lee; R. Fielding; L. Masinter.  IETF. January 2005. Internet Standard. URL: <a href="https://tools.ietf.org/html/rfc3986">https://tools.ietf.org/html/rfc3986</a></dd><dt id="bib-rfc5234">[RFC5234]</dt><dd><a href="https://tools.ietf.org/html/rfc5234"><cite>Augmented BNF for Syntax Specifications: ABNF</cite></a>. D. Crocker, Ed.; P. Overell.  IETF. January 2008. Internet Standard. URL: <a href="https://tools.ietf.org/html/rfc5234">https://tools.ietf.org/html/rfc5234</a></dd><dt id="bib-rfc7517">[RFC7517]</dt><dd><a href="https://tools.ietf.org/html/rfc7517"><cite>JSON Web Key (JWK)</cite></a>. M. Jones.  IETF. May 2015. Proposed Standard. URL: <a href="https://tools.ietf.org/html/rfc7517">https://tools.ietf.org/html/rfc7517</a></dd><dt id="bib-rfc7638">[RFC7638]</dt><dd><a href="https://tools.ietf.org/html/rfc7638"><cite>JSON Web Key (JWK) Thumbprint</cite></a>. M. Jones; N. Sakimura.  IETF. September 2015. Proposed Standard. URL: <a href="https://tools.ietf.org/html/rfc7638">https://tools.ietf.org/html/rfc7638</a></dd><dt id="bib-rfc8174">[RFC8174]</dt><dd><a href="https://tools.ietf.org/html/rfc8174"><cite>Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</cite></a>. B. Leiba.  IETF. May 2017. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc8174">https://tools.ietf.org/html/rfc8174</a></dd><dt id="bib-rfc8259">[RFC8259]</dt><dd><a href="https://tools.ietf.org/html/rfc8259"><cite>The JavaScript Object Notation (JSON) Data Interchange Format</cite></a>. T. Bray, Ed..  IETF. December 2017. Internet Standard. URL: <a href="https://tools.ietf.org/html/rfc8259">https://tools.ietf.org/html/rfc8259</a></dd><dt id="bib-rfc8949">[RFC8949]</dt><dd><a href="https://tools.ietf.org/html/rfc8949"><cite>Concise Binary Object Representation (CBOR)</cite></a>. C. Bormann; P. Hoffman.  IETF. December 2020. Internet Standard. URL: <a href="https://tools.ietf.org/html/rfc8949">https://tools.ietf.org/html/rfc8949</a></dd><dt id="bib-url">[url]</dt><dd><a href="https://url.spec.whatwg.org/"><cite>URL Standard</cite></a>. Anne van Kesteren.  WHATWG. Living Standard. URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a></dd><dt id="bib-xmlschema11-2">[XMLSCHEMA11-2]</dt><dd><a href="https://www.w3.org/TR/xmlschema11-2/"><cite>W3C XML Schema Definition Language (XSD) 1.1 Part 2: Datatypes</cite></a>. David Peterson; Sandy Gao; Ashok Malhotra; Michael Sperberg-McQueen; Henry Thompson; Paul V. Biron et al.  W3C. 5 April 2012. W3C Recommendation. URL: <a href="https://www.w3.org/TR/xmlschema11-2/">https://www.w3.org/TR/xmlschema11-2/</a></dd></dl>
  </section><section id="informative-references">
    <h3 id="f-2-informative-references"><bdi class="secno">F.2 </bdi>Informative references<a class="self-link" aria-label="§" href="#informative-references"></a></h3>
    <dl class="bibliography"><dt id="bib-base58">[BASE58]</dt><dd><a href="https://tools.ietf.org/html/draft-msporny-base58"><cite>The Base58 Encoding Scheme</cite></a>. Manu Sporny.  IETF. October 2020. Internet-Draft. URL: <a href="https://tools.ietf.org/html/draft-msporny-base58">https://tools.ietf.org/html/draft-msporny-base58</a></dd><dt id="bib-did-resolution">[DID-RESOLUTION]</dt><dd><a href="https://w3c-ccg.github.io/did-resolution/"><cite>Decentralized Identifier Resolution</cite></a>. Markus Sabadello; Dmitri Zagidulin.  Credentials Community Group. Draft Community Group Report. URL: <a href="https://w3c-ccg.github.io/did-resolution/">https://w3c-ccg.github.io/did-resolution/</a></dd><dt id="bib-did-rubric">[DID-RUBRIC]</dt><dd><a href="https://w3c.github.io/did-rubric/"><cite>Decentralized Characteristics Rubric v1.0</cite></a>. Joe Andrieu.  Credentials Community Group. Draft Community Group Report. URL: <a href="https://w3c.github.io/did-rubric/">https://w3c.github.io/did-rubric/</a></dd><dt id="bib-did-spec-registries">[DID-SPEC-REGISTRIES]</dt><dd><a href="https://w3c.github.io/did-spec-registries/"><cite>DID Specification Registries</cite></a>. Orie Steele; Manu Sporny.  Decentralized Identifier Working Group. W3C Editor's Draft. URL: <a href="https://w3c.github.io/did-spec-registries/">https://w3c.github.io/did-spec-registries/</a></dd><dt id="bib-dns-did">[DNS-DID]</dt><dd><a href="https://datatracker.ietf.org/doc/draft-mayrhofer-did-dns/"><cite>The Decentralized Identifier (DID) in the DNS</cite></a>. Alexander Mayrhofer; Dimitrij Klesev; Markus Sabadello. February 2019. Internet-Draft. URL: <a href="https://datatracker.ietf.org/doc/draft-mayrhofer-did-dns/">https://datatracker.ietf.org/doc/draft-mayrhofer-did-dns/</a></dd><dt id="bib-hashlink">[HASHLINK]</dt><dd><a href="https://tools.ietf.org/html/draft-sporny-hashlink-05"><cite>Cryptographic Hyperlinks</cite></a>. Manu Sporny.  IETF. December 2018. Internet-Draft. URL: <a href="https://tools.ietf.org/html/draft-sporny-hashlink-05">https://tools.ietf.org/html/draft-sporny-hashlink-05</a></dd><dt id="bib-iana-uri-schemes">[IANA-URI-SCHEMES]</dt><dd><a href="https://www.iana.org/assignments/uri-schemes/uri-schemes.xhtml"><cite>Uniform Resource Identifier (URI) Schemes</cite></a>.  IANA. URL: <a href="https://www.iana.org/assignments/uri-schemes/uri-schemes.xhtml">https://www.iana.org/assignments/uri-schemes/uri-schemes.xhtml</a></dd><dt id="bib-matrix-uris">[MATRIX-URIS]</dt><dd><a href="https://www.w3.org/DesignIssues/MatrixURIs.html"><cite>Matrix URIs - Ideas about Web Architecture</cite></a>. Tim Berners-Lee. December 1996. Personal View. URL: <a href="https://www.w3.org/DesignIssues/MatrixURIs.html">https://www.w3.org/DesignIssues/MatrixURIs.html</a></dd><dt id="bib-multibase">[MULTIBASE]</dt><dd><a href="https://datatracker.ietf.org/doc/html/draft-multiformats-multibase-03"><cite>The Multibase Encoding Scheme</cite></a>. Juan Benet; Manu Sporny.  IETF. February 2021. Internet-Draft. URL: <a href="https://datatracker.ietf.org/doc/html/draft-multiformats-multibase-03">https://datatracker.ietf.org/doc/html/draft-multiformats-multibase-03</a></dd><dt id="bib-privacy-by-design">[PRIVACY-BY-DESIGN]</dt><dd><a href="https://iapp.org/media/pdf/resource_center/pbd_implement_7found_principles.pdf"><cite>Privacy by Design</cite></a>. Ann Cavoukian.  Information and Privacy Commissioner. 2011. URL: <a href="https://iapp.org/media/pdf/resource_center/pbd_implement_7found_principles.pdf">https://iapp.org/media/pdf/resource_center/pbd_implement_7found_principles.pdf</a></dd><dt id="bib-rfc4122">[RFC4122]</dt><dd><a href="https://tools.ietf.org/html/rfc4122"><cite>A Universally Unique IDentifier (UUID) URN Namespace</cite></a>. P. Leach; M. Mealling; R. Salz.  IETF. July 2005. Proposed Standard. URL: <a href="https://tools.ietf.org/html/rfc4122">https://tools.ietf.org/html/rfc4122</a></dd><dt id="bib-rfc6901">[RFC6901]</dt><dd><a href="https://tools.ietf.org/html/rfc6901"><cite>JavaScript Object Notation (JSON) Pointer</cite></a>. P. Bryan, Ed.; K. Zyp; M. Nottingham, Ed..  IETF. April 2013. Proposed Standard. URL: <a href="https://tools.ietf.org/html/rfc6901">https://tools.ietf.org/html/rfc6901</a></dd><dt id="bib-rfc6973">[RFC6973]</dt><dd><a href="https://tools.ietf.org/html/rfc6973"><cite>Privacy Considerations for Internet Protocols</cite></a>. A. Cooper; H. Tschofenig; B. Aboba; J. Peterson; J. Morris; M. Hansen; R. Smith.  IETF. July 2013. Informational. URL: <a href="https://tools.ietf.org/html/rfc6973">https://tools.ietf.org/html/rfc6973</a></dd><dt id="bib-rfc7230">[RFC7230]</dt><dd><a href="https://httpwg.org/specs/rfc7230.html"><cite>Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing</cite></a>. R. Fielding, Ed.; J. Reschke, Ed..  IETF. June 2014. Proposed Standard. URL: <a href="https://httpwg.org/specs/rfc7230.html">https://httpwg.org/specs/rfc7230.html</a></dd><dt id="bib-rfc7231">[RFC7231]</dt><dd><a href="https://httpwg.org/specs/rfc7231.html"><cite>Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content</cite></a>. R. Fielding, Ed.; J. Reschke, Ed..  IETF. June 2014. Proposed Standard. URL: <a href="https://httpwg.org/specs/rfc7231.html">https://httpwg.org/specs/rfc7231.html</a></dd><dt id="bib-rfc8141">[RFC8141]</dt><dd><a href="https://tools.ietf.org/html/rfc8141"><cite>Uniform Resource Names (URNs)</cite></a>. P. Saint-Andre; J. Klensin.  IETF. April 2017. Proposed Standard. URL: <a href="https://tools.ietf.org/html/rfc8141">https://tools.ietf.org/html/rfc8141</a></dd><dt id="bib-vc-data-model">[VC-DATA-MODEL]</dt><dd><a href="https://www.w3.org/TR/vc-data-model/"><cite>Verifiable Credentials Data Model 1.0</cite></a>. Manu Sporny; Grant Noble; Dave Longley; Daniel Burnett; Brent Zundel.  W3C. 2019-11-19. W3C Recommendation. URL: <a href="https://www.w3.org/TR/vc-data-model/">https://www.w3.org/TR/vc-data-model/</a></dd></dl>
  </section></section><p role="navigation" id="back-to-top">
    <a href="#title"><abbr title="Back to Top">↑</abbr></a>
  </p><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-conforming-did">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-conforming-did">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-conforming-did-1">1.4 Conformance</a> <a href="#ref-for-dfn-conforming-did-2">(2)</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-conforming-did-document">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-conforming-did-document">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-conforming-did-document-1">1.4 Conformance</a> <a href="#ref-for-dfn-conforming-did-document-2">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-conforming-did-document-3">7.1 DID Resolution</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-conforming-producer">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-conforming-producer">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-conforming-producer-1">5.4 Services</a>
  </li><li>
    <a href="#ref-for-dfn-conforming-producer-2">6.1 Production and Consumption</a> <a href="#ref-for-dfn-conforming-producer-3">(2)</a> <a href="#ref-for-dfn-conforming-producer-4">(3)</a> <a href="#ref-for-dfn-conforming-producer-5">(4)</a> <a href="#ref-for-dfn-conforming-producer-6">(5)</a>
  </li><li>
    <a href="#ref-for-dfn-conforming-producer-7">6.2.1 Production</a> <a href="#ref-for-dfn-conforming-producer-8">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-conforming-producer-9">6.3.1 Production</a> <a href="#ref-for-dfn-conforming-producer-10">(2)</a> <a href="#ref-for-dfn-conforming-producer-11">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-conforming-producer-12">6.4.1 Production</a> <a href="#ref-for-dfn-conforming-producer-13">(2)</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-conforming-consumer">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-conforming-consumer">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-conforming-consumer-1">5.4 Services</a>
  </li><li>
    <a href="#ref-for-dfn-conforming-consumer-2">6.1 Production and Consumption</a> <a href="#ref-for-dfn-conforming-consumer-3">(2)</a> <a href="#ref-for-dfn-conforming-consumer-4">(3)</a> <a href="#ref-for-dfn-conforming-consumer-5">(4)</a> <a href="#ref-for-dfn-conforming-consumer-6">(5)</a> <a href="#ref-for-dfn-conforming-consumer-7">(6)</a>
  </li><li>
    <a href="#ref-for-dfn-conforming-consumer-8">6.2.2 Consumption</a> <a href="#ref-for-dfn-conforming-consumer-9">(2)</a> <a href="#ref-for-dfn-conforming-consumer-10">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-conforming-consumer-11">6.3.1 Production</a>
  </li><li>
    <a href="#ref-for-dfn-conforming-consumer-12">6.3.2 Consumption</a> <a href="#ref-for-dfn-conforming-consumer-13">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-conforming-consumer-14">6.4.2 Consumption</a> <a href="#ref-for-dfn-conforming-consumer-15">(2)</a> <a href="#ref-for-dfn-conforming-consumer-16">(3)</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-authenticated">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-authenticated">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-authenticated-1">1.1 A Simple Example</a>
  </li><li>
    <a href="#ref-for-dfn-authenticated-2">2. Terminology</a> <a href="#ref-for-dfn-authenticated-3">(2)</a> <a href="#ref-for-dfn-authenticated-4">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-authenticated-5">5.2 Verification Methods</a>
  </li><li>
    <a href="#ref-for-dfn-authenticated-6">5.3.1 Authentication</a> <a href="#ref-for-dfn-authenticated-7">(2)</a> <a href="#ref-for-dfn-authenticated-8">(3)</a> <a href="#ref-for-dfn-authenticated-9">(4)</a> <a href="#ref-for-dfn-authenticated-10">(5)</a> <a href="#ref-for-dfn-authenticated-11">(6)</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-binding">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-binding">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-binding-1">9.2.1 Proving Control of a DID and DID Document</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-decentralized-identifiers">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-decentralized-identifiers">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-decentralized-identifiers-1">Abstract</a> <a href="#ref-for-dfn-decentralized-identifiers-2">(2)</a> <a href="#ref-for-dfn-decentralized-identifiers-3">(3)</a> <a href="#ref-for-dfn-decentralized-identifiers-4">(4)</a> <a href="#ref-for-dfn-decentralized-identifiers-5">(5)</a> <a href="#ref-for-dfn-decentralized-identifiers-6">(6)</a> <a href="#ref-for-dfn-decentralized-identifiers-7">(7)</a> <a href="#ref-for-dfn-decentralized-identifiers-8">(8)</a> <a href="#ref-for-dfn-decentralized-identifiers-9">(9)</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-10">1.1 A Simple Example</a> <a href="#ref-for-dfn-decentralized-identifiers-11">(2)</a> <a href="#ref-for-dfn-decentralized-identifiers-12">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-13">1.2 Design Goals</a> <a href="#ref-for-dfn-decentralized-identifiers-14">(2)</a> <a href="#ref-for-dfn-decentralized-identifiers-15">(3)</a> <a href="#ref-for-dfn-decentralized-identifiers-16">(4)</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-17">1.3 Architecture Overview</a> <a href="#ref-for-dfn-decentralized-identifiers-18">(2)</a> <a href="#ref-for-dfn-decentralized-identifiers-19">(3)</a> <a href="#ref-for-dfn-decentralized-identifiers-20">(4)</a> <a href="#ref-for-dfn-decentralized-identifiers-21">(5)</a> <a href="#ref-for-dfn-decentralized-identifiers-22">(6)</a> <a href="#ref-for-dfn-decentralized-identifiers-23">(7)</a> <a href="#ref-for-dfn-decentralized-identifiers-24">(8)</a> <a href="#ref-for-dfn-decentralized-identifiers-25">(9)</a> <a href="#ref-for-dfn-decentralized-identifiers-26">(10)</a> <a href="#ref-for-dfn-decentralized-identifiers-27">(11)</a> <a href="#ref-for-dfn-decentralized-identifiers-28">(12)</a> <a href="#ref-for-dfn-decentralized-identifiers-29">(13)</a> <a href="#ref-for-dfn-decentralized-identifiers-30">(14)</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-31">1.4 Conformance</a> <a href="#ref-for-dfn-decentralized-identifiers-32">(2)</a> <a href="#ref-for-dfn-decentralized-identifiers-33">(3)</a> <a href="#ref-for-dfn-decentralized-identifiers-34">(4)</a> <a href="#ref-for-dfn-decentralized-identifiers-35">(5)</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-36">2. Terminology</a> <a href="#ref-for-dfn-decentralized-identifiers-37">(2)</a> <a href="#ref-for-dfn-decentralized-identifiers-38">(3)</a>  <a href="#ref-for-dfn-decentralized-identifiers-40">(5)</a> <a href="#ref-for-dfn-decentralized-identifiers-41">(6)</a> <a href="#ref-for-dfn-decentralized-identifiers-42">(7)</a> <a href="#ref-for-dfn-decentralized-identifiers-43">(8)</a> <a href="#ref-for-dfn-decentralized-identifiers-44">(9)</a> <a href="#ref-for-dfn-decentralized-identifiers-45">(10)</a> <a href="#ref-for-dfn-decentralized-identifiers-46">(11)</a> <a href="#ref-for-dfn-decentralized-identifiers-47">(12)</a> <a href="#ref-for-dfn-decentralized-identifiers-48">(13)</a> <a href="#ref-for-dfn-decentralized-identifiers-49">(14)</a> <a href="#ref-for-dfn-decentralized-identifiers-50">(15)</a> <a href="#ref-for-dfn-decentralized-identifiers-51">(16)</a> <a href="#ref-for-dfn-decentralized-identifiers-52">(17)</a> <a href="#ref-for-dfn-decentralized-identifiers-53">(18)</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-54">3. Identifier</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-55">3.1 DID Syntax</a> <a href="#ref-for-dfn-decentralized-identifiers-56">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-57">3.2.1 DID Parameters</a> <a href="#ref-for-dfn-decentralized-identifiers-58">(2)</a> <a href="#ref-for-dfn-decentralized-identifiers-59">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-60">3.2.2 Relative DID URLs</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-61">5. Core Properties</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-62">5.1.1 DID Subject</a> <a href="#ref-for-dfn-decentralized-identifiers-63">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-64">5.1.2 DID Controller</a> <a href="#ref-for-dfn-decentralized-identifiers-65">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-66">5.1.3 Also Known As</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-67">5.2.1 Verification Material</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-68">5.3.1 Authentication</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-69">6.1 Production and Consumption</a> <a href="#ref-for-dfn-decentralized-identifiers-70">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-71">7.1 DID Resolution</a> <a href="#ref-for-dfn-decentralized-identifiers-72">(2)</a> <a href="#ref-for-dfn-decentralized-identifiers-73">(3)</a> <a href="#ref-for-dfn-decentralized-identifiers-74">(4)</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-75">7.1.2 DID Resolution Metadata</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-76">7.1.3 DID Document Metadata</a> <a href="#ref-for-dfn-decentralized-identifiers-77">(2)</a> <a href="#ref-for-dfn-decentralized-identifiers-78">(3)</a> <a href="#ref-for-dfn-decentralized-identifiers-79">(4)</a> <a href="#ref-for-dfn-decentralized-identifiers-80">(5)</a> <a href="#ref-for-dfn-decentralized-identifiers-81">(6)</a> <a href="#ref-for-dfn-decentralized-identifiers-82">(7)</a> <a href="#ref-for-dfn-decentralized-identifiers-83">(8)</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-84">7.2 DID URL Dereferencing</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-85">7.3 Metadata Structure</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-86">8. Methods</a> <a href="#ref-for-dfn-decentralized-identifiers-87">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-88">8.1 Method Syntax</a> <a href="#ref-for-dfn-decentralized-identifiers-89">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-90">8.2 Method Operations</a> <a href="#ref-for-dfn-decentralized-identifiers-91">(2)</a> <a href="#ref-for-dfn-decentralized-identifiers-92">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-93">8.3 Security Requirements</a> <a href="#ref-for-dfn-decentralized-identifiers-94">(2)</a> <a href="#ref-for-dfn-decentralized-identifiers-95">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-96">9. Security Considerations</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-97">9.2 Binding of Identity</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-98">9.2.1 Proving Control of a DID and DID Document</a> <a href="#ref-for-dfn-decentralized-identifiers-99">(2)</a> <a href="#ref-for-dfn-decentralized-identifiers-100">(3)</a> <a href="#ref-for-dfn-decentralized-identifiers-101">(4)</a> <a href="#ref-for-dfn-decentralized-identifiers-102">(5)</a> <a href="#ref-for-dfn-decentralized-identifiers-103">(6)</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-104">9.2.3 Real-World Identity</a> <a href="#ref-for-dfn-decentralized-identifiers-105">(2)</a> <a href="#ref-for-dfn-decentralized-identifiers-106">(3)</a> <a href="#ref-for-dfn-decentralized-identifiers-107">(4)</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-108">9.4 Non-Repudiation</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-109">9.5 Notification of DID Document Changes</a> <a href="#ref-for-dfn-decentralized-identifiers-110">(2)</a> <a href="#ref-for-dfn-decentralized-identifiers-111">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-112">9.6 Key and Signature Expiration</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-113">9.7 Verification Method Rotation</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-114">9.8 Verification Method Revocation</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-115">9.9 DID Recovery</a> <a href="#ref-for-dfn-decentralized-identifiers-116">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-117">9.10 The Role of Human-Friendly Identifiers</a> <a href="#ref-for-dfn-decentralized-identifiers-118">(2)</a> <a href="#ref-for-dfn-decentralized-identifiers-119">(3)</a> <a href="#ref-for-dfn-decentralized-identifiers-120">(4)</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-121">9.11 DIDs as Enhanced URNs</a> <a href="#ref-for-dfn-decentralized-identifiers-122">(2)</a> <a href="#ref-for-dfn-decentralized-identifiers-123">(3)</a> <a href="#ref-for-dfn-decentralized-identifiers-124">(4)</a> <a href="#ref-for-dfn-decentralized-identifiers-125">(5)</a> <a href="#ref-for-dfn-decentralized-identifiers-126">(6)</a> <a href="#ref-for-dfn-decentralized-identifiers-127">(7)</a> <a href="#ref-for-dfn-decentralized-identifiers-128">(8)</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-129">9.13 Encrypted Data in DID Documents</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-130">9.14 Equivalence Properties</a> <a href="#ref-for-dfn-decentralized-identifiers-131">(2)</a> <a href="#ref-for-dfn-decentralized-identifiers-132">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-133">10. Privacy Considerations</a> <a href="#ref-for-dfn-decentralized-identifiers-134">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-135">10.1 Keep Personal Data Private</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-136">10.2 DID Correlation Risks and Pseudonymous DIDs</a> <a href="#ref-for-dfn-decentralized-identifiers-137">(2)</a> <a href="#ref-for-dfn-decentralized-identifiers-138">(3)</a> <a href="#ref-for-dfn-decentralized-identifiers-139">(4)</a> <a href="#ref-for-dfn-decentralized-identifiers-140">(5)</a> <a href="#ref-for-dfn-decentralized-identifiers-141">(6)</a> <a href="#ref-for-dfn-decentralized-identifiers-142">(7)</a> <a href="#ref-for-dfn-decentralized-identifiers-143">(8)</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-144">10.3 DID Document Correlation Risks</a> <a href="#ref-for-dfn-decentralized-identifiers-145">(2)</a> <a href="#ref-for-dfn-decentralized-identifiers-146">(3)</a> <a href="#ref-for-dfn-decentralized-identifiers-147">(4)</a> <a href="#ref-for-dfn-decentralized-identifiers-148">(5)</a> <a href="#ref-for-dfn-decentralized-identifiers-149">(6)</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-150">10.4 Assigning a type to the DID subject</a> <a href="#ref-for-dfn-decentralized-identifiers-151">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-152">10.5 Herd Privacy</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-153">10.6 Service Privacy</a> <a href="#ref-for-dfn-decentralized-identifiers-154">(2)</a> <a href="#ref-for-dfn-decentralized-identifiers-155">(3)</a> <a href="#ref-for-dfn-decentralized-identifiers-156">(4)</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-157">C.1 What types of resources can a DID identify?</a> <a href="#ref-for-dfn-decentralized-identifiers-158">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-159">C.2 How do you know what a DID identifies?</a> <a href="#ref-for-dfn-decentralized-identifiers-160">(2)</a> <a href="#ref-for-dfn-decentralized-identifiers-161">(3)</a> <a href="#ref-for-dfn-decentralized-identifiers-162">(4)</a> <a href="#ref-for-dfn-decentralized-identifiers-163">(5)</a> <a href="#ref-for-dfn-decentralized-identifiers-164">(6)</a> <a href="#ref-for-dfn-decentralized-identifiers-165">(7)</a> <a href="#ref-for-dfn-decentralized-identifiers-166">(8)</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-167">C.3 Does the DID identify the DID document?</a> <a href="#ref-for-dfn-decentralized-identifiers-168">(2)</a> <a href="#ref-for-dfn-decentralized-identifiers-169">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-170">C.4 What does the DID document say about the DID subject?</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-171">C.5 How can you discover more information about the DID subject?</a> <a href="#ref-for-dfn-decentralized-identifiers-172">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-173">C.6 Can the DID document serve as a representation of the DID subject?</a> <a href="#ref-for-dfn-decentralized-identifiers-174">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-175">C.7 Can existing web resources also be assigned DIDs?</a> <a href="#ref-for-dfn-decentralized-identifiers-176">(2)</a> <a href="#ref-for-dfn-decentralized-identifiers-177">(3)</a> <a href="#ref-for-dfn-decentralized-identifiers-178">(4)</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-179">C.8.1 Set #1: The DID subject is the DID controller</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-180">C.8.2 Set #2: The DID subject is not the DID controller</a> <a href="#ref-for-dfn-decentralized-identifiers-181">(2)</a> <a href="#ref-for-dfn-decentralized-identifiers-182">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-decentralized-identifiers-183">C.9.1 Option #1: Independent Control</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-decentralized-identity-management">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-decentralized-identity-management">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-decentralized-identity-management-1">5.4 Services</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-did-controllers">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-did-controllers">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-did-controllers-1">Abstract</a>
  </li><li>
    <a href="#ref-for-dfn-did-controllers-2">1.1 A Simple Example</a>
  </li><li>
    <a href="#ref-for-dfn-did-controllers-3">1.2 Design Goals</a>
  </li><li>
    <a href="#ref-for-dfn-did-controllers-4">1.3 Architecture Overview</a> <a href="#ref-for-dfn-did-controllers-5">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-controllers-6">2. Terminology</a>
  </li><li>
    <a href="#ref-for-dfn-did-controllers-7">Path</a>
  </li><li>
    <a href="#ref-for-dfn-did-controllers-8">5.1 Identifiers</a>
  </li><li>
    <a href="#ref-for-dfn-did-controllers-9">5.1.2 DID Controller</a> <a href="#ref-for-dfn-did-controllers-10">(2)</a> <a href="#ref-for-dfn-did-controllers-11">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-did-controllers-12">5.2 Verification Methods</a> <a href="#ref-for-dfn-did-controllers-13">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-controllers-14">5.3.1 Authentication</a> <a href="#ref-for-dfn-did-controllers-15">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-controllers-16">5.3.5 Capability Delegation</a>
  </li><li>
    <a href="#ref-for-dfn-did-controllers-17">8.2 Method Operations</a> <a href="#ref-for-dfn-did-controllers-18">(2)</a> <a href="#ref-for-dfn-did-controllers-19">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-did-controllers-20">9.2.1 Proving Control of a DID and DID Document</a>
  </li><li>
    <a href="#ref-for-dfn-did-controllers-21">9.5 Notification of DID Document Changes</a> <a href="#ref-for-dfn-did-controllers-22">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-controllers-23">9.10 The Role of Human-Friendly Identifiers</a>
  </li><li>
    <a href="#ref-for-dfn-did-controllers-24">9.11 DIDs as Enhanced URNs</a> <a href="#ref-for-dfn-did-controllers-25">(2)</a> <a href="#ref-for-dfn-did-controllers-26">(3)</a> <a href="#ref-for-dfn-did-controllers-27">(4)</a> <a href="#ref-for-dfn-did-controllers-28">(5)</a> <a href="#ref-for-dfn-did-controllers-29">(6)</a>
  </li><li>
    <a href="#ref-for-dfn-did-controllers-30">10. Privacy Considerations</a>
  </li><li>
    <a href="#ref-for-dfn-did-controllers-31">10.1 Keep Personal Data Private</a>
  </li><li>
    <a href="#ref-for-dfn-did-controllers-32">10.2 DID Correlation Risks and Pseudonymous DIDs</a>
  </li><li>
    <a href="#ref-for-dfn-did-controllers-33">10.4 Assigning a type to the DID subject</a>
  </li><li>
    <a href="#ref-for-dfn-did-controllers-34">C.2 How do you know what a DID identifies?</a>
  </li><li>
    <a href="#ref-for-dfn-did-controllers-35">C.3 Does the DID identify the DID document?</a> <a href="#ref-for-dfn-did-controllers-36">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-controllers-37">C.4 What does the DID document say about the DID subject?</a>
  </li><li>
    <a href="#ref-for-dfn-did-controllers-38">C.5 How can you discover more information about the DID subject?</a>
  </li><li>
    <a href="#ref-for-dfn-did-controllers-39">C.8 What is the relationship between DID controllers and DID subjects?</a>
  </li><li>
    <a href="#ref-for-dfn-did-controllers-40">C.8.1 Set #1: The DID subject is the DID controller</a> <a href="#ref-for-dfn-did-controllers-41">(2)</a> <a href="#ref-for-dfn-did-controllers-42">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-did-controllers-43">C.8.2 Set #2: The DID subject is not the DID controller</a> <a href="#ref-for-dfn-did-controllers-44">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-controllers-45">C.9 Can a DID document have multiple DID Controllers?</a>
  </li><li>
    <a href="#ref-for-dfn-did-controllers-46">C.9.1 Option #1: Independent Control</a> <a href="#ref-for-dfn-did-controllers-47">(2)</a> <a href="#ref-for-dfn-did-controllers-48">(3)</a> <a href="#ref-for-dfn-did-controllers-49">(4)</a>
  </li><li>
    <a href="#ref-for-dfn-did-controllers-50">C.9.2 Option #2: Group Control</a> <a href="#ref-for-dfn-did-controllers-51">(2)</a> <a href="#ref-for-dfn-did-controllers-52">(3)</a> <a href="#ref-for-dfn-did-controllers-53">(4)</a> <a href="#ref-for-dfn-did-controllers-54">(5)</a> <a href="#ref-for-dfn-did-controllers-55">(6)</a> <a href="#ref-for-dfn-did-controllers-56">(7)</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-did-delegate">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-did-delegate">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-did-delegate-1">2. Terminology</a> <a href="#ref-for-dfn-did-delegate-2">(2)</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-did-documents">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-did-documents">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-did-documents-1">Abstract</a> <a href="#ref-for-dfn-did-documents-2">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-3">1.1 A Simple Example</a> <a href="#ref-for-dfn-did-documents-4">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-5">1.2 Design Goals</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-6">1.3 Architecture Overview</a> <a href="#ref-for-dfn-did-documents-7">(2)</a> <a href="#ref-for-dfn-did-documents-8">(3)</a> <a href="#ref-for-dfn-did-documents-9">(4)</a> <a href="#ref-for-dfn-did-documents-10">(5)</a> <a href="#ref-for-dfn-did-documents-11">(6)</a> <a href="#ref-for-dfn-did-documents-12">(7)</a> <a href="#ref-for-dfn-did-documents-13">(8)</a> <a href="#ref-for-dfn-did-documents-14">(9)</a> <a href="#ref-for-dfn-did-documents-15">(10)</a> <a href="#ref-for-dfn-did-documents-16">(11)</a> <a href="#ref-for-dfn-did-documents-17">(12)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-18">1.4 Conformance</a> <a href="#ref-for-dfn-did-documents-19">(2)</a> <a href="#ref-for-dfn-did-documents-20">(3)</a> <a href="#ref-for-dfn-did-documents-21">(4)</a> <a href="#ref-for-dfn-did-documents-22">(5)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-23">2. Terminology</a>  <a href="#ref-for-dfn-did-documents-25">(3)</a> <a href="#ref-for-dfn-did-documents-26">(4)</a> <a href="#ref-for-dfn-did-documents-27">(5)</a> <a href="#ref-for-dfn-did-documents-28">(6)</a> <a href="#ref-for-dfn-did-documents-29">(7)</a> <a href="#ref-for-dfn-did-documents-30">(8)</a> <a href="#ref-for-dfn-did-documents-31">(9)</a> <a href="#ref-for-dfn-did-documents-32">(10)</a> <a href="#ref-for-dfn-did-documents-33">(11)</a> <a href="#ref-for-dfn-did-documents-34">(12)</a> <a href="#ref-for-dfn-did-documents-35">(13)</a> <a href="#ref-for-dfn-did-documents-36">(14)</a> <a href="#ref-for-dfn-did-documents-37">(15)</a> <a href="#ref-for-dfn-did-documents-38">(16)</a> <a href="#ref-for-dfn-did-documents-39">(17)</a> <a href="#ref-for-dfn-did-documents-40">(18)</a> <a href="#ref-for-dfn-did-documents-41">(19)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-42">3.2 DID URL Syntax</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-43">Fragment</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-44">3.2.1 DID Parameters</a> <a href="#ref-for-dfn-did-documents-45">(2)</a> <a href="#ref-for-dfn-did-documents-46">(3)</a> <a href="#ref-for-dfn-did-documents-47">(4)</a> <a href="#ref-for-dfn-did-documents-48">(5)</a> <a href="#ref-for-dfn-did-documents-49">(6)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-50">3.2.2 Relative DID URLs</a> <a href="#ref-for-dfn-did-documents-51">(2)</a> <a href="#ref-for-dfn-did-documents-52">(3)</a> <a href="#ref-for-dfn-did-documents-53">(4)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-54">4. Data Model</a> <a href="#ref-for-dfn-did-documents-55">(2)</a> <a href="#ref-for-dfn-did-documents-56">(3)</a> <a href="#ref-for-dfn-did-documents-57">(4)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-58">5. Core Properties</a> <a href="#ref-for-dfn-did-documents-59">(2)</a> <a href="#ref-for-dfn-did-documents-60">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-61">5.1 Identifiers</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-62">5.1.1 DID Subject</a> <a href="#ref-for-dfn-did-documents-63">(2)</a> <a href="#ref-for-dfn-did-documents-64">(3)</a> <a href="#ref-for-dfn-did-documents-65">(4)</a> <a href="#ref-for-dfn-did-documents-66">(5)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-67">5.1.2 DID Controller</a> <a href="#ref-for-dfn-did-documents-68">(2)</a> <a href="#ref-for-dfn-did-documents-69">(3)</a> <a href="#ref-for-dfn-did-documents-70">(4)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-71">5.1.3 Also Known As</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-72">5.2 Verification Methods</a> <a href="#ref-for-dfn-did-documents-73">(2)</a> <a href="#ref-for-dfn-did-documents-74">(3)</a> <a href="#ref-for-dfn-did-documents-75">(4)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-76">5.2.1 Verification Material</a> <a href="#ref-for-dfn-did-documents-77">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-78">5.2.2 Referring to Verification Methods</a> <a href="#ref-for-dfn-did-documents-79">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-80">5.3 Verification Relationships</a> <a href="#ref-for-dfn-did-documents-81">(2)</a> <a href="#ref-for-dfn-did-documents-82">(3)</a> <a href="#ref-for-dfn-did-documents-83">(4)</a> <a href="#ref-for-dfn-did-documents-84">(5)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-85">5.3.1 Authentication</a> <a href="#ref-for-dfn-did-documents-86">(2)</a> <a href="#ref-for-dfn-did-documents-87">(3)</a> <a href="#ref-for-dfn-did-documents-88">(4)</a> <a href="#ref-for-dfn-did-documents-89">(5)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-90">5.3.2 Assertion</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-91">5.3.4 Capability Invocation</a> <a href="#ref-for-dfn-did-documents-92">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-93">5.4 Services</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-94">6. Representations</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-95">6.1 Production and Consumption</a> <a href="#ref-for-dfn-did-documents-96">(2)</a> <a href="#ref-for-dfn-did-documents-97">(3)</a> <a href="#ref-for-dfn-did-documents-98">(4)</a> <a href="#ref-for-dfn-did-documents-99">(5)</a> <a href="#ref-for-dfn-did-documents-100">(6)</a> <a href="#ref-for-dfn-did-documents-101">(7)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-102">6.2.1 Production</a> <a href="#ref-for-dfn-did-documents-103">(2)</a> <a href="#ref-for-dfn-did-documents-104">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-105">6.2.2 Consumption</a> <a href="#ref-for-dfn-did-documents-106">(2)</a> <a href="#ref-for-dfn-did-documents-107">(3)</a> <a href="#ref-for-dfn-did-documents-108">(4)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-109">6.3.1 Production</a> <a href="#ref-for-dfn-did-documents-110">(2)</a> <a href="#ref-for-dfn-did-documents-111">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-112">6.3.2 Consumption</a> <a href="#ref-for-dfn-did-documents-113">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-114">6.4.1 Production</a> <a href="#ref-for-dfn-did-documents-115">(2)</a> <a href="#ref-for-dfn-did-documents-116">(3)</a> <a href="#ref-for-dfn-did-documents-117">(4)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-118">6.4.2 Consumption</a> <a href="#ref-for-dfn-did-documents-119">(2)</a> <a href="#ref-for-dfn-did-documents-120">(3)</a> <a href="#ref-for-dfn-did-documents-121">(4)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-122">7. Resolution</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-123">7.1 DID Resolution</a> <a href="#ref-for-dfn-did-documents-124">(2)</a> <a href="#ref-for-dfn-did-documents-125">(3)</a> <a href="#ref-for-dfn-did-documents-126">(4)</a> <a href="#ref-for-dfn-did-documents-127">(5)</a> <a href="#ref-for-dfn-did-documents-128">(6)</a> <a href="#ref-for-dfn-did-documents-129">(7)</a> <a href="#ref-for-dfn-did-documents-130">(8)</a> <a href="#ref-for-dfn-did-documents-131">(9)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-132">7.1.1 DID Resolution Options</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-133">7.1.2 DID Resolution Metadata</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-134">7.1.3 DID Document Metadata</a> <a href="#ref-for-dfn-did-documents-135">(2)</a> <a href="#ref-for-dfn-did-documents-136">(3)</a> <a href="#ref-for-dfn-did-documents-137">(4)</a> <a href="#ref-for-dfn-did-documents-138">(5)</a> <a href="#ref-for-dfn-did-documents-139">(6)</a> <a href="#ref-for-dfn-did-documents-140">(7)</a> <a href="#ref-for-dfn-did-documents-141">(8)</a> <a href="#ref-for-dfn-did-documents-142">(9)</a> <a href="#ref-for-dfn-did-documents-143">(10)</a> <a href="#ref-for-dfn-did-documents-144">(11)</a> <a href="#ref-for-dfn-did-documents-145">(12)</a> <a href="#ref-for-dfn-did-documents-146">(13)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-147">7.2 DID URL Dereferencing</a> <a href="#ref-for-dfn-did-documents-148">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-149">7.3 Metadata Structure</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-150">8. Methods</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-151">8.2 Method Operations</a> <a href="#ref-for-dfn-did-documents-152">(2)</a> <a href="#ref-for-dfn-did-documents-153">(3)</a> <a href="#ref-for-dfn-did-documents-154">(4)</a> <a href="#ref-for-dfn-did-documents-155">(5)</a> <a href="#ref-for-dfn-did-documents-156">(6)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-157">8.3 Security Requirements</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-158">9.2 Binding of Identity</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-159">9.2.1 Proving Control of a DID and DID Document</a> <a href="#ref-for-dfn-did-documents-160">(2)</a> <a href="#ref-for-dfn-did-documents-161">(3)</a> <a href="#ref-for-dfn-did-documents-162">(4)</a> <a href="#ref-for-dfn-did-documents-163">(5)</a> <a href="#ref-for-dfn-did-documents-164">(6)</a> <a href="#ref-for-dfn-did-documents-165">(7)</a> <a href="#ref-for-dfn-did-documents-166">(8)</a> <a href="#ref-for-dfn-did-documents-167">(9)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-168">9.2.2 Proving Control of a Public Key</a> <a href="#ref-for-dfn-did-documents-169">(2)</a> <a href="#ref-for-dfn-did-documents-170">(3)</a> <a href="#ref-for-dfn-did-documents-171">(4)</a> <a href="#ref-for-dfn-did-documents-172">(5)</a> <a href="#ref-for-dfn-did-documents-173">(6)</a> <a href="#ref-for-dfn-did-documents-174">(7)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-175">9.2.3 Real-World Identity</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-176">9.3 Authentication Service Endpoints</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-177">9.4 Non-Repudiation</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-178">9.5 Notification of DID Document Changes</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-179">9.11 DIDs as Enhanced URNs</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-180">9.12 Immutability</a> <a href="#ref-for-dfn-did-documents-181">(2)</a> <a href="#ref-for-dfn-did-documents-182">(3)</a> <a href="#ref-for-dfn-did-documents-183">(4)</a> <a href="#ref-for-dfn-did-documents-184">(5)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-185">9.13 Encrypted Data in DID Documents</a> <a href="#ref-for-dfn-did-documents-186">(2)</a> <a href="#ref-for-dfn-did-documents-187">(3)</a> <a href="#ref-for-dfn-did-documents-188">(4)</a> <a href="#ref-for-dfn-did-documents-189">(5)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-190">9.14 Equivalence Properties</a> <a href="#ref-for-dfn-did-documents-191">(2)</a> <a href="#ref-for-dfn-did-documents-192">(3)</a> <a href="#ref-for-dfn-did-documents-193">(4)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-194">9.15 Content Integrity Protection</a> <a href="#ref-for-dfn-did-documents-195">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-196">9.17 Level of Assurance</a> <a href="#ref-for-dfn-did-documents-197">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-198">10. Privacy Considerations</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-199">10.1 Keep Personal Data Private</a> <a href="#ref-for-dfn-did-documents-200">(2)</a> <a href="#ref-for-dfn-did-documents-201">(3)</a> <a href="#ref-for-dfn-did-documents-202">(4)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-203">10.3 DID Document Correlation Risks</a> <a href="#ref-for-dfn-did-documents-204">(2)</a> <a href="#ref-for-dfn-did-documents-205">(3)</a> <a href="#ref-for-dfn-did-documents-206">(4)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-207">10.4 Assigning a type to the DID subject</a> <a href="#ref-for-dfn-did-documents-208">(2)</a> <a href="#ref-for-dfn-did-documents-209">(3)</a> <a href="#ref-for-dfn-did-documents-210">(4)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-211">10.6 Service Privacy</a> <a href="#ref-for-dfn-did-documents-212">(2)</a> <a href="#ref-for-dfn-did-documents-213">(3)</a> <a href="#ref-for-dfn-did-documents-214">(4)</a> <a href="#ref-for-dfn-did-documents-215">(5)</a> <a href="#ref-for-dfn-did-documents-216">(6)</a> <a href="#ref-for-dfn-did-documents-217">(7)</a> <a href="#ref-for-dfn-did-documents-218">(8)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-219">C.2 How do you know what a DID identifies?</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-220">C.3 Does the DID identify the DID document?</a> <a href="#ref-for-dfn-did-documents-221">(2)</a> <a href="#ref-for-dfn-did-documents-222">(3)</a> <a href="#ref-for-dfn-did-documents-223">(4)</a> <a href="#ref-for-dfn-did-documents-224">(5)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-225">C.4 What does the DID document say about the DID subject?</a> <a href="#ref-for-dfn-did-documents-226">(2)</a> <a href="#ref-for-dfn-did-documents-227">(3)</a> <a href="#ref-for-dfn-did-documents-228">(4)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-229">C.5 How can you discover more information about the DID subject?</a> <a href="#ref-for-dfn-did-documents-230">(2)</a> <a href="#ref-for-dfn-did-documents-231">(3)</a> <a href="#ref-for-dfn-did-documents-232">(4)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-233">C.6 Can the DID document serve as a representation of the DID subject?</a> <a href="#ref-for-dfn-did-documents-234">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-235">C.7 Can existing web resources also be assigned DIDs?</a> <a href="#ref-for-dfn-did-documents-236">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-237">C.9 Can a DID document have multiple DID Controllers?</a>
  </li><li>
    <a href="#ref-for-dfn-did-documents-238">C.9.1 Option #1: Independent Control</a> <a href="#ref-for-dfn-did-documents-239">(2)</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-did-fragments">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-did-fragments">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-did-fragments-1">2. Terminology</a>
  </li><li>
    <a href="#ref-for-dfn-did-fragments-2">Fragment</a> <a href="#ref-for-dfn-did-fragments-3">(2)</a> <a href="#ref-for-dfn-did-fragments-4">(3)</a> <a href="#ref-for-dfn-did-fragments-5">(4)</a> <a href="#ref-for-dfn-did-fragments-6">(5)</a>
  </li><li>
    <a href="#ref-for-dfn-did-fragments-7">7.2 DID URL Dereferencing</a> <a href="#ref-for-dfn-did-fragments-8">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-fragments-9">8.1 Method Syntax</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-did-methods">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-did-methods">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-did-methods-1">1.1 A Simple Example</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-2">1.2 Design Goals</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-3">1.3 Architecture Overview</a> <a href="#ref-for-dfn-did-methods-4">(2)</a> <a href="#ref-for-dfn-did-methods-5">(3)</a> <a href="#ref-for-dfn-did-methods-6">(4)</a> <a href="#ref-for-dfn-did-methods-7">(5)</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-8">1.4 Conformance</a> <a href="#ref-for-dfn-did-methods-9">(2)</a> <a href="#ref-for-dfn-did-methods-10">(3)</a> <a href="#ref-for-dfn-did-methods-11">(4)</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-12">2. Terminology</a> <a href="#ref-for-dfn-did-methods-13">(2)</a> <a href="#ref-for-dfn-did-methods-14">(3)</a> <a href="#ref-for-dfn-did-methods-15">(4)</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-16">3. Identifier</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-17">3.1 DID Syntax</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-18">3.2 DID URL Syntax</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-19">Path</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-20">3.2.1 DID Parameters</a> <a href="#ref-for-dfn-did-methods-21">(2)</a> <a href="#ref-for-dfn-did-methods-22">(3)</a> <a href="#ref-for-dfn-did-methods-23">(4)</a> <a href="#ref-for-dfn-did-methods-24">(5)</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-25">3.2.2 Relative DID URLs</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-26">5.1.1 DID Subject</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-27">5.1.2 DID Controller</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-28">5.3 Verification Relationships</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-29">5.3.1 Authentication</a> <a href="#ref-for-dfn-did-methods-30">(2)</a> <a href="#ref-for-dfn-did-methods-31">(3)</a> <a href="#ref-for-dfn-did-methods-32">(4)</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-33">7. Resolution</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-34">7.1 DID Resolution</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-35">7.1.2 DID Resolution Metadata</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-36">7.1.3 DID Document Metadata</a> <a href="#ref-for-dfn-did-methods-37">(2)</a> <a href="#ref-for-dfn-did-methods-38">(3)</a> <a href="#ref-for-dfn-did-methods-39">(4)</a> <a href="#ref-for-dfn-did-methods-40">(5)</a> <a href="#ref-for-dfn-did-methods-41">(6)</a> <a href="#ref-for-dfn-did-methods-42">(7)</a> <a href="#ref-for-dfn-did-methods-43">(8)</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-44">7.2 DID URL Dereferencing</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-45">8. Methods</a> <a href="#ref-for-dfn-did-methods-46">(2)</a> <a href="#ref-for-dfn-did-methods-47">(3)</a> <a href="#ref-for-dfn-did-methods-48">(4)</a> <a href="#ref-for-dfn-did-methods-49">(5)</a> <a href="#ref-for-dfn-did-methods-50">(6)</a> <a href="#ref-for-dfn-did-methods-51">(7)</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-52">8.1 Method Syntax</a> <a href="#ref-for-dfn-did-methods-53">(2)</a> <a href="#ref-for-dfn-did-methods-54">(3)</a> <a href="#ref-for-dfn-did-methods-55">(4)</a> <a href="#ref-for-dfn-did-methods-56">(5)</a> <a href="#ref-for-dfn-did-methods-57">(6)</a> <a href="#ref-for-dfn-did-methods-58">(7)</a> <a href="#ref-for-dfn-did-methods-59">(8)</a> <a href="#ref-for-dfn-did-methods-60">(9)</a> <a href="#ref-for-dfn-did-methods-61">(10)</a> <a href="#ref-for-dfn-did-methods-62">(11)</a> <a href="#ref-for-dfn-did-methods-63">(12)</a> <a href="#ref-for-dfn-did-methods-64">(13)</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-65">8.2 Method Operations</a> <a href="#ref-for-dfn-did-methods-66">(2)</a> <a href="#ref-for-dfn-did-methods-67">(3)</a> <a href="#ref-for-dfn-did-methods-68">(4)</a> <a href="#ref-for-dfn-did-methods-69">(5)</a> <a href="#ref-for-dfn-did-methods-70">(6)</a> <a href="#ref-for-dfn-did-methods-71">(7)</a> <a href="#ref-for-dfn-did-methods-72">(8)</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-73">8.3 Security Requirements</a> <a href="#ref-for-dfn-did-methods-74">(2)</a> <a href="#ref-for-dfn-did-methods-75">(3)</a> <a href="#ref-for-dfn-did-methods-76">(4)</a> <a href="#ref-for-dfn-did-methods-77">(5)</a> <a href="#ref-for-dfn-did-methods-78">(6)</a> <a href="#ref-for-dfn-did-methods-79">(7)</a> <a href="#ref-for-dfn-did-methods-80">(8)</a> <a href="#ref-for-dfn-did-methods-81">(9)</a> <a href="#ref-for-dfn-did-methods-82">(10)</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-83">8.4 Privacy Requirements</a> <a href="#ref-for-dfn-did-methods-84">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-85">9.1 Choosing DID Resolvers</a> <a href="#ref-for-dfn-did-methods-86">(2)</a> <a href="#ref-for-dfn-did-methods-87">(3)</a> <a href="#ref-for-dfn-did-methods-88">(4)</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-89">9.2.1 Proving Control of a DID and DID Document</a> <a href="#ref-for-dfn-did-methods-90">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-91">9.4 Non-Repudiation</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-92">9.7 Verification Method Rotation</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-93">9.8 Verification Method Revocation</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-94">9.9 DID Recovery</a> <a href="#ref-for-dfn-did-methods-95">(2)</a> <a href="#ref-for-dfn-did-methods-96">(3)</a> <a href="#ref-for-dfn-did-methods-97">(4)</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-98">9.11 DIDs as Enhanced URNs</a> <a href="#ref-for-dfn-did-methods-99">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-100">9.12 Immutability</a> <a href="#ref-for-dfn-did-methods-101">(2)</a> <a href="#ref-for-dfn-did-methods-102">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-103">9.14 Equivalence Properties</a> <a href="#ref-for-dfn-did-methods-104">(2)</a> <a href="#ref-for-dfn-did-methods-105">(3)</a> <a href="#ref-for-dfn-did-methods-106">(4)</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-107">10.1 Keep Personal Data Private</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-108">10.5 Herd Privacy</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-109">C.3 Does the DID identify the DID document?</a>
  </li><li>
    <a href="#ref-for-dfn-did-methods-110">C.6 Can the DID document serve as a representation of the DID subject?</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-did-paths">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-did-paths">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-did-paths-1">2. Terminology</a>
  </li><li>
    <a href="#ref-for-dfn-did-paths-2">Path</a>
  </li><li>
    <a href="#ref-for-dfn-did-paths-3">8.1 Method Syntax</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-did-queries">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-did-queries">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-did-queries-1">2. Terminology</a>
  </li><li>
    <a href="#ref-for-dfn-did-queries-2">Query</a>
  </li><li>
    <a href="#ref-for-dfn-did-queries-3">8.1 Method Syntax</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-did-resolution">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-did-resolution">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-did-resolution-1">1.3 Architecture Overview</a> <a href="#ref-for-dfn-did-resolution-2">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-resolution-3">2. Terminology</a> <a href="#ref-for-dfn-did-resolution-4">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-resolution-5">3.2.1 DID Parameters</a>
  </li><li>
    <a href="#ref-for-dfn-did-resolution-6">5.1.1 DID Subject</a>
  </li><li>
    <a href="#ref-for-dfn-did-resolution-7">7. Resolution</a> <a href="#ref-for-dfn-did-resolution-8">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-resolution-9">7.1 DID Resolution</a> <a href="#ref-for-dfn-did-resolution-10">(2)</a> <a href="#ref-for-dfn-did-resolution-11">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-did-resolution-12">7.1.2 DID Resolution Metadata</a>
  </li><li>
    <a href="#ref-for-dfn-did-resolution-13">7.2 DID URL Dereferencing</a> <a href="#ref-for-dfn-did-resolution-14">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-resolution-15">7.3 Metadata Structure</a>
  </li><li>
    <a href="#ref-for-dfn-did-resolution-16">C.3 Does the DID identify the DID document?</a> <a href="#ref-for-dfn-did-resolution-17">(2)</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-did-resolvers">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-did-resolvers">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-did-resolvers-1">1.3 Architecture Overview</a>
  </li><li>
    <a href="#ref-for-dfn-did-resolvers-2">2. Terminology</a> <a href="#ref-for-dfn-did-resolvers-3">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-resolvers-4">3.2.1 DID Parameters</a> <a href="#ref-for-dfn-did-resolvers-5">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-resolvers-6">5.1.1 DID Subject</a>
  </li><li>
    <a href="#ref-for-dfn-did-resolvers-7">7. Resolution</a>
  </li><li>
    <a href="#ref-for-dfn-did-resolvers-8">7.1 DID Resolution</a> <a href="#ref-for-dfn-did-resolvers-9">(2)</a> <a href="#ref-for-dfn-did-resolvers-10">(3)</a> <a href="#ref-for-dfn-did-resolvers-11">(4)</a>
  </li><li>
    <a href="#ref-for-dfn-did-resolvers-12">7.1.1 DID Resolution Options</a>
  </li><li>
    <a href="#ref-for-dfn-did-resolvers-13">7.1.2 DID Resolution Metadata</a> <a href="#ref-for-dfn-did-resolvers-14">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-resolvers-15">7.2 DID URL Dereferencing</a>
  </li><li>
    <a href="#ref-for-dfn-did-resolvers-16">8.2 Method Operations</a> <a href="#ref-for-dfn-did-resolvers-17">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-resolvers-18">9.1 Choosing DID Resolvers</a>
  </li><li>
    <a href="#ref-for-dfn-did-resolvers-19">9.6 Key and Signature Expiration</a>
  </li><li>
    <a href="#ref-for-dfn-did-resolvers-20">9.12 Immutability</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-did-schemes">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-did-schemes">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-did-schemes-1">2. Terminology</a> <a href="#ref-for-dfn-did-schemes-2">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-schemes-3">3.1 DID Syntax</a>
  </li><li>
    <a href="#ref-for-dfn-did-schemes-4">8. Methods</a>
  </li><li>
    <a href="#ref-for-dfn-did-schemes-5">8.1 Method Syntax</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-did-subjects">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-did-subjects">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-did-subjects-1">Abstract</a> <a href="#ref-for-dfn-did-subjects-2">(2)</a> <a href="#ref-for-dfn-did-subjects-3">(3)</a> <a href="#ref-for-dfn-did-subjects-4">(4)</a>
  </li><li>
    <a href="#ref-for-dfn-did-subjects-5">1.3 Architecture Overview</a> <a href="#ref-for-dfn-did-subjects-6">(2)</a> <a href="#ref-for-dfn-did-subjects-7">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-did-subjects-8">2. Terminology</a> <a href="#ref-for-dfn-did-subjects-9">(2)</a> <a href="#ref-for-dfn-did-subjects-10">(3)</a> <a href="#ref-for-dfn-did-subjects-11">(4)</a> <a href="#ref-for-dfn-did-subjects-12">(5)</a> <a href="#ref-for-dfn-did-subjects-13">(6)</a> <a href="#ref-for-dfn-did-subjects-14">(7)</a> <a href="#ref-for-dfn-did-subjects-15">(8)</a>
  </li><li>
    <a href="#ref-for-dfn-did-subjects-16">3.2 DID URL Syntax</a>
  </li><li>
    <a href="#ref-for-dfn-did-subjects-17">3.2.2 Relative DID URLs</a>
  </li><li>
    <a href="#ref-for-dfn-did-subjects-18">5. Core Properties</a>
  </li><li>
    <a href="#ref-for-dfn-did-subjects-19">5.1 Identifiers</a>
  </li><li>
    <a href="#ref-for-dfn-did-subjects-20">5.1.1 DID Subject</a> <a href="#ref-for-dfn-did-subjects-21">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-subjects-22">5.1.2 DID Controller</a> <a href="#ref-for-dfn-did-subjects-23">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-subjects-24">5.1.3 Also Known As</a> <a href="#ref-for-dfn-did-subjects-25">(2)</a> <a href="#ref-for-dfn-did-subjects-26">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-did-subjects-27">5.2 Verification Methods</a>
  </li><li>
    <a href="#ref-for-dfn-did-subjects-28">5.3 Verification Relationships</a> <a href="#ref-for-dfn-did-subjects-29">(2)</a> <a href="#ref-for-dfn-did-subjects-30">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-did-subjects-31">5.3.1 Authentication</a> <a href="#ref-for-dfn-did-subjects-32">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-subjects-33">5.3.2 Assertion</a> <a href="#ref-for-dfn-did-subjects-34">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-subjects-35">5.3.3 Key Agreement</a> <a href="#ref-for-dfn-did-subjects-36">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-subjects-37">5.3.4 Capability Invocation</a> <a href="#ref-for-dfn-did-subjects-38">(2)</a> <a href="#ref-for-dfn-did-subjects-39">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-did-subjects-40">5.3.5 Capability Delegation</a> <a href="#ref-for-dfn-did-subjects-41">(2)</a> <a href="#ref-for-dfn-did-subjects-42">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-did-subjects-43">5.4 Services</a> <a href="#ref-for-dfn-did-subjects-44">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-subjects-45">7.1.3 DID Document Metadata</a> <a href="#ref-for-dfn-did-subjects-46">(2)</a> <a href="#ref-for-dfn-did-subjects-47">(3)</a> <a href="#ref-for-dfn-did-subjects-48">(4)</a> <a href="#ref-for-dfn-did-subjects-49">(5)</a>
  </li><li>
    <a href="#ref-for-dfn-did-subjects-50">9.3 Authentication Service Endpoints</a>
  </li><li>
    <a href="#ref-for-dfn-did-subjects-51">9.5 Notification of DID Document Changes</a>
  </li><li>
    <a href="#ref-for-dfn-did-subjects-52">9.11 DIDs as Enhanced URNs</a>
  </li><li>
    <a href="#ref-for-dfn-did-subjects-53">10.1 Keep Personal Data Private</a> <a href="#ref-for-dfn-did-subjects-54">(2)</a> <a href="#ref-for-dfn-did-subjects-55">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-did-subjects-56">10.2 DID Correlation Risks and Pseudonymous DIDs</a> <a href="#ref-for-dfn-did-subjects-57">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-subjects-58">10.4 Assigning a type to the DID subject</a> <a href="#ref-for-dfn-did-subjects-59">(2)</a> <a href="#ref-for-dfn-did-subjects-60">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-did-subjects-61">10.5 Herd Privacy</a>
  </li><li>
    <a href="#ref-for-dfn-did-subjects-62">10.6 Service Privacy</a> <a href="#ref-for-dfn-did-subjects-63">(2)</a> <a href="#ref-for-dfn-did-subjects-64">(3)</a> <a href="#ref-for-dfn-did-subjects-65">(4)</a>
  </li><li>
    <a href="#ref-for-dfn-did-subjects-66">C.2 How do you know what a DID identifies?</a> <a href="#ref-for-dfn-did-subjects-67">(2)</a> <a href="#ref-for-dfn-did-subjects-68">(3)</a> <a href="#ref-for-dfn-did-subjects-69">(4)</a>
  </li><li>
    <a href="#ref-for-dfn-did-subjects-70">C.3 Does the DID identify the DID document?</a> <a href="#ref-for-dfn-did-subjects-71">(2)</a> <a href="#ref-for-dfn-did-subjects-72">(3)</a> <a href="#ref-for-dfn-did-subjects-73">(4)</a> <a href="#ref-for-dfn-did-subjects-74">(5)</a> <a href="#ref-for-dfn-did-subjects-75">(6)</a>
  </li><li>
    <a href="#ref-for-dfn-did-subjects-76">C.4 What does the DID document say about the DID subject?</a> <a href="#ref-for-dfn-did-subjects-77">(2)</a> <a href="#ref-for-dfn-did-subjects-78">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-did-subjects-79">C.5 How can you discover more information about the DID subject?</a> <a href="#ref-for-dfn-did-subjects-80">(2)</a> <a href="#ref-for-dfn-did-subjects-81">(3)</a> <a href="#ref-for-dfn-did-subjects-82">(4)</a> <a href="#ref-for-dfn-did-subjects-83">(5)</a>
  </li><li>
    <a href="#ref-for-dfn-did-subjects-84">C.6 Can the DID document serve as a representation of the DID subject?</a> <a href="#ref-for-dfn-did-subjects-85">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-subjects-86">C.8 What is the relationship between DID controllers and DID subjects?</a>
  </li><li>
    <a href="#ref-for-dfn-did-subjects-87">C.8.1 Set #1: The DID subject is the DID controller</a> <a href="#ref-for-dfn-did-subjects-88">(2)</a> <a href="#ref-for-dfn-did-subjects-89">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-did-subjects-90">C.8.2 Set #2: The DID subject is not the DID controller</a> <a href="#ref-for-dfn-did-subjects-91">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-subjects-92">C.9.2 Option #2: Group Control</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-did-urls">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-did-urls">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-did-urls-1">1.3 Architecture Overview</a> <a href="#ref-for-dfn-did-urls-2">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-urls-3">2. Terminology</a> <a href="#ref-for-dfn-did-urls-4">(2)</a> <a href="#ref-for-dfn-did-urls-5">(3)</a> <a href="#ref-for-dfn-did-urls-6">(4)</a> <a href="#ref-for-dfn-did-urls-7">(5)</a> <a href="#ref-for-dfn-did-urls-8">(6)</a> <a href="#ref-for-dfn-did-urls-9">(7)</a> <a href="#ref-for-dfn-did-urls-10">(8)</a>
  </li><li>
    <a href="#ref-for-dfn-did-urls-11">3. Identifier</a>
  </li><li>
    <a href="#ref-for-dfn-did-urls-12">3.2 DID URL Syntax</a> <a href="#ref-for-dfn-did-urls-13">(2)</a> <a href="#ref-for-dfn-did-urls-14">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-did-urls-15">3.2.1 DID Parameters</a> <a href="#ref-for-dfn-did-urls-16">(2)</a> <a href="#ref-for-dfn-did-urls-17">(3)</a> <a href="#ref-for-dfn-did-urls-18">(4)</a> <a href="#ref-for-dfn-did-urls-19">(5)</a>
  </li><li>
    <a href="#ref-for-dfn-did-urls-20">3.2.2 Relative DID URLs</a> <a href="#ref-for-dfn-did-urls-21">(2)</a> <a href="#ref-for-dfn-did-urls-22">(3)</a> <a href="#ref-for-dfn-did-urls-23">(4)</a> <a href="#ref-for-dfn-did-urls-24">(5)</a> <a href="#ref-for-dfn-did-urls-25">(6)</a>
  </li><li>
    <a href="#ref-for-dfn-did-urls-26">7.2 DID URL Dereferencing</a> <a href="#ref-for-dfn-did-urls-27">(2)</a> <a href="#ref-for-dfn-did-urls-28">(3)</a> <a href="#ref-for-dfn-did-urls-29">(4)</a> <a href="#ref-for-dfn-did-urls-30">(5)</a> <a href="#ref-for-dfn-did-urls-31">(6)</a> <a href="#ref-for-dfn-did-urls-32">(7)</a>
  </li><li>
    <a href="#ref-for-dfn-did-urls-33">7.2.2 DID URL Dereferencing Metadata</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-did-url-dereferencing">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-did-url-dereferencing">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-did-url-dereferencing-1">1.3 Architecture Overview</a> <a href="#ref-for-dfn-did-url-dereferencing-2">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-did-url-dereferencing-3">2. Terminology</a>
  </li><li>
    <a href="#ref-for-dfn-did-url-dereferencing-4">3.2.1 DID Parameters</a>
  </li><li>
    <a href="#ref-for-dfn-did-url-dereferencing-5">7. Resolution</a>
  </li><li>
    <a href="#ref-for-dfn-did-url-dereferencing-6">7.2 DID URL Dereferencing</a> <a href="#ref-for-dfn-did-url-dereferencing-7">(2)</a> <a href="#ref-for-dfn-did-url-dereferencing-8">(3)</a> <a href="#ref-for-dfn-did-url-dereferencing-9">(4)</a> <a href="#ref-for-dfn-did-url-dereferencing-10">(5)</a> <a href="#ref-for-dfn-did-url-dereferencing-11">(6)</a> <a href="#ref-for-dfn-did-url-dereferencing-12">(7)</a>
  </li><li>
    <a href="#ref-for-dfn-did-url-dereferencing-13">7.2.1 DID URL Dereferencing Options</a>
  </li><li>
    <a href="#ref-for-dfn-did-url-dereferencing-14">7.2.2 DID URL Dereferencing Metadata</a>
  </li><li>
    <a href="#ref-for-dfn-did-url-dereferencing-15">7.3 Metadata Structure</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-did-url-dereferencers">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-did-url-dereferencers">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-did-url-dereferencers-1">1.3 Architecture Overview</a>
  </li><li>
    <a href="#ref-for-dfn-did-url-dereferencers-2">2. Terminology</a>
  </li><li>
    <a href="#ref-for-dfn-did-url-dereferencers-3">7.2.2 DID URL Dereferencing Metadata</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-distributed-ledger-technology">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-distributed-ledger-technology">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-distributed-ledger-technology-1">1.3 Architecture Overview</a>
  </li><li>
    <a href="#ref-for-dfn-distributed-ledger-technology-2">2. Terminology</a>
  </li><li>
    <a href="#ref-for-dfn-distributed-ledger-technology-3">8.3 Security Requirements</a> <a href="#ref-for-dfn-distributed-ledger-technology-4">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-distributed-ledger-technology-5">9.4 Non-Repudiation</a>
  </li><li>
    <a href="#ref-for-dfn-distributed-ledger-technology-6">10.1 Keep Personal Data Private</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-public-key-description">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-public-key-description">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>

  </li><li>
    <a href="#ref-for-dfn-public-key-description-2">9.2.2 Proving Control of a Public Key</a> <a href="#ref-for-dfn-public-key-description-3">(2)</a> <a href="#ref-for-dfn-public-key-description-4">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-public-key-description-5">10.1 Keep Personal Data Private</a>
  </li><li>
    <a href="#ref-for-dfn-public-key-description-6">10.3 DID Document Correlation Risks</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-resources">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-resources">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-resources-1">1.3 Architecture Overview</a> <a href="#ref-for-dfn-resources-2">(2)</a> <a href="#ref-for-dfn-resources-3">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-resources-4">2. Terminology</a>
  </li><li>
    <a href="#ref-for-dfn-resources-5">3.2 DID URL Syntax</a>
  </li><li>
    <a href="#ref-for-dfn-resources-6">Fragment</a>
  </li><li>
    <a href="#ref-for-dfn-resources-7">3.2.1 DID Parameters</a> <a href="#ref-for-dfn-resources-8">(2)</a> <a href="#ref-for-dfn-resources-9">(3)</a> <a href="#ref-for-dfn-resources-10">(4)</a> <a href="#ref-for-dfn-resources-11">(5)</a>
  </li><li>
    <a href="#ref-for-dfn-resources-12">3.2.2 Relative DID URLs</a>
  </li><li>
    <a href="#ref-for-dfn-resources-13">5.2.2 Referring to Verification Methods</a>
  </li><li>
    <a href="#ref-for-dfn-resources-14">7.2 DID URL Dereferencing</a> <a href="#ref-for-dfn-resources-15">(2)</a> <a href="#ref-for-dfn-resources-16">(3)</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-representations">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-representations">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-representations-1">2. Terminology</a> <a href="#ref-for-dfn-representations-2">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-representations-3">Fragment</a> <a href="#ref-for-dfn-representations-4">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-representations-5">4. Data Model</a> <a href="#ref-for-dfn-representations-6">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-representations-7">4.1 Extensibility</a> <a href="#ref-for-dfn-representations-8">(2)</a> <a href="#ref-for-dfn-representations-9">(3)</a> <a href="#ref-for-dfn-representations-10">(4)</a> <a href="#ref-for-dfn-representations-11">(5)</a> <a href="#ref-for-dfn-representations-12">(6)</a>
  </li><li>
    <a href="#ref-for-dfn-representations-13">6. Representations</a> <a href="#ref-for-dfn-representations-14">(2)</a> <a href="#ref-for-dfn-representations-15">(3)</a> <a href="#ref-for-dfn-representations-16">(4)</a> <a href="#ref-for-dfn-representations-17">(5)</a> <a href="#ref-for-dfn-representations-18">(6)</a> <a href="#ref-for-dfn-representations-19">(7)</a>
  </li><li>
    <a href="#ref-for-dfn-representations-20">6.1 Production and Consumption</a> <a href="#ref-for-dfn-representations-21">(2)</a> <a href="#ref-for-dfn-representations-22">(3)</a> <a href="#ref-for-dfn-representations-23">(4)</a> <a href="#ref-for-dfn-representations-24">(5)</a> <a href="#ref-for-dfn-representations-25">(6)</a> <a href="#ref-for-dfn-representations-26">(7)</a> <a href="#ref-for-dfn-representations-27">(8)</a> <a href="#ref-for-dfn-representations-28">(9)</a> <a href="#ref-for-dfn-representations-29">(10)</a> <a href="#ref-for-dfn-representations-30">(11)</a> <a href="#ref-for-dfn-representations-31">(12)</a> <a href="#ref-for-dfn-representations-32">(13)</a> <a href="#ref-for-dfn-representations-33">(14)</a> <a href="#ref-for-dfn-representations-34">(15)</a> <a href="#ref-for-dfn-representations-35">(16)</a> <a href="#ref-for-dfn-representations-36">(17)</a> <a href="#ref-for-dfn-representations-37">(18)</a> <a href="#ref-for-dfn-representations-38">(19)</a> <a href="#ref-for-dfn-representations-39">(20)</a> <a href="#ref-for-dfn-representations-40">(21)</a> <a href="#ref-for-dfn-representations-41">(22)</a>
  </li><li>
    <a href="#ref-for-dfn-representations-42">6.2 JSON</a>
  </li><li>
    <a href="#ref-for-dfn-representations-43">6.2.1 Production</a> <a href="#ref-for-dfn-representations-44">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-representations-45">6.2.2 Consumption</a> <a href="#ref-for-dfn-representations-46">(2)</a> <a href="#ref-for-dfn-representations-47">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-representations-48">6.3 JSON-LD</a> <a href="#ref-for-dfn-representations-49">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-representations-50">6.3.1 Production</a> <a href="#ref-for-dfn-representations-51">(2)</a> <a href="#ref-for-dfn-representations-52">(3)</a> <a href="#ref-for-dfn-representations-53">(4)</a> <a href="#ref-for-dfn-representations-54">(5)</a> <a href="#ref-for-dfn-representations-55">(6)</a> <a href="#ref-for-dfn-representations-56">(7)</a> <a href="#ref-for-dfn-representations-57">(8)</a>
  </li><li>
    <a href="#ref-for-dfn-representations-58">6.3.2 Consumption</a> <a href="#ref-for-dfn-representations-59">(2)</a> <a href="#ref-for-dfn-representations-60">(3)</a> <a href="#ref-for-dfn-representations-61">(4)</a>
  </li><li>
    <a href="#ref-for-dfn-representations-62">6.4 CBOR</a>
  </li><li>
    <a href="#ref-for-dfn-representations-63">6.4.1 Production</a> <a href="#ref-for-dfn-representations-64">(2)</a> <a href="#ref-for-dfn-representations-65">(3)</a> <a href="#ref-for-dfn-representations-66">(4)</a>
  </li><li>
    <a href="#ref-for-dfn-representations-67">6.4.2 Consumption</a> <a href="#ref-for-dfn-representations-68">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-representations-69">7. Resolution</a>
  </li><li>
    <a href="#ref-for-dfn-representations-70">7.1.1 DID Resolution Options</a> <a href="#ref-for-dfn-representations-71">(2)</a> <a href="#ref-for-dfn-representations-72">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-representations-73">7.1.2 DID Resolution Metadata</a> <a href="#ref-for-dfn-representations-74">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-representations-75">7.2 DID URL Dereferencing</a>
  </li><li>
    <a href="#ref-for-dfn-representations-76">7.2.1 DID URL Dereferencing Options</a> <a href="#ref-for-dfn-representations-77">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-representations-78">7.3 Metadata Structure</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-service">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-service">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-service-1">Abstract</a> <a href="#ref-for-dfn-service-2">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-service-3">1.2 Design Goals</a>
  </li><li>
    <a href="#ref-for-dfn-service-4">1.3 Architecture Overview</a>
  </li><li>
    <a href="#ref-for-dfn-service-5">2. Terminology</a>
  </li><li>
    <a href="#ref-for-dfn-service-6">3.2 DID URL Syntax</a>
  </li><li>
    <a href="#ref-for-dfn-service-7">3.2.1 DID Parameters</a>
  </li><li>
    <a href="#ref-for-dfn-service-8">3.2.2 Relative DID URLs</a>
  </li><li>
    <a href="#ref-for-dfn-service-9">DID Document properties</a>
  </li><li>
    <a href="#ref-for-dfn-service-10">5.4 Services</a> <a href="#ref-for-dfn-service-11">(2)</a> <a href="#ref-for-dfn-service-12">(3)</a> <a href="#ref-for-dfn-service-13">(4)</a> <a href="#ref-for-dfn-service-14">(5)</a> <a href="#ref-for-dfn-service-15">(6)</a> <a href="#ref-for-dfn-service-16">(7)</a> <a href="#ref-for-dfn-service-17">(8)</a> <a href="#ref-for-dfn-service-18">(9)</a> <a href="#ref-for-dfn-service-19">(10)</a>
  </li><li>
    <a href="#ref-for-dfn-service-20">8.3 Security Requirements</a>
  </li><li>
    <a href="#ref-for-dfn-service-21">9.3 Authentication Service Endpoints</a>
  </li><li>
    <a href="#ref-for-dfn-service-22">9.12 Immutability</a>
  </li><li>
    <a href="#ref-for-dfn-service-23">10.6 Service Privacy</a> <a href="#ref-for-dfn-service-24">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-service-25">C.4 What does the DID document say about the DID subject?</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-service-endpoints">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-service-endpoints">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-service-endpoints-1">2. Terminology</a>
  </li><li>
    <a href="#ref-for-dfn-service-endpoints-2">3.2.1 DID Parameters</a>
  </li><li>
    <a href="#ref-for-dfn-service-endpoints-3">DID Document properties</a>
  </li><li>
    <a href="#ref-for-dfn-service-endpoints-4">9.2.2 Proving Control of a Public Key</a>
  </li><li>
    <a href="#ref-for-dfn-service-endpoints-5">9.3 Authentication Service Endpoints</a> <a href="#ref-for-dfn-service-endpoints-6">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-service-endpoints-7">9.5 Notification of DID Document Changes</a>
  </li><li>
    <a href="#ref-for-dfn-service-endpoints-8">10.1 Keep Personal Data Private</a> <a href="#ref-for-dfn-service-endpoints-9">(2)</a> <a href="#ref-for-dfn-service-endpoints-10">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-service-endpoints-11">10.3 DID Document Correlation Risks</a> <a href="#ref-for-dfn-service-endpoints-12">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-service-endpoints-13">10.6 Service Privacy</a> <a href="#ref-for-dfn-service-endpoints-14">(2)</a> <a href="#ref-for-dfn-service-endpoints-15">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-service-endpoints-16">C.5 How can you discover more information about the DID subject?</a> <a href="#ref-for-dfn-service-endpoints-17">(2)</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-uri">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-uri">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-uri-1">Abstract</a>
  </li><li>
    <a href="#ref-for-dfn-uri-2">1.3 Architecture Overview</a> <a href="#ref-for-dfn-uri-3">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-uri-4">1.4 Conformance</a>
  </li><li>
    <a href="#ref-for-dfn-uri-5">3.1 DID Syntax</a>
  </li><li>
    <a href="#ref-for-dfn-uri-6">Path</a> <a href="#ref-for-dfn-uri-7">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-uri-8">Query</a>
  </li><li>
    <a href="#ref-for-dfn-uri-9">Fragment</a>
  </li><li>
    <a href="#ref-for-dfn-uri-10">3.2.1 DID Parameters</a>
  </li><li>
    <a href="#ref-for-dfn-uri-11">DID Document properties</a>
  </li><li>
    <a href="#ref-for-dfn-uri-12">Service properties</a> <a href="#ref-for-dfn-uri-13">(2)</a> <a href="#ref-for-dfn-uri-14">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-uri-15">5.1.3 Also Known As</a> <a href="#ref-for-dfn-uri-16">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-uri-17">5.4 Services</a> <a href="#ref-for-dfn-uri-18">(2)</a> <a href="#ref-for-dfn-uri-19">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-uri-20">8. Methods</a> <a href="#ref-for-dfn-uri-21">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-uri-22">9.14 Equivalence Properties</a>
  </li><li>
    <a href="#ref-for-dfn-uri-23">10.6 Service Privacy</a> <a href="#ref-for-dfn-uri-24">(2)</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-verifiable-credentials">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-verifiable-credentials">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-verifiable-credentials-1">2. Terminology</a>
  </li><li>
    <a href="#ref-for-dfn-verifiable-credentials-2">5.3.2 Assertion</a> <a href="#ref-for-dfn-verifiable-credentials-3">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-verifiable-credentials-4">9.2.3 Real-World Identity</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-verifiable-data-registry">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-verifiable-data-registry">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-verifiable-data-registry-1">1.3 Architecture Overview</a>
  </li><li>
    <a href="#ref-for-dfn-verifiable-data-registry-2">3.1 DID Syntax</a>
  </li><li>
    <a href="#ref-for-dfn-verifiable-data-registry-3">7.1.3 DID Document Metadata</a>
  </li><li>
    <a href="#ref-for-dfn-verifiable-data-registry-4">8. Methods</a> <a href="#ref-for-dfn-verifiable-data-registry-5">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-verifiable-data-registry-6">8.1 Method Syntax</a>
  </li><li>
    <a href="#ref-for-dfn-verifiable-data-registry-7">9.5 Notification of DID Document Changes</a> <a href="#ref-for-dfn-verifiable-data-registry-8">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-verifiable-data-registry-9">10.1 Keep Personal Data Private</a>
  </li><li>
    <a href="#ref-for-dfn-verifiable-data-registry-10">C.6 Can the DID document serve as a representation of the DID subject?</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-verifiable-timestamp">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-verifiable-timestamp">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-verifiable-timestamp-1">9.2.1 Proving Control of a DID and DID Document</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-verification-method">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-verification-method">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-verification-method-1">Abstract</a>
  </li><li>
    <a href="#ref-for-dfn-verification-method-2">1.3 Architecture Overview</a>
  </li><li>
    <a href="#ref-for-dfn-verification-method-3">2. Terminology</a> <a href="#ref-for-dfn-verification-method-4">(2)</a> <a href="#ref-for-dfn-verification-method-5">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-verification-method-6">3.2 DID URL Syntax</a>
  </li><li>
    <a href="#ref-for-dfn-verification-method-7">3.2.2 Relative DID URLs</a>
  </li><li>
    <a href="#ref-for-dfn-verification-method-8">DID Document properties</a> <a href="#ref-for-dfn-verification-method-9">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-verification-method-10">5.1.2 DID Controller</a> <a href="#ref-for-dfn-verification-method-11">(2)</a> <a href="#ref-for-dfn-verification-method-12">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-verification-method-13">5.2 Verification Methods</a> <a href="#ref-for-dfn-verification-method-14">(2)</a> <a href="#ref-for-dfn-verification-method-15">(3)</a> <a href="#ref-for-dfn-verification-method-16">(4)</a> <a href="#ref-for-dfn-verification-method-17">(5)</a> <a href="#ref-for-dfn-verification-method-18">(6)</a> <a href="#ref-for-dfn-verification-method-19">(7)</a> <a href="#ref-for-dfn-verification-method-20">(8)</a> <a href="#ref-for-dfn-verification-method-21">(9)</a> <a href="#ref-for-dfn-verification-method-22">(10)</a> <a href="#ref-for-dfn-verification-method-23">(11)</a> <a href="#ref-for-dfn-verification-method-24">(12)</a> <a href="#ref-for-dfn-verification-method-25">(13)</a>
  </li><li>
    <a href="#ref-for-dfn-verification-method-26">5.2.1 Verification Material</a> <a href="#ref-for-dfn-verification-method-27">(2)</a> <a href="#ref-for-dfn-verification-method-28">(3)</a> <a href="#ref-for-dfn-verification-method-29">(4)</a> <a href="#ref-for-dfn-verification-method-30">(5)</a> <a href="#ref-for-dfn-verification-method-31">(6)</a> <a href="#ref-for-dfn-verification-method-32">(7)</a>
  </li><li>
    <a href="#ref-for-dfn-verification-method-33">5.2.2 Referring to Verification Methods</a> <a href="#ref-for-dfn-verification-method-34">(2)</a> <a href="#ref-for-dfn-verification-method-35">(3)</a> <a href="#ref-for-dfn-verification-method-36">(4)</a> <a href="#ref-for-dfn-verification-method-37">(5)</a> <a href="#ref-for-dfn-verification-method-38">(6)</a>
  </li><li>
    <a href="#ref-for-dfn-verification-method-39">5.3 Verification Relationships</a> <a href="#ref-for-dfn-verification-method-40">(2)</a> <a href="#ref-for-dfn-verification-method-41">(3)</a> <a href="#ref-for-dfn-verification-method-42">(4)</a> <a href="#ref-for-dfn-verification-method-43">(5)</a> <a href="#ref-for-dfn-verification-method-44">(6)</a>
  </li><li>
    <a href="#ref-for-dfn-verification-method-45">5.3.1 Authentication</a> <a href="#ref-for-dfn-verification-method-46">(2)</a> <a href="#ref-for-dfn-verification-method-47">(3)</a> <a href="#ref-for-dfn-verification-method-48">(4)</a> <a href="#ref-for-dfn-verification-method-49">(5)</a>
  </li><li>
    <a href="#ref-for-dfn-verification-method-50">5.3.2 Assertion</a> <a href="#ref-for-dfn-verification-method-51">(2)</a> <a href="#ref-for-dfn-verification-method-52">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-verification-method-53">5.3.3 Key Agreement</a> <a href="#ref-for-dfn-verification-method-54">(2)</a> <a href="#ref-for-dfn-verification-method-55">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-verification-method-56">5.3.4 Capability Invocation</a> <a href="#ref-for-dfn-verification-method-57">(2)</a> <a href="#ref-for-dfn-verification-method-58">(3)</a> <a href="#ref-for-dfn-verification-method-59">(4)</a>
  </li><li>
    <a href="#ref-for-dfn-verification-method-60">5.3.5 Capability Delegation</a> <a href="#ref-for-dfn-verification-method-61">(2)</a> <a href="#ref-for-dfn-verification-method-62">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-verification-method-63">8.2 Method Operations</a> <a href="#ref-for-dfn-verification-method-64">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-verification-method-65">10.4 Assigning a type to the DID subject</a>
  </li><li>
    <a href="#ref-for-dfn-verification-method-66">11.1 DID Documents</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-verification-relationship">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-verification-relationship">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-verification-relationship-1">5.1.2 DID Controller</a>
  </li><li>
    <a href="#ref-for-dfn-verification-relationship-2">5.2.2 Referring to Verification Methods</a> <a href="#ref-for-dfn-verification-relationship-3">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-verification-relationship-4">5.3 Verification Relationships</a> <a href="#ref-for-dfn-verification-relationship-5">(2)</a> <a href="#ref-for-dfn-verification-relationship-6">(3)</a> <a href="#ref-for-dfn-verification-relationship-7">(4)</a> <a href="#ref-for-dfn-verification-relationship-8">(5)</a> <a href="#ref-for-dfn-verification-relationship-9">(6)</a> <a href="#ref-for-dfn-verification-relationship-10">(7)</a> <a href="#ref-for-dfn-verification-relationship-11">(8)</a> <a href="#ref-for-dfn-verification-relationship-12">(9)</a>
  </li><li>
    <a href="#ref-for-dfn-verification-relationship-13">5.3.1 Authentication</a> <a href="#ref-for-dfn-verification-relationship-14">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-verification-relationship-15">5.3.2 Assertion</a>
  </li><li>
    <a href="#ref-for-dfn-verification-relationship-16">5.3.3 Key Agreement</a>
  </li><li>
    <a href="#ref-for-dfn-verification-relationship-17">5.3.4 Capability Invocation</a>
  </li><li>
    <a href="#ref-for-dfn-verification-relationship-18">5.3.5 Capability Delegation</a> <a href="#ref-for-dfn-verification-relationship-19">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-verification-relationship-20">8.2 Method Operations</a>
  </li><li>
    <a href="#ref-for-dfn-verification-relationship-21">9.17 Level of Assurance</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-uuid">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-uuid">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-uuid-1">3.2.1 DID Parameters</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-datetime">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-datetime">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-datetime-1">6.1 Production and Consumption</a> <a href="#ref-for-dfn-datetime-2">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-datetime-3">6.2.1 Production</a>
  </li><li>
    <a href="#ref-for-dfn-datetime-4">6.2.2 Consumption</a> <a href="#ref-for-dfn-datetime-5">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-datetime-6">6.4.1 Production</a>
  </li><li>
    <a href="#ref-for-dfn-datetime-7">6.4.2 Consumption</a> <a href="#ref-for-dfn-datetime-8">(2)</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-integer">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-integer">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-integer-1">6.2.1 Production</a>
  </li><li>
    <a href="#ref-for-dfn-integer-2">6.2.2 Consumption</a>
  </li><li>
    <a href="#ref-for-dfn-integer-3">6.4.1 Production</a>
  </li><li>
    <a href="#ref-for-dfn-integer-4">6.4.2 Consumption</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-double">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-double">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-double-1">6.2.1 Production</a>
  </li><li>
    <a href="#ref-for-dfn-double-2">6.2.2 Consumption</a> <a href="#ref-for-dfn-double-3">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-double-4">6.4.1 Production</a>
  </li><li>
    <a href="#ref-for-dfn-double-5">6.4.2 Consumption</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-id">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-id">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-id-1">DID Document properties</a>
  </li><li>
    <a href="#ref-for-dfn-id-2">5.1.1 DID Subject</a> <a href="#ref-for-dfn-id-3">(2)</a> <a href="#ref-for-dfn-id-4">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-id-5">5.2 Verification Methods</a>
  </li><li>
    <a href="#ref-for-dfn-id-6">5.4 Services</a>
  </li><li>
    <a href="#ref-for-dfn-id-7">7.1 DID Resolution</a>
  </li><li>
    <a href="#ref-for-dfn-id-8">9.2.1 Proving Control of a DID and DID Document</a>
  </li><li>
    <a href="#ref-for-dfn-id-9">9.12 Immutability</a> <a href="#ref-for-dfn-id-10">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-id-11">C.4 What does the DID document say about the DID subject?</a> <a href="#ref-for-dfn-id-12">(2)</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-controller">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-controller">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-controller-1">1.3 Architecture Overview</a>
  </li><li>
    <a href="#ref-for-dfn-controller-2">DID Document properties</a>
  </li><li>
    <a href="#ref-for-dfn-controller-3">Verification Method properties</a>
  </li><li>
    <a href="#ref-for-dfn-controller-4">5.1.2 DID Controller</a>
  </li><li>
    <a href="#ref-for-dfn-controller-5">5.2 Verification Methods</a>
  </li><li>
    <a href="#ref-for-dfn-controller-6">8.2 Method Operations</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-alsoknownas">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-alsoknownas">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-alsoknownas-1">DID Document properties</a>
  </li><li>
    <a href="#ref-for-dfn-alsoknownas-2">5.1.3 Also Known As</a> <a href="#ref-for-dfn-alsoknownas-3">(2)</a> <a href="#ref-for-dfn-alsoknownas-4">(3)</a> <a href="#ref-for-dfn-alsoknownas-5">(4)</a>
  </li><li>
    <a href="#ref-for-dfn-alsoknownas-6">7.1.3 DID Document Metadata</a>
  </li><li>
    <a href="#ref-for-dfn-alsoknownas-7">9.14 Equivalence Properties</a> <a href="#ref-for-dfn-alsoknownas-8">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-alsoknownas-9">C.4 What does the DID document say about the DID subject?</a>
  </li><li>
    <a href="#ref-for-dfn-alsoknownas-10">C.5 How can you discover more information about the DID subject?</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-verificationmethod">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-verificationmethod">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-verificationmethod-1">DID Document properties</a>
  </li><li>
    <a href="#ref-for-dfn-verificationmethod-2">C.4 What does the DID document say about the DID subject?</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-publickeybase58">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-publickeybase58">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-publickeybase58-1">Verification Method properties</a>
  </li><li>
    <a href="#ref-for-dfn-publickeybase58-2">5.2.1 Verification Material</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-publickeyjwk">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-publickeyjwk">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-publickeyjwk-1">Verification Method properties</a> <a href="#ref-for-dfn-publickeyjwk-2">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-publickeyjwk-3">5.2.1 Verification Material</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-authentication">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-authentication">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-authentication-1">DID Document properties</a>
  </li><li>
    <a href="#ref-for-dfn-authentication-2">5.3 Verification Relationships</a>
  </li><li>
    <a href="#ref-for-dfn-authentication-3">5.3.1 Authentication</a> <a href="#ref-for-dfn-authentication-4">(2)</a> <a href="#ref-for-dfn-authentication-5">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-authentication-6">8.2 Method Operations</a>
  </li><li>
    <a href="#ref-for-dfn-authentication-7">9.17 Level of Assurance</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-assertionmethod">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-assertionmethod">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-assertionmethod-1">DID Document properties</a>
  </li><li>
    <a href="#ref-for-dfn-assertionmethod-2">5.3.2 Assertion</a>
  </li><li>
    <a href="#ref-for-dfn-assertionmethod-3">9.17 Level of Assurance</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-keyagreement">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-keyagreement">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-keyagreement-1">DID Document properties</a>
  </li><li>
    <a href="#ref-for-dfn-keyagreement-2">5.3 Verification Relationships</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-capabilityinvocation">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-capabilityinvocation">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-capabilityinvocation-1">DID Document properties</a>
  </li><li>
    <a href="#ref-for-dfn-capabilityinvocation-2">5.3.4 Capability Invocation</a>
  </li><li>
    <a href="#ref-for-dfn-capabilityinvocation-3">8.2 Method Operations</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-capabilitydelegation">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-capabilitydelegation">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-capabilitydelegation-1">DID Document properties</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-serviceendpoint">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-serviceendpoint">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-serviceendpoint-1">Service properties</a>
  </li><li>
    <a href="#ref-for-dfn-serviceendpoint-2">5.4 Services</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-production">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-production">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-production-1">6. Representations</a>
  </li><li>
    <a href="#ref-for-dfn-production-2">6.1 Production and Consumption</a> <a href="#ref-for-dfn-production-3">(2)</a> <a href="#ref-for-dfn-production-4">(3)</a> <a href="#ref-for-dfn-production-5">(4)</a> <a href="#ref-for-dfn-production-6">(5)</a>
  </li><li>
    <a href="#ref-for-dfn-production-7">6.2 JSON</a>
  </li><li>
    <a href="#ref-for-dfn-production-8">6.2.1 Production</a>
  </li><li>
    <a href="#ref-for-dfn-production-9">6.3 JSON-LD</a>
  </li><li>
    <a href="#ref-for-dfn-production-10">6.3.1 Production</a> <a href="#ref-for-dfn-production-11">(2)</a> <a href="#ref-for-dfn-production-12">(3)</a>
  </li><li>
    <a href="#ref-for-dfn-production-13">6.4 CBOR</a>
  </li><li>
    <a href="#ref-for-dfn-production-14">6.4.1 Production</a>
  </li><li>
    <a href="#ref-for-dfn-production-15">6.4.2 Consumption</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-consumption">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-consumption">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-consumption-1">6. Representations</a>
  </li><li>
    <a href="#ref-for-dfn-consumption-2">6.1 Production and Consumption</a> <a href="#ref-for-dfn-consumption-3">(2)</a> <a href="#ref-for-dfn-consumption-4">(3)</a> <a href="#ref-for-dfn-consumption-5">(4)</a> <a href="#ref-for-dfn-consumption-6">(5)</a> <a href="#ref-for-dfn-consumption-7">(6)</a>
  </li><li>
    <a href="#ref-for-dfn-consumption-8">6.2 JSON</a>
  </li><li>
    <a href="#ref-for-dfn-consumption-9">6.2.2 Consumption</a>
  </li><li>
    <a href="#ref-for-dfn-consumption-10">6.3 JSON-LD</a>
  </li><li>
    <a href="#ref-for-dfn-consumption-11">6.3.2 Consumption</a>
  </li><li>
    <a href="#ref-for-dfn-consumption-12">6.4 CBOR</a>
  </li><li>
    <a href="#ref-for-dfn-consumption-13">6.4.2 Consumption</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-context">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-context">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-context-1">6.3.1 Production</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-didresolutionmetadata">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-didresolutionmetadata">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-didresolutionmetadata-1">7.1 DID Resolution</a> <a href="#ref-for-dfn-didresolutionmetadata-2">(2)</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-diddocument">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-diddocument">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-diddocument-1">7.1 DID Resolution</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-diddocumentstream">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-diddocumentstream">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-diddocumentstream-1">7.1 DID Resolution</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-diddocumentmetadata">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-diddocumentmetadata">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-diddocumentmetadata-1">7.1 DID Resolution</a> <a href="#ref-for-dfn-diddocumentmetadata-2">(2)</a>
  </li><li>
    <a href="#ref-for-dfn-diddocumentmetadata-3">7.2 DID URL Dereferencing</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-equivalentid">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-equivalentid">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-equivalentid-1">7.1.3 DID Document Metadata</a> <a href="#ref-for-dfn-equivalentid-2">(2)</a> <a href="#ref-for-dfn-equivalentid-3">(3)</a> <a href="#ref-for-dfn-equivalentid-4">(4)</a> <a href="#ref-for-dfn-equivalentid-5">(5)</a> <a href="#ref-for-dfn-equivalentid-6">(6)</a> <a href="#ref-for-dfn-equivalentid-7">(7)</a> <a href="#ref-for-dfn-equivalentid-8">(8)</a> <a href="#ref-for-dfn-equivalentid-9">(9)</a> <a href="#ref-for-dfn-equivalentid-10">(10)</a> <a href="#ref-for-dfn-equivalentid-11">(11)</a> <a href="#ref-for-dfn-equivalentid-12">(12)</a>
  </li><li>
    <a href="#ref-for-dfn-equivalentid-13">9.14 Equivalence Properties</a> <a href="#ref-for-dfn-equivalentid-14">(2)</a>
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-canonicalid">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-canonicalid">Permalink</a>

      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-canonicalid-1">7.1.3 DID Document Metadata</a> <a href="#ref-for-dfn-canonicalid-2">(2)</a> <a href="#ref-for-dfn-canonicalid-3">(3)</a> <a href="#ref-for-dfn-canonicalid-4">(4)</a> <a href="#ref-for-dfn-canonicalid-5">(5)</a> <a href="#ref-for-dfn-canonicalid-6">(6)</a> <a href="#ref-for-dfn-canonicalid-7">(7)</a> <a href="#ref-for-dfn-canonicalid-8">(8)</a> <a href="#ref-for-dfn-canonicalid-9">(9)</a> <a href="#ref-for-dfn-canonicalid-10">(10)</a> <a href="#ref-for-dfn-canonicalid-11">(11)</a>
  </li><li>
    <a href="#ref-for-dfn-canonicalid-12">9.14 Equivalence Properties</a> <a href="#ref-for-dfn-canonicalid-13">(2)</a>
  </li>
  </ul>
    </aside><script id="respec-dfn-panel">(() => {
// @ts-check
if (document.respec) {
  document.respec.ready.then(dfnPanel);
} else {
  dfnPanel();
}

function dfnPanel() {
  /** @type {HTMLElement} */
  let panel;
  document.body.addEventListener("click", event => {
    if (!(event.target instanceof HTMLElement)) return;

    /** @type {HTMLElement} */
    const el = event.target;

    const action = deriveAction(el);
    switch (action) {
      case "show": {
        if (panel) hidePanel(panel);
        /** @type {HTMLElement} */
        const dfn = el.closest("dfn, .index-term");
        panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
        displayPanel(dfn, panel, { x: event.clientX, y: event.clientY });
        break;
      }
      case "dock": {
        panel.style.left = null;
        panel.style.top = null;
        panel.classList.add("docked");
        break;
      }
      case "hide": {
        hidePanel(panel);
        break;
      }
    }
  });
}

/** @param {HTMLElement} clickTarget */
function deriveAction(clickTarget) {
  const hitALink = !!clickTarget.closest("a");
  if (clickTarget.closest("dfn, .index-term")) {
    return hitALink ? null : "show";
  }
  if (clickTarget.closest(".dfn-panel")) {
    if (hitALink) {
      const clickedSelfLink = clickTarget.classList.contains("self-link");
      return clickedSelfLink ? "hide" : "dock";
    }
    const panel = clickTarget.closest(".dfn-panel");
    return panel.classList.contains("docked") ? "hide" : null;
  }
  if (document.querySelector(".dfn-panel:not([hidden])")) {
    return "hide";
  }
  return null;
}

/**
 * @param {HTMLElement} dfn
 * @param {HTMLElement} panel
 * @param {{ x: number, y: number }} clickPosition
 */
function displayPanel(dfn, panel, { x, y }) {
  panel.hidden = false;
  // distance (px) between edge of panel and the pointing triangle (caret)
  const MARGIN = 20;

  const dfnRects = dfn.getClientRects();
  // Find the `top` offset when the `dfn` can be spread across multiple lines
  let closestTop = 0;
  let minDiff = Infinity;
  for (const rect of dfnRects) {
    const { top, bottom } = rect;
    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
    if (diffFromClickY < minDiff) {
      minDiff = diffFromClickY;
      closestTop = top;
    }
  }

  const top = window.scrollY + closestTop + dfnRects[0].height;
  const left = x - MARGIN;
  panel.style.left = `${left}px`;
  panel.style.top = `${top}px`;

  // Find if the panel is flowing out of the window
  const panelRect = panel.getBoundingClientRect();
  const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
  if (panelRect.right > SCREEN_WIDTH) {
    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
    const newCaretOffset = left - newLeft;
    panel.style.left = `${newLeft}px`;
    /** @type {HTMLElement} */
    const caret = panel.querySelector(".caret");
    caret.style.left = `${newCaretOffset}px`;
  }
}

/** @param {HTMLElement} panel */
function hidePanel(panel) {
  panel.hidden = true;
  panel.classList.remove("docked");
}
})()</script><script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script></body></html>
